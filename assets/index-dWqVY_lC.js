(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function B1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vd={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function H1(){if(s_)return hl;s_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=n,hl.jsxs=n,hl}var a_;function q1(){return a_||(a_=1,vd.exports=H1()),vd.exports}var x=q1(),Ed={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function F1(){if(o_)return Rt;o_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,st={};function J(D,$,lt){this.props=D,this.context=$,this.refs=st,this.updater=lt||q}J.prototype.isReactComponent={},J.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function et(){}et.prototype=J.prototype;function nt(D,$,lt){this.props=D,this.context=$,this.refs=st,this.updater=lt||q}var rt=nt.prototype=new et;rt.constructor=nt,Z(rt,J.prototype),rt.isPureReactComponent=!0;var ot=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function O(D,$,lt,it,mt,Ct){return lt=Ct.ref,{$$typeof:r,type:D,key:$,ref:lt!==void 0?lt:null,props:Ct}}function A(D,$){return O(D.type,$,void 0,void 0,void 0,D.props)}function b(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(lt){return $[lt]})}var V=/\/+/g;function P(D,$){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):$.toString(36)}function R(){}function Ee(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function te(D,$,lt,it,mt){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var At=!1;if(D===null)At=!0;else switch(Ct){case"bigint":case"string":case"number":At=!0;break;case"object":switch(D.$$typeof){case r:case t:At=!0;break;case T:return At=D._init,te(At(D._payload),$,lt,it,mt)}}if(At)return mt=mt(D),At=it===""?"."+P(D,0):it,ot(mt)?(lt="",At!=null&&(lt=At.replace(V,"$&/")+"/"),te(mt,$,lt,"",function(Bn){return Bn})):mt!=null&&(b(mt)&&(mt=A(mt,lt+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+At)),$.push(mt)),1;At=0;var Ce=it===""?".":it+":";if(ot(D))for(var Zt=0;Zt<D.length;Zt++)it=D[Zt],Ct=Ce+P(it,Zt),At+=te(it,$,lt,Ct,mt);else if(Zt=C(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(it=D.next()).done;)it=it.value,Ct=Ce+P(it,Zt++),At+=te(it,$,lt,Ct,mt);else if(Ct==="object"){if(typeof D.then=="function")return te(Ee(D),$,lt,it,mt);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return At}function G(D,$,lt){if(D==null)return D;var it=[],mt=0;return te(D,it,"","",function(Ct){return $.call(lt,Ct,mt++)}),it}function Y(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(lt){(D._status===0||D._status===-1)&&(D._status=1,D._result=lt)},function(lt){(D._status===0||D._status===-1)&&(D._status=2,D._result=lt)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ut=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function St(){}return Rt.Children={map:G,forEach:function(D,$,lt){G(D,function(){$.apply(this,arguments)},lt)},count:function(D){var $=0;return G(D,function(){$++}),$},toArray:function(D){return G(D,function($){return $})||[]},only:function(D){if(!b(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=J,Rt.Fragment=n,Rt.Profiler=l,Rt.PureComponent=nt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return F.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,$,lt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var it=Z({},D.props),mt=D.key,Ct=void 0;if($!=null)for(At in $.ref!==void 0&&(Ct=void 0),$.key!==void 0&&(mt=""+$.key),$)!ht.call($,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&$.ref===void 0||(it[At]=$[At]);var At=arguments.length-2;if(At===1)it.children=lt;else if(1<At){for(var Ce=Array(At),Zt=0;Zt<At;Zt++)Ce[Zt]=arguments[Zt+2];it.children=Ce}return O(D.type,mt,void 0,void 0,Ct,it)},Rt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Rt.createElement=function(D,$,lt){var it,mt={},Ct=null;if($!=null)for(it in $.key!==void 0&&(Ct=""+$.key),$)ht.call($,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=$[it]);var At=arguments.length-2;if(At===1)mt.children=lt;else if(1<At){for(var Ce=Array(At),Zt=0;Zt<At;Zt++)Ce[Zt]=arguments[Zt+2];mt.children=Ce}if(D&&D.defaultProps)for(it in At=D.defaultProps,At)mt[it]===void 0&&(mt[it]=At[it]);return O(D,Ct,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:m,render:D}},Rt.isValidElement=b,Rt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:Y}},Rt.memo=function(D,$){return{$$typeof:y,type:D,compare:$===void 0?null:$}},Rt.startTransition=function(D){var $=F.T,lt={};F.T=lt;try{var it=D(),mt=F.S;mt!==null&&mt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(St,ut)}catch(Ct){ut(Ct)}finally{F.T=$}},Rt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Rt.use=function(D){return F.H.use(D)},Rt.useActionState=function(D,$,lt){return F.H.useActionState(D,$,lt)},Rt.useCallback=function(D,$){return F.H.useCallback(D,$)},Rt.useContext=function(D){return F.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,$){return F.H.useDeferredValue(D,$)},Rt.useEffect=function(D,$,lt){var it=F.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(D,$)},Rt.useId=function(){return F.H.useId()},Rt.useImperativeHandle=function(D,$,lt){return F.H.useImperativeHandle(D,$,lt)},Rt.useInsertionEffect=function(D,$){return F.H.useInsertionEffect(D,$)},Rt.useLayoutEffect=function(D,$){return F.H.useLayoutEffect(D,$)},Rt.useMemo=function(D,$){return F.H.useMemo(D,$)},Rt.useOptimistic=function(D,$){return F.H.useOptimistic(D,$)},Rt.useReducer=function(D,$,lt){return F.H.useReducer(D,$,lt)},Rt.useRef=function(D){return F.H.useRef(D)},Rt.useState=function(D){return F.H.useState(D)},Rt.useSyncExternalStore=function(D,$,lt){return F.H.useSyncExternalStore(D,$,lt)},Rt.useTransition=function(){return F.H.useTransition()},Rt.version="19.1.0",Rt}var l_;function lg(){return l_||(l_=1,Ed.exports=F1()),Ed.exports}var Wt=lg();const Nc=B1(Wt);var Td={exports:{}},fl={},Sd={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function G1(){return u_||(u_=1,function(r){function t(G,Y){var ut=G.length;G.push(Y);t:for(;0<ut;){var St=ut-1>>>1,D=G[St];if(0<l(D,Y))G[St]=Y,G[ut]=D,ut=St;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var Y=G[0],ut=G.pop();if(ut!==Y){G[0]=ut;t:for(var St=0,D=G.length,$=D>>>1;St<$;){var lt=2*(St+1)-1,it=G[lt],mt=lt+1,Ct=G[mt];if(0>l(it,ut))mt<D&&0>l(Ct,it)?(G[St]=Ct,G[mt]=ut,St=mt):(G[St]=it,G[lt]=ut,St=lt);else if(mt<D&&0>l(Ct,ut))G[St]=Ct,G[mt]=ut,St=mt;else break t}}return Y}function l(G,Y){var ut=G.sortIndex-Y.sortIndex;return ut!==0?ut:G.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],y=[],T=1,I=null,C=3,q=!1,Z=!1,st=!1,J=!1,et=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function ot(G){for(var Y=n(y);Y!==null;){if(Y.callback===null)s(y);else if(Y.startTime<=G)s(y),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=n(y)}}function F(G){if(st=!1,ot(G),!Z)if(n(p)!==null)Z=!0,ht||(ht=!0,P());else{var Y=n(y);Y!==null&&te(F,Y.startTime-G)}}var ht=!1,O=-1,A=5,b=-1;function M(){return J?!0:!(r.unstable_now()-b<A)}function V(){if(J=!1,ht){var G=r.unstable_now();b=G;var Y=!0;try{t:{Z=!1,st&&(st=!1,nt(O),O=-1),q=!0;var ut=C;try{e:{for(ot(G),I=n(p);I!==null&&!(I.expirationTime>G&&M());){var St=I.callback;if(typeof St=="function"){I.callback=null,C=I.priorityLevel;var D=St(I.expirationTime<=G);if(G=r.unstable_now(),typeof D=="function"){I.callback=D,ot(G),Y=!0;break e}I===n(p)&&s(p),ot(G)}else s(p);I=n(p)}if(I!==null)Y=!0;else{var $=n(y);$!==null&&te(F,$.startTime-G),Y=!1}}break t}finally{I=null,C=ut,q=!1}Y=void 0}}finally{Y?P():ht=!1}}}var P;if(typeof rt=="function")P=function(){rt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ee=R.port2;R.port1.onmessage=V,P=function(){Ee.postMessage(null)}}else P=function(){et(V,0)};function te(G,Y){O=et(function(){G(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(G){switch(C){case 1:case 2:case 3:var Y=3;break;default:Y=C}var ut=C;C=Y;try{return G()}finally{C=ut}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=C;C=G;try{return Y()}finally{C=ut}},r.unstable_scheduleCallback=function(G,Y,ut){var St=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?St+ut:St):ut=St,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ut+D,G={id:T++,callback:Y,priorityLevel:G,startTime:ut,expirationTime:D,sortIndex:-1},ut>St?(G.sortIndex=ut,t(y,G),n(p)===null&&G===n(y)&&(st?(nt(O),O=-1):st=!0,te(F,ut-St))):(G.sortIndex=D,t(p,G),Z||q||(Z=!0,ht||(ht=!0,P()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var Y=C;return function(){var ut=C;C=Y;try{return G.apply(this,arguments)}finally{C=ut}}}}(Ad)),Ad}var c_;function K1(){return c_||(c_=1,Sd.exports=G1()),Sd.exports}var bd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function Q1(){if(h_)return Ke;h_=1;var r=lg();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,T){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,T)},Ke.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ke.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,I=m(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:I,integrity:C,fetchPriority:q}):T==="script"&&s.d.X(p,{crossOrigin:I,integrity:C,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ke.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,I=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:I,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,y){return p(y)},Ke.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var f_;function Y1(){if(f_)return bd.exports;f_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bd.exports=Q1(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function X1(){if(d_)return fl;d_=1;var r=K1(),t=lg(),n=Y1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),e;if(f===o)return m(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case J:return"Profiler";case st:return"StrictMode";case F:return"Suspense";case ht:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case nt:return(e._context.displayName||"Context")+".Consumer";case ot:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:Ee(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Ee(e(i))}catch{}}return null}var te=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},St=[],D=-1;function $(e){return{current:e}}function lt(e){0>D||(e.current=St[D],St[D]=null,D--)}function it(e,i){D++,St[D]=e.current,e.current=i}var mt=$(null),Ct=$(null),At=$(null),Ce=$(null);function Zt(e,i){switch(it(At,i),it(Ct,e),it(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?My(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=My(i),e=Vy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(mt),it(mt,e)}function Bn(){lt(mt),lt(Ct),lt(At)}function Qi(e){e.memoizedState!==null&&it(Ce,e);var i=mt.current,a=Vy(i,e.type);i!==a&&(it(Ct,e),it(mt,a))}function di(e){Ct.current===e&&(lt(mt),lt(Ct)),Ce.current===e&&(lt(Ce),al._currentValue=ut)}var jr=Object.prototype.hasOwnProperty,Br=r.unstable_scheduleCallback,Hr=r.unstable_cancelCallback,no=r.unstable_shouldYield,Gl=r.unstable_requestPaint,pn=r.unstable_now,_h=r.unstable_getCurrentPriorityLevel,io=r.unstable_ImmediatePriority,Us=r.unstable_UserBlockingPriority,qr=r.unstable_NormalPriority,vh=r.unstable_LowPriority,Ls=r.unstable_IdlePriority,ro=r.log,Kl=r.unstable_setDisableYieldValue,oe=null,qt=null;function an(e){if(typeof ro=="function"&&Kl(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(oe,e)}catch{}}var Fe=Math.clz32?Math.clz32:Fr,Ql=Math.log,Eh=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(Ql(e)/Eh|0)|0}var Gr=256,Kr=4194304;function On(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zs(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=On(o):(v&=E,v!==0?h=On(v):a||(a=E&~e,a!==0&&(h=On(a))))):(E=o&~f,E!==0?h=On(E):v!==0?h=On(v):a||(a=o&~e,a!==0&&(h=On(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Qr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function so(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var e=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),e}function oo(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function gi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function mi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lo(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Fe(a),X=1<<K;E[K]=0,w[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var B=j[K];B!==null&&(B.lane&=-536870913)}a&=~X}o!==0&&Hn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function Hn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Fe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function uo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Fe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Jy(e.type))}function Yl(e,i){var a=Y.p;try{return Y.p=e,i()}finally{Y.p=a}}var ne=Math.random().toString(36).slice(2),Te="__reactFiber$"+ne,ge="__reactProps$"+ne,yn="__reactContainer$"+ne,co="__reactEvents$"+ne,Th="__reactListeners$"+ne,Wi="__reactHandles$"+ne,Xl="__reactResources$"+ne,Yr="__reactMarker$"+ne;function $i(e){delete e[Te],delete e[ge],delete e[co],delete e[Th],delete e[Wi]}function pi(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yn]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Ly(e);e!==null;){if(a=e[Te])return a;e=Ly(e)}return i}e=a,a=e.parentNode}return null}function qn(e){if(e=e[Te]||e[yn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function $e(e){var i=e[Xl];return i||(i=e[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[Yr]=!0}var ho=new Set,Bs={};function Nn(e,i){yi(e,i),yi(e+"Capture",i)}function yi(e,i){for(Bs[e]=i,e=0;e<i.length;e++)ho.add(i[e])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},Xr={};function Zl(e){return jr.call(Xr,e)?!0:jr.call($l,e)?!1:Wl.test(e)?Xr[e]=!0:($l[e]=!0,!1)}function Zi(e,i,a){if(Zl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Wr,Jl;function _i(e){if(Wr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Wr=i&&i[1]||"",Jl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+Jl}var Hs=!1;function qs(e,i){if(!e||Hs)return"";Hs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var j=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){j=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){j=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var w=v.split(`
`),z=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===z.length)for(o=w.length-1,h=z.length-1;1<=o&&0<=h&&w[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==z[h]){var K=`
`+w[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=h);break}}}finally{Hs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_i(a):""}function fo(e){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return qs(e.type,!1);case 11:return qs(e.type.render,!1);case 1:return qs(e.type,!0);case 31:return _i("Activity");default:return""}}function Fs(e){try{var i="";do i+=fo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function go(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Sh(e){var i=go(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Gs(e){e._valueTracker||(e._valueTracker=Sh(e))}function mo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=go(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function $r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ah=/[\n"\\]/g;function me(e){return e.replace(Ah,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function on(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ji(e,v,Ze(i)):a!=null?Ji(e,v,Ze(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function Zr(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ji(e,i,a){i==="number"&&$r(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function Jr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(te(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function _n(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||ts.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function po(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&tu(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&tu(e,f,i[f])}function yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ei=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Si=null;function _o(e){var i=qn(e);if(i&&(e=i.stateNode)){var a=e[ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(on(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ge]||null;if(!h)throw Error(s(90));on(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&mo(o)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&vi(e,!!a.multiple,i,!1)}}}var Kn=!1;function eu(e,i,a){if(Kn)return e(i,a);Kn=!0;try{var o=e(i);return o}finally{if(Kn=!1,(Ti!==null||Si!==null)&&(Yu(),Ti&&(i=Ti,e=Si,Si=Ti=null,_o(i),e)))for(i=0;i<e.length;i++)_o(e[i])}}function es(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ge]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Mn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){En=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{En=!1}var Qn=null,tr=null,Ai=null;function vo(){if(Ai)return Ai;var e,i=tr,a=i.length,o,h="value"in Qn?Qn.value:Qn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Ai=h.slice(e,1<o?1-o:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function Eo(){return!1}function De(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:Eo,this.isPropagationStopped=Eo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=De(Bt),is=T({},Bt,{view:0,detail:0}),nu=De(is),Ys,Xs,Wn,rs=T({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Ys=e.screenX-Wn.screenX,Xs=e.screenY-Wn.screenY):Xs=Ys=0,Wn=e),Ys)},movementY:function(e){return"movementY"in e?e.movementY:Xs}}),Tn=De(rs),iu=T({},rs,{dataTransfer:0}),Rh=De(iu),ss=T({},is,{relatedTarget:0}),Ws=De(ss),To=T({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=De(To),ru=T({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zs=De(ru),Ih=T({},Bt,{data:0}),So=De(Ih),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=au[e])?!!i[e]:!1}function os(){return Ao}var ou=T({},is,{key:function(e){if(e.key){var i=as[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Js=De(ou),lu=T({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=De(lu),bi=T({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),uu=De(bi),cu=T({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),hu=De(cu),fu=T({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=De(fu),Je=T({},Bt,{newState:0,oldState:0}),du=De(Je),gu=[9,13,27,32],$n=Mn&&"CompositionEvent"in window,u=null;Mn&&"documentMode"in document&&(u=document.documentMode);var g=Mn&&"TextEvent"in window&&!u,_=Mn&&(!$n||u&&8<u&&11>=u),S=" ",U=!1;function H(e,i){switch(e){case"keyup":return gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Se(e,i){switch(e){case"compositionend":return at(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return e=i.data,e===S&&U?null:e;default:return null}}function kt(e,i){if(Pt)return e==="compositionend"||!$n&&H(e,i)?(e=vo(),Ai=tr=Qn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!xe[e.type]:i==="textarea"}function wi(e,i,a,o){Ti?Si?Si.push(o):Si=[o]:Ti=o,i=tc(i,"onChange"),0<i.length&&(a=new Qs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ue=null,Zn=null;function wo(e){Cy(e,0)}function mu(e){var i=Fn(e);if(mo(i))return e}function Xg(e,i){if(e==="change")return i}var Wg=!1;if(Mn){var Ch;if(Mn){var Dh="oninput"in document;if(!Dh){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),Dh=typeof $g.oninput=="function"}Ch=Dh}else Ch=!1;Wg=Ch&&(!document.documentMode||9<document.documentMode)}function Zg(){Ue&&(Ue.detachEvent("onpropertychange",Jg),Zn=Ue=null)}function Jg(e){if(e.propertyName==="value"&&mu(Zn)){var i=[];wi(i,Zn,e,vn(e)),eu(wo,i)}}function yT(e,i,a){e==="focusin"?(Zg(),Ue=i,Zn=a,Ue.attachEvent("onpropertychange",Jg)):e==="focusout"&&Zg()}function _T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(Zn)}function vT(e,i){if(e==="click")return mu(i)}function ET(e,i){if(e==="input"||e==="change")return mu(i)}function TT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ln=typeof Object.is=="function"?Object.is:TT;function Ro(e,i){if(ln(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!jr.call(i,h)||!ln(e[h],i[h]))return!1}return!0}function tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function em(e,i){var a=tm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=tm(a)}}function nm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?nm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function im(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=$r(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=$r(e.document)}return i}function xh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ST=Mn&&"documentMode"in document&&11>=document.documentMode,ea=null,Oh=null,Io=null,Nh=!1;function rm(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nh||ea==null||ea!==$r(o)||(o=ea,"selectionStart"in o&&xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Ro(Io,o)||(Io=o,o=tc(Oh,"onSelect"),0<o.length&&(i=new Qs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ea)))}function ls(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var na={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},Mh={},sm={};Mn&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function us(e){if(Mh[e])return Mh[e];if(!na[e])return e;var i=na[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in sm)return Mh[e]=i[a];return e}var am=us("animationend"),om=us("animationiteration"),lm=us("animationstart"),AT=us("transitionrun"),bT=us("transitionstart"),wT=us("transitioncancel"),um=us("transitionend"),cm=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Vn(e,i){cm.set(e,i),Nn(i,[e])}var hm=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=hm.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Fs(i)},hm.set(e,i),i)}return{value:e,source:i,stack:Fs(i)}}var An=[],ia=0,Ph=0;function pu(){for(var e=ia,i=Ph=ia=0;i<e;){var a=An[i];An[i++]=null;var o=An[i];An[i++]=null;var h=An[i];An[i++]=null;var f=An[i];if(An[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&fm(a,h,f)}}function yu(e,i,a,o){An[ia++]=e,An[ia++]=i,An[ia++]=a,An[ia++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function kh(e,i,a,o){return yu(e,i,a,o),_u(e)}function ra(e,i){return yu(e,null,null,i),_u(e)}function fm(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-Fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function _u(e){if(50<Zo)throw Zo=0,qf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var sa={};function RT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,i,a,o){return new RT(e,i,a,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ri(e,i){var a=e.alternate;return a===null?(a=un(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function dm(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function vu(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")Uh(e)&&(v=1);else if(typeof e=="string")v=C1(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=un(31,a,i,h),e.elementType=b,e.lanes=f,e;case Z:return cs(a.children,h,f,i);case st:v=8,h|=24;break;case J:return e=un(12,a,i,h|2),e.elementType=J,e.lanes=f,e;case F:return e=un(13,a,i,h),e.elementType=F,e.lanes=f,e;case ht:return e=un(19,a,i,h),e.elementType=ht,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:case rt:v=10;break t;case nt:v=9;break t;case ot:v=11;break t;case O:v=14;break t;case A:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=un(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function cs(e,i,a,o){return e=un(7,e,o,i),e.lanes=a,e}function Lh(e,i,a){return e=un(6,e,null,i),e.lanes=a,e}function zh(e,i,a){return i=un(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var aa=[],oa=0,Eu=null,Tu=0,bn=[],wn=0,hs=null,Ii=1,Ci="";function fs(e,i){aa[oa++]=Tu,aa[oa++]=Eu,Eu=e,Tu=i}function gm(e,i,a){bn[wn++]=Ii,bn[wn++]=Ci,bn[wn++]=hs,hs=e;var o=Ii;e=Ci;var h=32-Fe(o)-1;o&=~(1<<h),a+=1;var f=32-Fe(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ii=1<<32-Fe(i)+h|a<<h|o,Ci=f+e}else Ii=1<<f|a<<h|o,Ci=e}function jh(e){e.return!==null&&(fs(e,1),gm(e,1,0))}function Bh(e){for(;e===Eu;)Eu=aa[--oa],aa[oa]=null,Tu=aa[--oa],aa[oa]=null;for(;e===hs;)hs=bn[--wn],bn[wn]=null,Ci=bn[--wn],bn[wn]=null,Ii=bn[--wn],bn[wn]=null}var tn=null,le=null,jt=!1,ds=null,Jn=!1,Hh=Error(s(519));function gs(e){var i=Error(s(418,""));throw xo(Sn(i,e)),Hh}function mm(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Te]=e,i[ge]=o,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<tl.length;a++)Ot(tl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),Zr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Gs(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),Jr(i,o.value,o.defaultValue,o.children),Gs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Ny(i.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),o.onScroll!=null&&Ot("scroll",i),o.onScrollEnd!=null&&Ot("scrollend",i),o.onClick!=null&&(i.onclick=ec),i=!0):i=!1,i||gs(e)}function pm(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:tn=tn.return}}function Co(e){if(e!==tn)return!1;if(!jt)return pm(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sd(e.type,e.memoizedProps)),a=!a),a&&le&&gs(e),pm(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){le=kn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,pr(e.type)?(e=ud,ud=null,le=e):le=i):le=tn?kn(e.stateNode.nextSibling):null;return!0}function Do(){le=tn=null,jt=!1}function ym(){var e=ds;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ds=null),e}function xo(e){ds===null?ds=[e]:ds.push(e)}var qh=$(null),ms=null,Di=null;function er(e,i,a){it(qh,i._currentValue),i._currentValue=a}function xi(e){e._currentValue=qh.current,lt(qh)}function Fh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Gh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<i.length;w++)if(E.context===i[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Fh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Fh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Oo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;ln(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Gh(i,e,a,o),i.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ps(e){ms=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return _m(ms,e)}function Au(e,i){return ms===null&&ps(e),_m(e,i)}function _m(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Di=Di.next=i;return a}var IT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},CT=r.unstable_scheduleCallback,DT=r.unstable_NormalPriority,be={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new IT,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&CT(DT,function(){e.controller.abort()})}var Mo=null,Qh=0,la=0,ua=null;function xT(e,i){if(Mo===null){var a=Mo=[];Qh=0,la=Wf(),ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Qh++,i.then(vm,vm),i}function vm(){if(--Qh===0&&Mo!==null){ua!==null&&(ua.status="fulfilled");var e=Mo;Mo=null,la=0,ua=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function OT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Em=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&xT(e,i),Em!==null&&Em(e,i)};var ys=$(null);function Yh(){var e=ys.current;return e!==null?e:Jt.pooledCache}function bu(e,i){i===null?it(ys,ys.current):it(ys,i.pool)}function Tm(){var e=Yh();return e===null?null:{parent:be._currentValue,pool:e}}var Vo=Error(s(460)),Sm=Error(s(474)),wu=Error(s(542)),Xh={then:function(){}};function Am(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ru(){}function bm(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ru,Ru),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rm(e),e;default:if(typeof i.status=="string")i.then(Ru,Ru);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rm(e),e}throw Po=i,Vo}}var Po=null;function wm(){if(Po===null)throw Error(s(459));var e=Po;return Po=null,e}function Rm(e){if(e===Vo||e===wu)throw Error(s(483))}var nr=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=_u(e),fm(e,null,a),i}return yu(e,o,i,a),_u(e)}function ko(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,uo(e,a)}}function Zh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Jh=!1;function Uo(){if(Jh){var e=ua;if(e!==null)throw e}}function Lo(e,i,a,o){Jh=!1;var h=e.updateQueue;nr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,z=w.next;w.next=null,v===null?f=z:v.next=z,v=w;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=w))}if(f!==null){var X=h.baseState;v=0,K=z=w=null,E=f;do{var j=E.lane&-536870913,B=j!==E.lane;if(B?(Ut&j)===j:(o&j)===j){j!==0&&j===la&&(Jh=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=e,yt=E;j=i;var Xt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){X=Tt.call(Xt,X,j);break t}X=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,j=typeof Tt=="function"?Tt.call(Xt,X,j):Tt,j==null)break t;X=T({},X,j);break t;case 2:nr=!0}}j=E.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[j]:B.push(j))}else B={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=B,w=X):K=K.next=B,v|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);K===null&&(w=X),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),fr|=v,e.lanes=v,e.memoizedState=X}}function Im(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Cm(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Im(a[e],i)}var ca=$(null),Iu=$(0);function Dm(e,i){e=Ui,it(Iu,e),it(ca,i),Ui=e|i.baseLanes}function tf(){it(Iu,Ui),it(ca,ca.current)}function ef(){Ui=Iu.current,lt(ca),lt(Iu)}var sr=0,It=null,Qt=null,pe=null,Cu=!1,ha=!1,_s=!1,Du=0,zo=0,fa=null,NT=0;function he(){throw Error(s(321))}function nf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!ln(e[a],i[a]))return!1;return!0}function rf(e,i,a,o,h,f){return sr=f,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?fp:dp,_s=!1,f=a(o,h),_s=!1,ha&&(f=Om(i,a,o,h)),xm(e),f}function xm(e){G.H=Pu;var i=Qt!==null&&Qt.next!==null;if(sr=0,pe=Qt=It=null,Cu=!1,zo=0,fa=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Su(e)&&(Oe=!0))}function Om(e,i,a,o){It=e;var h=0;do{if(ha&&(fa=null),zo=0,ha=!1,25<=h)throw Error(s(301));if(h+=1,pe=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=zT,f=i(a,o)}while(ha);return f}function MT(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?jo(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(It.flags|=1024),i}function sf(){var e=Du!==0;return Du=0,e}function af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function of(e){if(Cu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Cu=!1}sr=0,pe=Qt=It=null,ha=!1,zo=Du=0,fa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?It.memoizedState=pe=e:pe=pe.next=e,pe}function ye(){if(Qt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=pe===null?It.memoizedState:pe.next;if(i!==null)pe=i,Qt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},pe===null?It.memoizedState=pe=e:pe=pe.next=e}return pe}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var i=zo;return zo+=1,fa===null&&(fa=[]),e=bm(fa,e,i),i=It,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?fp:dp),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===rt)return Ge(e)}throw Error(s(438,String(e)))}function uf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lf(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=M;return i.index++,a}function Oi(e,i){return typeof i=="function"?i(e):i}function Ou(e){var i=ye();return cf(i,Qt,e)}function cf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,w=null,z=i,K=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ut&X)===X:(sr&X)===X){var j=z.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===la&&(K=!0);else if((sr&j)===j){z=z.next,j===la&&(K=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=X,v=f):w=w.next=X,It.lanes|=j,fr|=j;X=z.action,_s&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else j={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=j,v=f):w=w.next=j,It.lanes|=X,fr|=X;z=z.next}while(z!==null&&z!==i);if(w===null?v=f:w.next=E,!ln(f,e.memoizedState)&&(Oe=!0,K&&(a=ua,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function hf(e){var i=ye(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);ln(f,i.memoizedState)||(Oe=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Nm(e,i,a){var o=It,h=ye(),f=jt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!ln((Qt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var E=Pm.bind(null,o,h,e);if(Bo(2048,8,E,[e]),h.getSnapshot!==i||v||pe!==null&&pe.memoizedState.tag&1){if(o.flags|=2048,da(9,Nu(),Vm.bind(null,o,h,a,i),null),Jt===null)throw Error(s(349));f||(sr&124)!==0||Mm(o,i,a)}return a}function Mm(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=lf(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Vm(e,i,a,o){i.value=a,i.getSnapshot=o,km(i)&&Um(e)}function Pm(e,i,a){return a(function(){km(i)&&Um(e)})}function km(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!ln(e,a)}catch{return!0}}function Um(e){var i=ra(e,2);i!==null&&gn(i,e,2)}function ff(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),_s){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function Lm(e,i,a,o){return e.baseState=a,cf(e,Qt,typeof o=="function"?o:Oi)}function VT(e,i,a,o,h){if(Vu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,zm(i,f)):(f.next=a.next,i.pending=a.next=f)}}function zm(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=G.T,v={};G.T=v;try{var E=a(h,o),w=G.S;w!==null&&w(v,E),jm(e,i,E)}catch(z){df(e,i,z)}finally{G.T=f}}else try{f=a(h,o),jm(e,i,f)}catch(z){df(e,i,z)}}function jm(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Bm(e,i,o)},function(o){return df(e,i,o)}):Bm(e,i,a)}function Bm(e,i,a){i.status="fulfilled",i.value=a,Hm(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,zm(e,a)))}function df(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Hm(i),i=i.next;while(i!==o)}e.action=null}function Hm(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function qm(e,i){return i}function Fm(e,i){if(jt){var a=Jt.formState;if(a!==null){t:{var o=It;if(jt){if(le){e:{for(var h=le,f=Jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=kn(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:i},a.queue=o,a=up.bind(null,It,o),o.dispatch=a,o=ff(!1),f=_f.bind(null,It,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=VT.bind(null,It,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Gm(e){var i=ye();return Km(i,Qt,e)}function Km(e,i,a){if(i=cf(e,i,qm)[0],e=Ou(Oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=jo(i)}catch(v){throw v===Vo?wu:v}else o=i;i=ye();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,da(9,Nu(),PT.bind(null,h,a),null)),[o,f,e]}function PT(e,i){e.action=i}function Qm(e){var i=ye(),a=Qt;if(a!==null)return Km(i,a,e);ye(),i=i.memoizedState,a=ye();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function da(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=It.updateQueue,i===null&&(i=lf(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Nu(){return{destroy:void 0,resource:void 0}}function Ym(){return ye().memoizedState}function Mu(e,i,a,o){var h=en();o=o===void 0?null:o,It.flags|=e,h.memoizedState=da(1|i,Nu(),a,o)}function Bo(e,i,a,o){var h=ye();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&nf(o,Qt.memoizedState.deps)?h.memoizedState=da(i,f,a,o):(It.flags|=e,h.memoizedState=da(1|i,f,a,o))}function Xm(e,i){Mu(8390656,8,e,i)}function Wm(e,i){Bo(2048,8,e,i)}function $m(e,i){return Bo(4,2,e,i)}function Zm(e,i){return Bo(4,4,e,i)}function Jm(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function tp(e,i,a){a=a!=null?a.concat([e]):null,Bo(4,4,Jm.bind(null,i,e),a)}function gf(){}function ep(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&nf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function np(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&nf(i,o[1]))return o[0];if(o=e(),_s){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o}function mf(e,i,a){return a===void 0||(sr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=sy(),It.lanes|=e,fr|=e,a)}function ip(e,i,a,o){return ln(a,i)?a:ca.current!==null?(e=mf(e,a,o),ln(e,i)||(Oe=!0),e):(sr&42)===0?(Oe=!0,e.memoizedState=a):(e=sy(),It.lanes|=e,fr|=e,i)}function rp(e,i,a,o,h){var f=Y.p;Y.p=f!==0&&8>f?f:8;var v=G.T,E={};G.T=E,_f(e,!1,i,a);try{var w=h(),z=G.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=OT(w,o);Ho(e,i,K,dn(e))}else Ho(e,i,o,dn(e))}catch(X){Ho(e,i,{then:function(){},status:"rejected",reason:X},dn())}finally{Y.p=f,G.T=v}}function kT(){}function pf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=sp(e).queue;rp(e,h,i,ut,a===null?kT:function(){return ap(e),a(o)})}function sp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ap(e){var i=sp(e).next.queue;Ho(e,i,{},dn())}function yf(){return Ge(al)}function op(){return ye().memoizedState}function lp(){return ye().memoizedState}function UT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();e=ir(a);var o=rr(i,e,a);o!==null&&(gn(o,i,a),ko(o,i,a)),i={cache:Kh()},e.payload=i;return}i=i.return}}function LT(e,i,a){var o=dn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vu(e)?cp(i,a):(a=kh(e,i,a,o),a!==null&&(gn(a,e,o),hp(a,i,o)))}function up(e,i,a){var o=dn();Ho(e,i,a,o)}function Ho(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))cp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,ln(E,v))return yu(e,i,h,0),Jt===null&&pu(),!1}catch{}finally{}if(a=kh(e,i,h,o),a!==null)return gn(a,e,o),hp(a,i,o),!0}return!1}function _f(e,i,a,o){if(o={lane:2,revertLane:Wf(),action:o,hasEagerState:!1,eagerState:null,next:null},Vu(e)){if(i)throw Error(s(479))}else i=kh(e,a,o,2),i!==null&&gn(i,e,2)}function Vu(e){var i=e.alternate;return e===It||i!==null&&i===It}function cp(e,i){ha=Cu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function hp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,uo(e,a)}}var Pu={readContext:Ge,use:xu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},fp={readContext:Ge,use:xu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Xm,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Mu(4194308,4,Jm.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Mu(4194308,4,e,i)},useInsertionEffect:function(e,i){Mu(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(_s){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(_s){an(!0);try{a(i)}finally{an(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=LT.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=ff(e);var i=e.queue,a=up.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(e,i){var a=en();return mf(a,e,i)},useTransition:function(){var e=ff(!1);return e=rp.bind(null,It,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=It,h=en();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(Ut&124)!==0||Mm(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Xm(Pm.bind(null,o,f,e),[e]),o.flags|=2048,da(9,Nu(),Vm.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=Jt.identifierPrefix;if(jt){var a=Ci,o=Ii;a=(o&~(1<<32-Fe(o)-1)).toString(32)+a,i=""+i+"R"+a,a=Du++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=NT++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:yf,useFormState:Fm,useActionState:Fm,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_f.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:uf,useCacheRefresh:function(){return en().memoizedState=UT.bind(null,It)}},dp={readContext:Ge,use:xu,useCallback:ep,useContext:Ge,useEffect:Wm,useImperativeHandle:tp,useInsertionEffect:$m,useLayoutEffect:Zm,useMemo:np,useReducer:Ou,useRef:Ym,useState:function(){return Ou(Oi)},useDebugValue:gf,useDeferredValue:function(e,i){var a=ye();return ip(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Ou(Oi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:jo(e),i]},useSyncExternalStore:Nm,useId:op,useHostTransitionStatus:yf,useFormState:Gm,useActionState:Gm,useOptimistic:function(e,i){var a=ye();return Lm(a,Qt,e,i)},useMemoCache:uf,useCacheRefresh:lp},zT={readContext:Ge,use:xu,useCallback:ep,useContext:Ge,useEffect:Wm,useImperativeHandle:tp,useInsertionEffect:$m,useLayoutEffect:Zm,useMemo:np,useReducer:hf,useRef:Ym,useState:function(){return hf(Oi)},useDebugValue:gf,useDeferredValue:function(e,i){var a=ye();return Qt===null?mf(a,e,i):ip(a,Qt.memoizedState,e,i)},useTransition:function(){var e=hf(Oi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:jo(e),i]},useSyncExternalStore:Nm,useId:op,useHostTransitionStatus:yf,useFormState:Qm,useActionState:Qm,useOptimistic:function(e,i){var a=ye();return Qt!==null?Lm(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:uf,useCacheRefresh:lp},ga=null,qo=0;function ku(e){var i=qo;return qo+=1,ga===null&&(ga=[]),bm(ga,e,i)}function Fo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Uu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function gp(e){var i=e._init;return i(e._payload)}function mp(e){function i(k,N){if(e){var L=k.deletions;L===null?(k.deletions=[N],k.flags|=16):L.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Ri(k,N),k.index=0,k.sibling=null,k}function f(k,N,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<N?(k.flags|=67108866,N):L):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,L,Q){return N===null||N.tag!==6?(N=Lh(L,k.mode,Q),N.return=k,N):(N=h(N,L),N.return=k,N)}function w(k,N,L,Q){var ft=L.type;return ft===Z?K(k,N,L.props.children,Q,L.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&gp(ft)===N.type)?(N=h(N,L.props),Fo(N,L),N.return=k,N):(N=vu(L.type,L.key,L.props,null,k.mode,Q),Fo(N,L),N.return=k,N)}function z(k,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=zh(L,k.mode,Q),N.return=k,N):(N=h(N,L.children||[]),N.return=k,N)}function K(k,N,L,Q,ft){return N===null||N.tag!==7?(N=cs(L,k.mode,Q,ft),N.return=k,N):(N=h(N,L),N.return=k,N)}function X(k,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Lh(""+N,k.mode,L),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return L=vu(N.type,N.key,N.props,null,k.mode,L),Fo(L,N),L.return=k,L;case q:return N=zh(N,k.mode,L),N.return=k,N;case A:var Q=N._init;return N=Q(N._payload),X(k,N,L)}if(te(N)||P(N))return N=cs(N,k.mode,L,null),N.return=k,N;if(typeof N.then=="function")return X(k,ku(N),L);if(N.$$typeof===rt)return X(k,Au(k,N),L);Uu(k,N)}return null}function j(k,N,L,Q){var ft=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ft!==null?null:E(k,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===ft?w(k,N,L,Q):null;case q:return L.key===ft?z(k,N,L,Q):null;case A:return ft=L._init,L=ft(L._payload),j(k,N,L,Q)}if(te(L)||P(L))return ft!==null?null:K(k,N,L,Q,null);if(typeof L.then=="function")return j(k,N,ku(L),Q);if(L.$$typeof===rt)return j(k,N,Au(k,L),Q);Uu(k,L)}return null}function B(k,N,L,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,E(N,k,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return k=k.get(Q.key===null?L:Q.key)||null,w(N,k,Q,ft);case q:return k=k.get(Q.key===null?L:Q.key)||null,z(N,k,Q,ft);case A:var Dt=Q._init;return Q=Dt(Q._payload),B(k,N,L,Q,ft)}if(te(Q)||P(Q))return k=k.get(L)||null,K(N,k,Q,ft,null);if(typeof Q.then=="function")return B(k,N,L,ku(Q),ft);if(Q.$$typeof===rt)return B(k,N,L,Au(N,Q),ft);Uu(N,Q)}return null}function Tt(k,N,L,Q){for(var ft=null,Dt=null,dt=N,_t=N=0,Me=null;dt!==null&&_t<L.length;_t++){dt.index>_t?(Me=dt,dt=null):Me=dt.sibling;var zt=j(k,dt,L[_t],Q);if(zt===null){dt===null&&(dt=Me);break}e&&dt&&zt.alternate===null&&i(k,dt),N=f(zt,N,_t),Dt===null?ft=zt:Dt.sibling=zt,Dt=zt,dt=Me}if(_t===L.length)return a(k,dt),jt&&fs(k,_t),ft;if(dt===null){for(;_t<L.length;_t++)dt=X(k,L[_t],Q),dt!==null&&(N=f(dt,N,_t),Dt===null?ft=dt:Dt.sibling=dt,Dt=dt);return jt&&fs(k,_t),ft}for(dt=o(dt);_t<L.length;_t++)Me=B(dt,k,_t,L[_t],Q),Me!==null&&(e&&Me.alternate!==null&&dt.delete(Me.key===null?_t:Me.key),N=f(Me,N,_t),Dt===null?ft=Me:Dt.sibling=Me,Dt=Me);return e&&dt.forEach(function(Tr){return i(k,Tr)}),jt&&fs(k,_t),ft}function yt(k,N,L,Q){if(L==null)throw Error(s(151));for(var ft=null,Dt=null,dt=N,_t=N=0,Me=null,zt=L.next();dt!==null&&!zt.done;_t++,zt=L.next()){dt.index>_t?(Me=dt,dt=null):Me=dt.sibling;var Tr=j(k,dt,zt.value,Q);if(Tr===null){dt===null&&(dt=Me);break}e&&dt&&Tr.alternate===null&&i(k,dt),N=f(Tr,N,_t),Dt===null?ft=Tr:Dt.sibling=Tr,Dt=Tr,dt=Me}if(zt.done)return a(k,dt),jt&&fs(k,_t),ft;if(dt===null){for(;!zt.done;_t++,zt=L.next())zt=X(k,zt.value,Q),zt!==null&&(N=f(zt,N,_t),Dt===null?ft=zt:Dt.sibling=zt,Dt=zt);return jt&&fs(k,_t),ft}for(dt=o(dt);!zt.done;_t++,zt=L.next())zt=B(dt,k,_t,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&dt.delete(zt.key===null?_t:zt.key),N=f(zt,N,_t),Dt===null?ft=zt:Dt.sibling=zt,Dt=zt);return e&&dt.forEach(function(j1){return i(k,j1)}),jt&&fs(k,_t),ft}function Xt(k,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:t:{for(var ft=L.key;N!==null;){if(N.key===ft){if(ft=L.type,ft===Z){if(N.tag===7){a(k,N.sibling),Q=h(N,L.props.children),Q.return=k,k=Q;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&gp(ft)===N.type){a(k,N.sibling),Q=h(N,L.props),Fo(Q,L),Q.return=k,k=Q;break t}a(k,N);break}else i(k,N);N=N.sibling}L.type===Z?(Q=cs(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=vu(L.type,L.key,L.props,null,k.mode,Q),Fo(Q,L),Q.return=k,k=Q)}return v(k);case q:t:{for(ft=L.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(k,N.sibling),Q=h(N,L.children||[]),Q.return=k,k=Q;break t}else{a(k,N);break}else i(k,N);N=N.sibling}Q=zh(L,k.mode,Q),Q.return=k,k=Q}return v(k);case A:return ft=L._init,L=ft(L._payload),Xt(k,N,L,Q)}if(te(L))return Tt(k,N,L,Q);if(P(L)){if(ft=P(L),typeof ft!="function")throw Error(s(150));return L=ft.call(L),yt(k,N,L,Q)}if(typeof L.then=="function")return Xt(k,N,ku(L),Q);if(L.$$typeof===rt)return Xt(k,N,Au(k,L),Q);Uu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(k,N.sibling),Q=h(N,L),Q.return=k,k=Q):(a(k,N),Q=Lh(L,k.mode,Q),Q.return=k,k=Q),v(k)):a(k,N)}return function(k,N,L,Q){try{qo=0;var ft=Xt(k,N,L,Q);return ga=null,ft}catch(dt){if(dt===Vo||dt===wu)throw dt;var Dt=un(29,dt,null,k.mode);return Dt.lanes=Q,Dt.return=k,Dt}finally{}}}var ma=mp(!0),pp=mp(!1),Rn=$(null),ti=null;function ar(e){var i=e.alternate;it(we,we.current&1),it(Rn,e),ti===null&&(i===null||ca.current!==null||i.memoizedState!==null)&&(ti=e)}function yp(e){if(e.tag===22){if(it(we,we.current),it(Rn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else or()}function or(){it(we,we.current),it(Rn,Rn.current)}function Ni(e){lt(Rn),ti===e&&(ti=null),lt(we)}var we=$(0);function Lu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ld(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ef={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=dn(),h=ir(o);h.payload=i,a!=null&&(h.callback=a),i=rr(e,h,o),i!==null&&(gn(i,e,o),ko(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=dn(),h=ir(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=rr(e,h,o),i!==null&&(gn(i,e,o),ko(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=dn(),o=ir(a);o.tag=2,i!=null&&(o.callback=i),i=rr(e,o,a),i!==null&&(gn(i,e,a),ko(i,e,a))}};function _p(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!Ro(a,o)||!Ro(h,f):!0}function vp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Ef.enqueueReplaceState(i,i.state,null)}function vs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ep(e){zu(e)}function Tp(e){console.error(e)}function Sp(e){zu(e)}function ju(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ap(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,i,a){return a=ir(a),a.tag=3,a.payload={element:null},a.callback=function(){ju(e,i)},a}function bp(e){return e=ir(e),e.tag=3,e}function wp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ap(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ap(i,a,o),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function jT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Oo(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ti===null?Gf():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Qf(e,o,h)),!1;case 22:return a.flags|=65536,o===Xh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Qf(e,o,h)),!1}throw Error(s(435,a.tag))}return Qf(e,o,h),Gf(),!1}if(jt)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Hh&&(e=Error(s(422),{cause:o}),xo(Sn(e,a)))):(o!==Hh&&(i=Error(s(423),{cause:o}),xo(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Sn(o,a),h=Tf(e.stateNode,o,h),Zh(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=Sn(f,a),$o===null?$o=[f]:$o.push(f),ue!==4&&(ue=2),i===null)return!0;o=Sn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Tf(a.stateNode,o,e),Zh(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(dr===null||!dr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=bp(h),wp(h,e,a,o),Zh(a,h),!1}a=a.return}while(a!==null);return!1}var Rp=Error(s(461)),Oe=!1;function Le(e,i,a,o){i.child=e===null?pp(i,null,a,o):ma(i,e.child,a,o)}function Ip(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ps(i),o=rf(e,i,a,v,f,h),E=sf(),e!==null&&!Oe?(af(e,i,h),Mi(e,i,h)):(jt&&E&&jh(i),i.flags|=1,Le(e,i,o,h),i.child)}function Cp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Dp(e,i,f,o,h)):(e=vu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Df(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(v,o)&&e.ref===i.ref)return Mi(e,i,h)}return i.flags|=1,e=Ri(f,o),e.ref=i.ref,e.return=i,i.child=e}function Dp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Ro(f,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=f,Df(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Mi(e,i,h)}return Sf(e,i,a,o,h)}function xp(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Op(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(i,f!==null?f.cachePool:null),f!==null?Dm(i,f):tf(),yp(i);else return i.lanes=i.childLanes=536870912,Op(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(bu(i,f.cachePool),Dm(i,f),or(),i.memoizedState=null):(e!==null&&bu(i,null),tf(),or());return Le(e,i,h,a),i.child}function Op(e,i,a,o){var h=Yh();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&bu(i,null),tf(),yp(i),e!==null&&Oo(e,i,o,!0),null}function Bu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Sf(e,i,a,o,h){return ps(i),a=rf(e,i,a,o,void 0,h),o=sf(),e!==null&&!Oe?(af(e,i,h),Mi(e,i,h)):(jt&&o&&jh(i),i.flags|=1,Le(e,i,a,h),i.child)}function Np(e,i,a,o,h,f){return ps(i),i.updateQueue=null,a=Om(i,o,a,h),xm(e),o=sf(),e!==null&&!Oe?(af(e,i,f),Mi(e,i,f)):(jt&&o&&jh(i),i.flags|=1,Le(e,i,a,f),i.child)}function Mp(e,i,a,o,h){if(ps(i),i.stateNode===null){var f=sa,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ge(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ef,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Wh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ge(v):sa,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Ef.enqueueReplaceState(f,f.state,null),Lo(i,o,f,h),Uo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,w=vs(a,E);f.props=w;var z=f.context,K=a.contextType;v=sa,typeof K=="object"&&K!==null&&(v=Ge(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==v)&&vp(i,f,o,v),nr=!1;var j=i.memoizedState;f.state=j,Lo(i,o,f,h),Uo(),z=i.memoizedState,E||j!==z||nr?(typeof X=="function"&&(vf(i,a,X,o),z=i.memoizedState),(w=nr||_p(i,a,w,o,j,z,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=v,o=w):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,$h(e,i),v=i.memoizedProps,K=vs(a,v),f.props=K,X=i.pendingProps,j=f.context,z=a.contextType,w=sa,typeof z=="object"&&z!==null&&(w=Ge(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==X||j!==w)&&vp(i,f,o,w),nr=!1,j=i.memoizedState,f.state=j,Lo(i,o,f,h),Uo();var B=i.memoizedState;v!==X||j!==B||nr||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(vf(i,a,E,o),B=i.memoizedState),(K=nr||_p(i,a,K,o,j,B,w)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,w)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=w,o=K):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Bu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ma(i,e.child,null,h),i.child=ma(i,null,a,h)):Le(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Mi(e,i,h),e}function Vp(e,i,a,o){return Do(),i.flags|=256,Le(e,i,a,o),i.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Tm()}}function wf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=In),e}function Pp(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?ar(i):or(),jt){var E=le,w;if(w=E){t:{for(w=E,E=Jn;w.nodeType!==8;){if(!E){E=null;break t}if(w=kn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(i.memoizedState={dehydrated:E,treeContext:hs!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},w=un(18,null,null,0),w.stateNode=E,w.return=i,i.child=w,tn=i,le=null,w=!0):w=!1}w||gs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ld(E)?i.lanes=32:i.lanes=536870912,null;Ni(i)}return E=o.children,o=o.fallback,h?(or(),h=i.mode,E=Hu({mode:"hidden",children:E},h),o=cs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=bf(a),h.childLanes=wf(e,v,a),i.memoizedState=Af,o):(ar(i),Rf(i,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)i.flags&256?(ar(i),i.flags&=-257,i=If(e,i,a)):i.memoizedState!==null?(or(),i.child=e.child,i.flags|=128,i=null):(or(),h=o.fallback,E=i.mode,o=Hu({mode:"visible",children:o.children},E),h=cs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ma(i,e.child,null,a),o=i.child,o.memoizedState=bf(a),o.childLanes=wf(e,v,a),i.memoizedState=Af,i=h);else if(ar(i),ld(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(s(419)),o.stack="",o.digest=v,xo({value:o,source:null,stack:null}),i=If(e,i,a)}else if(Oe||Oo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Jt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Yi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==w.retryLane))throw w.retryLane=o,ra(e,o),gn(v,e,o),Rp;E.data==="$?"||Gf(),i=If(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,le=kn(E.nextSibling),tn=i,jt=!0,ds=null,Jn=!1,e!==null&&(bn[wn++]=Ii,bn[wn++]=Ci,bn[wn++]=hs,Ii=e.id,Ci=e.overflow,hs=i),i=Rf(i,o.children),i.flags|=4096);return i}return h?(or(),h=o.fallback,E=i.mode,w=e.child,z=w.sibling,o=Ri(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,z!==null?h=Ri(z,h):(h=cs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=bf(a):(w=E.cachePool,w!==null?(z=be._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Tm(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=wf(e,v,a),i.memoizedState=Af,o):(ar(i),a=e.child,e=a.sibling,a=Ri(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Rf(e,i){return i=Hu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Hu(e,i){return e=un(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function If(e,i,a){return ma(i,e.child,null,a),e=Rf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function kp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Fh(e.return,i,a)}function Cf(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Up(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Le(e,i,o.children,a),o=we.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,a,i);else if(e.tag===19)kp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(it(we,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Lu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Cf(i,!0,a,null,f);break;case"together":Cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),fr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Oo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ri(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ri(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Df(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function BT(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),er(i,be,e.memoizedState.cache),Do();break;case 27:case 5:Qi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:er(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ar(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Pp(e,i,a):(ar(i),e=Mi(e,i,a),e!==null?e.sibling:null);ar(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Oo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Up(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(we,we.current),o)break;return null;case 22:case 23:return i.lanes=0,xp(e,i,a);case 24:er(i,be,e.memoizedState.cache)}return Mi(e,i,a)}function Lp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!Df(e,a)&&(i.flags&128)===0)return Oe=!1,BT(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,jt&&(i.flags&1048576)!==0&&gm(i,Tu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Uh(o)?(e=vs(o,e),i.tag=1,i=Mp(null,i,o,e,a)):(i.tag=0,i=Sf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===ot){i.tag=11,i=Ip(null,i,o,e,a);break t}else if(h===O){i.tag=14,i=Cp(null,i,o,e,a);break t}}throw i=Ee(o)||o,Error(s(306,i,""))}}return i;case 0:return Sf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=vs(o,i.pendingProps),Mp(e,i,o,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,$h(e,i),Lo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,er(i,be,o),o!==f.cache&&Gh(i,[be],a,!0),Uo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Vp(e,i,o,a);break t}else if(o!==h){h=Sn(Error(s(424)),i),xo(h),i=Vp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=kn(e.firstChild),tn=i,jt=!0,ds=null,Jn=!0,a=pp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Do(),o===h){i=Mi(e,i,a);break t}Le(e,i,o,a)}i=i.child}return i;case 26:return Bu(e,i),e===null?(a=Hy(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,o=nc(At.current).createElement(a),o[Te]=i,o[ge]=e,je(o,a,e),ce(o),i.stateNode=o):i.memoizedState=Hy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Qi(i),e===null&&jt&&(o=i.stateNode=zy(i.type,i.pendingProps,At.current),tn=i,Jn=!0,h=le,pr(i.type)?(ud=h,le=kn(o.firstChild)):le=h),Le(e,i,i.pendingProps.children,a),Bu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=o=le)&&(o=m1(o,i.type,i.pendingProps,Jn),o!==null?(i.stateNode=o,tn=i,le=kn(o.firstChild),Jn=!1,h=!0):h=!1),h||gs(i)),Qi(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,sd(h,f)?o=null:v!==null&&sd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=rf(e,i,MT,null,null,a),al._currentValue=h),Bu(e,i),Le(e,i,o,a),i.child;case 6:return e===null&&jt&&((e=a=le)&&(a=p1(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,tn=i,le=null,e=!0):e=!1),e||gs(i)),null;case 13:return Pp(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ma(i,null,o,a):Le(e,i,o,a),i.child;case 11:return Ip(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,er(i,i.type,o.value),Le(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,ps(i),h=Ge(h),o=o(h),i.flags|=1,Le(e,i,o,a),i.child;case 14:return Cp(e,i,i.type,i.pendingProps,a);case 15:return Dp(e,i,i.type,i.pendingProps,a);case 19:return Up(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Hu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ri(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return xp(e,i,a);case 24:return ps(i),o=Ge(be),e===null?(h=Yh(),h===null&&(h=Jt,f=Kh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Wh(i),er(i,be,h)):((e.lanes&a)!==0&&($h(e,i),Lo(i,null,null,a),Uo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),er(i,be,o)):(o=f.cache,er(i,be,o),o!==h.cache&&Gh(i,[be],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(e){e.flags|=4}function zp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qy(i)){if(i=Rn.current,i!==null&&((Ut&4194048)===Ut?ti!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ti))throw Po=Xh,Sm;e.flags|=8192}}function qu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?oo():536870912,e.lanes|=i,va|=i)}function Go(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function HT(e,i,a){var o=i.pendingProps;switch(Bh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),xi(be),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Co(i)?Vi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ym())),re(i),null;case 26:return a=i.memoizedState,e===null?(Vi(i),a!==null?(re(i),zp(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Vi(i),re(i),zp(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==o&&Vi(i),re(i),i.flags&=-16777217),null;case 27:di(i),a=At.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Vi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=mt.current,Co(i)?mm(i):(e=zy(h,o,a),i.stateNode=e,Vi(i))}return re(i),null;case 5:if(di(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Vi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=mt.current,Co(i))mm(i);else{switch(h=nc(At.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Te]=i,e[ge]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(je(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Vi(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Vi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=At.current,Co(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ny(e.nodeValue,a)),e||gs(i)}else e=nc(e).createTextNode(o),e[Te]=i,i.stateNode=e}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Co(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else Do(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=ym(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ni(i),i):(Ni(i),null)}if(Ni(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),qu(i,i.updateQueue),re(i),null;case 4:return Bn(),e===null&&td(i.stateNode.containerInfo),re(i),null;case 10:return xi(i.type),re(i),null;case 19:if(lt(we),h=i.memoizedState,h===null)return re(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Go(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Lu(e),f!==null){for(i.flags|=128,Go(h,!1),e=f.updateQueue,i.updateQueue=e,qu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)dm(a,e),a=a.sibling;return it(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&pn()>Ku&&(i.flags|=128,o=!0,Go(h,!1),i.lanes=4194304)}else{if(!o)if(e=Lu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,qu(i,e),Go(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!jt)return re(i),null}else 2*pn()-h.renderingStartTime>Ku&&a!==536870912&&(i.flags|=128,o=!0,Go(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=pn(),i.sibling=null,e=we.current,it(we,o?e&1|2:e&1),i):(re(i),null);case 22:case 23:return Ni(i),ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&qu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&lt(ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(be),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qT(e,i){switch(Bh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xi(be),Bn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return di(i),null;case 13:if(Ni(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Do()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return lt(we),null;case 4:return Bn(),null;case 10:return xi(i.type),null;case 22:case 23:return Ni(i),ef(),e!==null&&lt(ys),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xi(be),null;case 25:return null;default:return null}}function jp(e,i){switch(Bh(i),i.tag){case 3:xi(be),Bn();break;case 26:case 27:case 5:di(i);break;case 4:Bn();break;case 13:Ni(i);break;case 19:lt(we);break;case 10:xi(i.type);break;case 22:case 23:Ni(i),ef(),e!==null&&lt(ys);break;case 24:xi(be)}}function Ko(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function lr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var w=a,z=E;try{z()}catch(K){$t(h,w,K)}}}o=o.next}while(o!==f)}}catch(K){$t(i,i.return,K)}}function Bp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Cm(i,a)}catch(o){$t(e,e.return,o)}}}function Hp(e,i,a){a.props=vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function Qo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function ei(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function qp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function xf(e,i,a){try{var o=e.stateNode;c1(o,e.type,a,i),o[ge]=i}catch(h){$t(e,e.return,h)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pr(e.type)||e.tag===4}function Of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ec));else if(o!==4&&(o===27&&pr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nf(e,i,a),e=e.sibling;e!==null;)Nf(e,i,a),e=e.sibling}function Fu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Fu(e,i,a),e=e.sibling;e!==null;)Fu(e,i,a),e=e.sibling}function Gp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);je(i,o,a),i[Te]=e,i[ge]=a}catch(f){$t(e,e.return,f)}}var Pi=!1,fe=!1,Mf=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function FT(e,i){if(e=e.containerInfo,id=lc,e=im(e),xh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,w=-1,z=0,K=0,X=e,j=null;e:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==f||o!==0&&X.nodeType!==3||(w=v+o),X.nodeType===3&&(v+=X.nodeValue.length),(B=X.firstChild)!==null;)j=X,X=B;for(;;){if(X===e)break e;if(j===a&&++z===h&&(E=v),j===f&&++K===o&&(w=v),(B=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=B}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(rd={focusedElem:e,selectionRange:a},lc=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var Tt=vs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Tt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)od(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}}function Qp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ur(e,a),o&4&&Ko(5,a);break;case 1:if(ur(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=vs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&Bp(a),o&512&&Qo(a,a.return);break;case 3:if(ur(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cm(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&o&4&&Gp(a);case 26:case 5:ur(e,a),i===null&&o&4&&qp(a),o&512&&Qo(a,a.return);break;case 12:ur(e,a);break;case 13:ur(e,a),o&4&&Wp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=JT.bind(null,a),y1(e,a))));break;case 22:if(o=a.memoizedState!==null||Pi,!o){i=i!==null&&i.memoizedState!==null||fe,h=Pi;var f=fe;Pi=o,(fe=i)&&!f?cr(e,a,(a.subtreeFlags&8772)!==0):ur(e,a),Pi=h,fe=f}break;case 30:break;default:ur(e,a)}}function Yp(e){var i=e.alternate;i!==null&&(e.alternate=null,Yp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&$i(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,nn=!1;function ki(e,i,a){for(a=a.child;a!==null;)Xp(e,i,a),a=a.sibling}function Xp(e,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:fe||ei(a,i),ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||ei(a,i);var o=ie,h=nn;pr(a.type)&&(ie=a.stateNode,nn=!1),ki(e,i,a),nl(a.stateNode),ie=o,nn=h;break;case 5:fe||ei(a,i);case 6:if(o=ie,h=nn,ie=null,ki(e,i,a),ie=o,nn=h,ie!==null)if(nn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(f){$t(a,i,f)}else try{ie.removeChild(a.stateNode)}catch(f){$t(a,i,f)}break;case 18:ie!==null&&(nn?(e=ie,Uy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cl(e)):Uy(ie,a.stateNode));break;case 4:o=ie,h=nn,ie=a.stateNode.containerInfo,nn=!0,ki(e,i,a),ie=o,nn=h;break;case 0:case 11:case 14:case 15:fe||lr(2,a,i),fe||lr(4,a,i),ki(e,i,a);break;case 1:fe||(ei(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Hp(a,i,o)),ki(e,i,a);break;case 21:ki(e,i,a);break;case 22:fe=(o=fe)||a.memoizedState!==null,ki(e,i,a),fe=o;break;default:ki(e,i,a)}}function Wp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cl(e)}catch(a){$t(i,i.return,a)}}function GT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Kp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Kp),i;default:throw Error(s(435,e.tag))}}function Vf(e,i){var a=GT(e);i.forEach(function(o){var h=t1.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(pr(E.type)){ie=E.stateNode,nn=!1;break t}break;case 5:ie=E.stateNode,nn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ie===null)throw Error(s(160));Xp(f,v,h),ie=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)$p(i,e),i=i.sibling}var Pn=null;function $p(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),o&4&&(lr(3,e,e.return),Ko(3,e),lr(5,e,e.return));break;case 1:cn(i,e),hn(e),o&512&&(fe||a===null||ei(a,a.return)),o&64&&Pi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Pn;if(cn(i,e),hn(e),o&512&&(fe||a===null||ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Yr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,a),f[Te]=e,ce(f),o=f;break t;case"link":var v=Gy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),je(f,o,a),h.head.appendChild(f);break;case"meta":if(v=Gy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),je(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Te]=e,ce(f),o=f}e.stateNode=o}else Ky(h,e.type,e.stateNode);else e.stateNode=Fy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Ky(h,e.type,e.stateNode):Fy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),o&512&&(fe||a===null||ei(a,a.return)),a!==null&&o&4&&xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),o&512&&(fe||a===null||ei(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,xf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Mf=!0);break;case 6:if(cn(i,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(sc=null,h=Pn,Pn=ic(i.containerInfo),cn(i,e),Pn=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(i.containerInfo)}catch(B){$t(e,e.return,B)}Mf&&(Mf=!1,Zp(e));break;case 4:o=Pn,Pn=ic(e.stateNode.containerInfo),cn(i,e),hn(e),Pn=o;break;case 12:cn(i,e),hn(e);break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jf=pn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vf(e,o)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=Pi,K=fe;if(Pi=z||h,fe=K||w,cn(i,e),fe=K,Pi=z,hn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||Pi||fe||Es(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(f=w.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(B){$t(w,w.return,B)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(B){$t(w,w.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Vf(e,a))));break;case 19:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vf(e,o)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Fp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Of(e);Fu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var E=Of(e);Fu(e,E,v);break;case 3:case 4:var w=a.stateNode.containerInfo,z=Of(e);Nf(e,z,w);break;default:throw Error(s(161))}}catch(K){$t(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Zp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Zp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ur(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qp(e,i.alternate,i),i=i.sibling}function Es(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:lr(4,i,i.return),Es(i);break;case 1:ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hp(i,i.return,a),Es(i);break;case 27:nl(i.stateNode);case 26:case 5:ei(i,i.return),Es(i);break;case 22:i.memoizedState===null&&Es(i);break;case 30:Es(i);break;default:Es(i)}e=e.sibling}}function cr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:cr(h,f,a),Ko(4,f);break;case 1:if(cr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Im(w[h],E)}catch(z){$t(o,o.return,z)}}a&&v&64&&Bp(f),Qo(f,f.return);break;case 27:Gp(f);case 26:case 5:cr(h,f,a),a&&o===null&&v&4&&qp(f),Qo(f,f.return);break;case 12:cr(h,f,a);break;case 13:cr(h,f,a),a&&v&4&&Wp(h,f);break;case 22:f.memoizedState===null&&cr(h,f,a),Qo(f,f.return);break;case 30:break;default:cr(h,f,a)}i=i.sibling}}function Pf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&No(a))}function kf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e))}function ni(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jp(e,i,a,o),i=i.sibling}function Jp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,o),h&2048&&Ko(9,i);break;case 1:ni(e,i,a,o);break;case 3:ni(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e)));break;case 12:if(h&2048){ni(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){$t(i,i.return,w)}}else ni(e,i,a,o);break;case 13:ni(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ni(e,i,a,o):Yo(e,i):f._visibility&2?ni(e,i,a,o):(f._visibility|=2,pa(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Pf(v,i);break;case 24:ni(e,i,a,o),h&2048&&kf(i.alternate,i);break;default:ni(e,i,a,o)}}function pa(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,w=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:pa(f,v,E,w,h),Ko(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?pa(f,v,E,w,h):Yo(f,v):(K._visibility|=2,pa(f,v,E,w,h)),h&&z&2048&&Pf(v.alternate,v);break;case 24:pa(f,v,E,w,h),h&&z&2048&&kf(v.alternate,v);break;default:pa(f,v,E,w,h)}i=i.sibling}}function Yo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Yo(a,o),h&2048&&Pf(o.alternate,o);break;case 24:Yo(a,o),h&2048&&kf(o.alternate,o);break;default:Yo(a,o)}i=i.sibling}}var Xo=8192;function ya(e){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 26:ya(e),e.flags&Xo&&e.memoizedState!==null&&x1(Pn,e.memoizedState,e.memoizedProps);break;case 5:ya(e);break;case 3:case 4:var i=Pn;Pn=ic(e.stateNode.containerInfo),ya(e),Pn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xo,Xo=16777216,ya(e),Xo=i):ya(e));break;default:ya(e)}}function ey(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Wo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,iy(o,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&lr(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Gu(e)):Wo(e);break;default:Wo(e)}}function Gu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,iy(o,e)}ey(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:lr(8,i,i.return),Gu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Gu(i));break;default:Gu(i)}e=e.sibling}}function iy(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:No(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(Yp(o),o===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var KT={getCacheForType:function(e){var i=Ge(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},QT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Jt=null,xt=null,Ut=0,Gt=0,fn=null,hr=!1,_a=!1,Uf=!1,Ui=0,ue=0,fr=0,Ts=0,Lf=0,In=0,va=0,$o=null,rn=null,zf=!1,jf=0,Ku=1/0,Qu=null,dr=null,ze=0,gr=null,Ea=null,Ta=0,Bf=0,Hf=null,ry=null,Zo=0,qf=null;function dn(){if((Ft&2)!==0&&Ut!==0)return Ut&-Ut;if(G.T!==null){var e=la;return e!==0?e:Wf()}return Xi()}function sy(){In===0&&(In=(Ut&536870912)===0||jt?ao():536870912);var e=Rn.current;return e!==null&&(e.flags|=32),In}function gn(e,i,a){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Sa(e,0),mr(e,Ut,In,!1)),mi(e,a),((Ft&2)===0||e!==Jt)&&(e===Jt&&((Ft&2)===0&&(Ts|=a),ue===4&&mr(e,Ut,In,!1)),ii(e))}function ay(e,i,a){if((Ft&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Qr(e,i),h=o?WT(e,i):Kf(e,i,!0),f=o;do{if(h===0){_a&&!o&&mr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!YT(a)){h=Kf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=$o;var w=E.current.memoizedState.isDehydrated;if(w&&(Sa(E,v).flags|=256),v=Kf(E,v,!1),v!==2){if(Uf&&!w){E.errorRecoveryDisabledLanes|=f,Ts|=f,h=4;break t}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Sa(e,0),mr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:mr(o,i,In,!hr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=jf+300-pn(),10<h)){if(mr(o,i,In,!hr),zs(o,0,!0)!==0)break t;o.timeoutHandle=Py(oy.bind(null,o,a,rn,Qu,zf,i,In,Ts,va,hr,f,2,-0,0),h);break t}oy(o,a,rn,Qu,zf,i,In,Ts,va,hr,f,0,-0,0)}}break}while(!0);ii(e)}function oy(e,i,a,o,h,f,v,E,w,z,K,X,j,B){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:D1},ty(i),X=O1(),X!==null)){e.cancelPendingCommit=X(gy.bind(null,e,i,f,a,o,h,v,E,w,K,1,j,B)),mr(e,f,v,!z);return}gy(e,i,f,a,o,h,v,E,w)}function YT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!ln(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mr(e,i,a,o){i&=~Lf,i&=~Ts,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Fe(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Hn(e,a,i)}function Yu(){return(Ft&6)===0?(Jo(0),!1):!0}function Ff(){if(xt!==null){if(Gt===0)var e=xt.return;else e=xt,Di=ms=null,of(e),ga=null,qo=0,e=xt;for(;e!==null;)jp(e.alternate,e),e=e.return;xt=null}}function Sa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,f1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ff(),Jt=e,xt=a=Ri(e.current,null),Ut=i,Gt=0,fn=null,hr=!1,_a=Qr(e,i),Uf=!1,va=In=Lf=Ts=fr=ue=0,rn=$o=null,zf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Fe(o),f=1<<h;i|=e[h],o&=~f}return Ui=i,pu(),a}function ly(e,i){It=null,G.H=Pu,i===Vo||i===wu?(i=wm(),Gt=3):i===Sm?(i=wm(),Gt=4):Gt=i===Rp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,xt===null&&(ue=1,ju(e,Sn(i,e.current)))}function uy(){var e=G.H;return G.H=Pu,e===null?Pu:e}function cy(){var e=G.A;return G.A=KT,e}function Gf(){ue=4,hr||(Ut&4194048)!==Ut&&Rn.current!==null||(_a=!0),(fr&134217727)===0&&(Ts&134217727)===0||Jt===null||mr(Jt,Ut,In,!1)}function Kf(e,i,a){var o=Ft;Ft|=2;var h=uy(),f=cy();(Jt!==e||Ut!==i)&&(Qu=null,Sa(e,i)),i=!1;var v=ue;t:do try{if(Gt!==0&&xt!==null){var E=xt,w=fn;switch(Gt){case 8:Ff(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var z=Gt;if(Gt=0,fn=null,Aa(e,E,w,z),a&&_a){v=0;break t}break;default:z=Gt,Gt=0,fn=null,Aa(e,E,w,z)}}XT(),v=ue;break}catch(K){ly(e,K)}while(!0);return i&&e.shellSuspendCounter++,Di=ms=null,Ft=o,G.H=h,G.A=f,xt===null&&(Jt=null,Ut=0,pu()),v}function XT(){for(;xt!==null;)hy(xt)}function WT(e,i){var a=Ft;Ft|=2;var o=uy(),h=cy();Jt!==e||Ut!==i?(Qu=null,Ku=pn()+500,Sa(e,i)):_a=Qr(e,i);t:do try{if(Gt!==0&&xt!==null){i=xt;var f=fn;e:switch(Gt){case 1:Gt=0,fn=null,Aa(e,i,f,1);break;case 2:case 9:if(Am(f)){Gt=0,fn=null,fy(i);break}i=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),ii(e)},f.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Am(f)?(Gt=0,fn=null,fy(i)):(Gt=0,fn=null,Aa(e,i,f,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var E=xt;if(!v||Qy(v)){Gt=0,fn=null;var w=E.sibling;if(w!==null)xt=w;else{var z=E.return;z!==null?(xt=z,Xu(z)):xt=null}break e}}Gt=0,fn=null,Aa(e,i,f,5);break;case 6:Gt=0,fn=null,Aa(e,i,f,6);break;case 8:Ff(),ue=6;break t;default:throw Error(s(462))}}$T();break}catch(K){ly(e,K)}while(!0);return Di=ms=null,G.H=o,G.A=h,Ft=a,xt!==null?0:(Jt=null,Ut=0,pu(),ue)}function $T(){for(;xt!==null&&!no();)hy(xt)}function hy(e){var i=Lp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,i===null?Xu(e):xt=i}function fy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Np(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Np(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:of(i);default:jp(a,i),i=xt=dm(i,Ui),i=Lp(a,i,Ui)}e.memoizedProps=e.pendingProps,i===null?Xu(e):xt=i}function Aa(e,i,a,o){Di=ms=null,of(i),ga=null,qo=0;var h=i.return;try{if(jT(e,h,i,a,Ut)){ue=1,ju(e,Sn(a,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;ue=1,ju(e,Sn(a,e.current)),xt=null;return}i.flags&32768?(jt||o===1?e=!0:_a||(Ut&536870912)!==0?e=!1:(hr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),dy(i,e)):Xu(i)}function Xu(e){var i=e;do{if((i.flags&32768)!==0){dy(i,hr);return}e=i.return;var a=HT(i.alternate,i,Ui);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);ue===0&&(ue=5)}function dy(e,i){do{var a=qT(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);ue=6,xt=null}function gy(e,i,a,o,h,f,v,E,w){e.cancelPendingCommit=null;do Wu();while(ze!==0);if((Ft&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Ph,lo(e,a,f,v,E,w),e===Jt&&(xt=Jt=null,Ut=0),Ea=i,gr=e,Ta=a,Bf=f,Hf=h,ry=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,e1(qr,function(){return vy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=Y.p,Y.p=2,v=Ft,Ft|=4;try{FT(e,i,a)}finally{Ft=v,Y.p=h,G.T=o}}ze=1,my(),py(),yy()}}function my(){if(ze===1){ze=0;var e=gr,i=Ea,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=Y.p;Y.p=2;var h=Ft;Ft|=4;try{$p(i,e);var f=rd,v=im(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&nm(E.ownerDocument.documentElement,E)){if(w!==null&&xh(E)){var z=w.start,K=w.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var B=j.getSelection(),Tt=E.textContent.length,yt=Math.min(w.start,Tt),Xt=w.end===void 0?yt:Math.min(w.end,Tt);!B.extend&&yt>Xt&&(v=Xt,Xt=yt,yt=v);var k=em(E,yt),N=em(E,Xt);if(k&&N&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=X.createRange();L.setStart(k.node,k.offset),B.removeAllRanges(),yt>Xt?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}lc=!!id,rd=id=null}finally{Ft=h,Y.p=o,G.T=a}}e.current=i,ze=2}}function py(){if(ze===2){ze=0;var e=gr,i=Ea,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=Y.p;Y.p=2;var h=Ft;Ft|=4;try{Qp(e,i.alternate,i)}finally{Ft=h,Y.p=o,G.T=a}}ze=3}}function yy(){if(ze===4||ze===3){ze=0,Gl();var e=gr,i=Ea,a=Ta,o=ry;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,Ea=gr=null,_y(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(dr=null),js(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=Y.p,Y.p=2,G.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{G.T=i,Y.p=h}}(Ta&3)!==0&&Wu(),ii(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===qf?Zo++:(Zo=0,qf=e):Zo=0,Jo(0)}}function _y(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,No(i)))}function Wu(e){return my(),py(),yy(),vy()}function vy(){if(ze!==5)return!1;var e=gr,i=Bf;Bf=0;var a=js(Ta),o=G.T,h=Y.p;try{Y.p=32>a?32:a,G.T=null,a=Hf,Hf=null;var f=gr,v=Ta;if(ze=0,Ea=gr=null,Ta=0,(Ft&6)!==0)throw Error(s(331));var E=Ft;if(Ft|=4,ny(f.current),Jp(f,f.current,v,a),Ft=E,Jo(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(oe,f)}catch{}return!0}finally{Y.p=h,G.T=o,_y(e,i)}}function Ey(e,i,a){i=Sn(a,i),i=Tf(e.stateNode,i,2),e=rr(e,i,2),e!==null&&(mi(e,2),ii(e))}function $t(e,i,a){if(e.tag===3)Ey(e,e,a);else for(;i!==null;){if(i.tag===3){Ey(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(dr===null||!dr.has(o))){e=Sn(a,e),a=bp(2),o=rr(i,a,2),o!==null&&(wp(a,o,i,e),mi(o,2),ii(o));break}}i=i.return}}function Qf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new QT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Uf=!0,h.add(a),e=ZT.bind(null,e,i,a),i.then(e,e))}function ZT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Ut&a)===a&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>pn()-jf?(Ft&2)===0&&Sa(e,0):Lf|=a,va===Ut&&(va=0)),ii(e)}function Ty(e,i){i===0&&(i=oo()),e=ra(e,i),e!==null&&(mi(e,i),ii(e))}function JT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ty(e,a)}function t1(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Ty(e,a)}function e1(e,i){return Br(e,i)}var $u=null,ba=null,Yf=!1,Zu=!1,Xf=!1,Ss=0;function ii(e){e!==ba&&e.next===null&&(ba===null?$u=ba=e:ba=ba.next=e),Zu=!0,Yf||(Yf=!0,i1())}function Jo(e,i){if(!Xf&&Zu){Xf=!0;do for(var a=!1,o=$u;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Fe(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,wy(o,f))}else f=Ut,f=zs(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qr(o,f)||(a=!0,wy(o,f));o=o.next}while(a);Xf=!1}}function n1(){Sy()}function Sy(){Zu=Yf=!1;var e=0;Ss!==0&&(h1()&&(e=Ss),Ss=0);for(var i=pn(),a=null,o=$u;o!==null;){var h=o.next,f=Ay(o,i);f===0?(o.next=null,a===null?$u=h:a.next=h,h===null&&(ba=a)):(a=o,(e!==0||(f&3)!==0)&&(Zu=!0)),o=h}Jo(e)}function Ay(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Fe(f),E=1<<v,w=h[v];w===-1?((E&a)===0||(E&o)!==0)&&(h[v]=so(E,i)):w<=i&&(e.expiredLanes|=E),f&=~E}if(i=Jt,a=Ut,a=zs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Hr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Hr(o),js(a)){case 2:case 8:a=Us;break;case 32:a=qr;break;case 268435456:a=Ls;break;default:a=qr}return o=by.bind(null,e),a=Br(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Hr(o),e.callbackPriority=2,e.callbackNode=null,2}function by(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wu()&&e.callbackNode!==a)return null;var o=Ut;return o=zs(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ay(e,o,i),Ay(e,pn()),e.callbackNode!=null&&e.callbackNode===a?by.bind(null,e):null)}function wy(e,i){if(Wu())return null;ay(e,i,!0)}function i1(){d1(function(){(Ft&6)!==0?Br(io,n1):Sy()})}function Wf(){return Ss===0&&(Ss=ao()),Ss}function Ry(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function Iy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function r1(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Ry((h[ge]||null).action),v=o.submitter;v&&(i=(i=v[ge]||null)?Ry(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new Qs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ss!==0){var w=v?Iy(h,v):new FormData(h);pf(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=v?Iy(h,v):new FormData(h),pf(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var $f=0;$f<Vh.length;$f++){var Zf=Vh[$f],s1=Zf.toLowerCase(),a1=Zf[0].toUpperCase()+Zf.slice(1);Vn(s1,"on"+a1)}Vn(am,"onAnimationEnd"),Vn(om,"onAnimationIteration"),Vn(lm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(AT,"onTransitionRun"),Vn(bT,"onTransitionStart"),Vn(wT,"onTransitionCancel"),Vn(um,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function Cy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(K){zu(K)}h.currentTarget=null,f=w}else for(v=0;v<o.length;v++){if(E=o[v],w=E.instance,z=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(K){zu(K)}h.currentTarget=null,f=w}}}}function Ot(e,i){var a=i[co];a===void 0&&(a=i[co]=new Set);var o=e+"__bubble";a.has(o)||(Dy(i,e,2,!1),a.add(o))}function Jf(e,i,a){var o=0;i&&(o|=4),Dy(a,e,o,i)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[Ju]){e[Ju]=!0,ho.forEach(function(a){a!=="selectionchange"&&(o1.has(a)||Jf(a,!1,e),Jf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ju]||(i[Ju]=!0,Jf("selectionchange",!1,i))}}function Dy(e,i,a,o){switch(Jy(i)){case 2:var h=V1;break;case 8:h=P1;break;default:h=gd}a=h.bind(null,i,a,e),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function ed(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=pi(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){o=f=v;continue t}E=E.parentNode}}o=o.return}eu(function(){var z=f,K=vn(a),X=[];t:{var j=cm.get(e);if(j!==void 0){var B=Qs,Tt=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":B=Js;break;case"focusin":Tt="focus",B=Ws;break;case"focusout":Tt="blur",B=Ws;break;case"beforeblur":case"afterblur":B=Ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=uu;break;case am:case om:case lm:B=$s;break;case um:B=hu;break;case"scroll":case"scrollend":B=nu;break;case"wheel":B=ta;break;case"copy":case"cut":case"paste":B=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=bo;break;case"toggle":case"beforetoggle":B=du}var yt=(i&4)!==0,Xt=!yt&&(e==="scroll"||e==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var N=z,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=es(N,k),Q!=null&&yt.push(el(N,Q,L))),Xt)break;N=N.return}0<yt.length&&(j=new B(j,Tt,null,a,K),X.push({event:j,listeners:yt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&a!==Ei&&(Tt=a.relatedTarget||a.fromElement)&&(pi(Tt)||Tt[yn]))break t;if((B||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,B?(Tt=a.relatedTarget||a.toElement,B=z,Tt=Tt?pi(Tt):null,Tt!==null&&(Xt=c(Tt),yt=Tt.tag,Tt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(B=null,Tt=z),B!==Tt)){if(yt=Tn,Q="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=bo,Q="onPointerLeave",k="onPointerEnter",N="pointer"),Xt=B==null?j:Fn(B),L=Tt==null?j:Fn(Tt),j=new yt(Q,N+"leave",B,a,K),j.target=Xt,j.relatedTarget=L,Q=null,pi(K)===z&&(yt=new yt(k,N+"enter",Tt,a,K),yt.target=L,yt.relatedTarget=Xt,Q=yt),Xt=Q,B&&Tt)e:{for(yt=B,k=Tt,N=0,L=yt;L;L=wa(L))N++;for(L=0,Q=k;Q;Q=wa(Q))L++;for(;0<N-L;)yt=wa(yt),N--;for(;0<L-N;)k=wa(k),L--;for(;N--;){if(yt===k||k!==null&&yt===k.alternate)break e;yt=wa(yt),k=wa(k)}yt=null}else yt=null;B!==null&&xy(X,j,B,yt,!1),Tt!==null&&Xt!==null&&xy(X,Xt,Tt,yt,!0)}}t:{if(j=z?Fn(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var ft=Xg;else if(Ae(j))if(Wg)ft=ET;else{ft=_T;var Dt=yT}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&yo(z.elementType)&&(ft=Xg):ft=vT;if(ft&&(ft=ft(e,z))){wi(X,ft,a,K);break t}Dt&&Dt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ji(j,"number",j.value)}switch(Dt=z?Fn(z):window,e){case"focusin":(Ae(Dt)||Dt.contentEditable==="true")&&(ea=Dt,Oh=z,Io=null);break;case"focusout":Io=Oh=ea=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,rm(X,a,K);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":rm(X,a,K)}var dt;if($n)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Pt?H(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Pt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Pt&&(dt=vo()):(Qn=K,tr="value"in Qn?Qn.value:Qn.textContent,Pt=!0)),Dt=tc(z,_t),0<Dt.length&&(_t=new So(_t,e,null,a,K),X.push({event:_t,listeners:Dt}),dt?_t.data=dt:(dt=at(a),dt!==null&&(_t.data=dt)))),(dt=g?Se(e,a):kt(e,a))&&(_t=tc(z,"onBeforeInput"),0<_t.length&&(Dt=new So("onBeforeInput","beforeinput",null,a,K),X.push({event:Dt,listeners:_t}),Dt.data=dt)),r1(X,e,z,a,K)}Cy(X,i)})}function el(e,i,a){return{instance:e,listener:i,currentTarget:a}}function tc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=es(e,a),h!=null&&o.unshift(el(e,h,f)),h=es(e,i),h!=null&&o.push(el(e,h,f))),e.tag===3)return o;e=e.return}return[]}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xy(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||z===null||(w=z,h?(z=es(a,f),z!=null&&v.unshift(el(a,z,w))):h||(z=es(a,f),z!=null&&v.push(el(a,z,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var l1=/\r\n?/g,u1=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(l1,`
`).replace(u1,"")}function Ny(e,i){return i=Oy(i),Oy(e)===i}function ec(){}function Yt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&_n(e,""+o);break;case"className":Gn(e,"class",o);break;case"tabIndex":Gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,o);break;case"style":po(e,o,f);break;case"data":if(i!=="object"){Gn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ks(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ks(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ec);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ks(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Zi(e,"popover",o);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bh.get(a)||a,Zi(e,a,o))}}function nd(e,i,a,o,h,f){switch(a){case"style":po(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ge]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Zi(e,a,o)}}}function je(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,f,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=f=v=h=null,w=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":v=K;break;case"checked":w=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Yt(e,i,o,K,a,null)}}Zr(e,f,E,w,z,v,h,!1),Gs(e);return;case"select":Ot("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?vi(e,!!o,i,!1):a!=null&&vi(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}Jr(e,o,h,f),Gs(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(o=a[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,w,o,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<tl.length;o++)Ot(tl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,z,o,a,null)}return;default:if(yo(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&nd(e,i,K,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,i,E,o,a,null))}function c1(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,w=null,z=null,K=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=X;default:o.hasOwnProperty(B)||Yt(e,i,B,null,o,X)}}for(var j in o){var B=o[j];if(X=a[j],o.hasOwnProperty(j)&&(B!=null||X!=null))switch(j){case"type":f=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":K=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&Yt(e,i,j,B,o,X)}}on(e,v,E,w,z,K,f,h);return;case"select":B=v=E=j=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":B=w;default:o.hasOwnProperty(f)||Yt(e,i,f,null,o,w)}for(h in o)if(f=o[h],w=a[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==w&&Yt(e,i,h,f,o,w)}i=E,a=v,o=B,j!=null?vi(e,!!a,j,!1):!!o!=!!a&&(i!=null?vi(e,!!a,i,!0):vi(e,!!a,a?[]:"",!1));return;case"textarea":B=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":j=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(e,i,v,h,o,f)}Kt(e,j,B);return;case"option":for(var Tt in a)if(j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!o.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:Yt(e,i,Tt,null,o,j)}for(w in o)if(j=o[w],B=a[w],o.hasOwnProperty(w)&&j!==B&&(j!=null||B!=null))switch(w){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Yt(e,i,w,j,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&Yt(e,i,yt,null,o,j);for(z in o)if(j=o[z],B=a[z],o.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Yt(e,i,z,j,o,B)}return;default:if(yo(i)){for(var Xt in a)j=a[Xt],a.hasOwnProperty(Xt)&&j!==void 0&&!o.hasOwnProperty(Xt)&&nd(e,i,Xt,void 0,o,j);for(K in o)j=o[K],B=a[K],!o.hasOwnProperty(K)||j===B||j===void 0&&B===void 0||nd(e,i,K,j,o,B);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Yt(e,i,k,null,o,j);for(X in o)j=o[X],B=a[X],!o.hasOwnProperty(X)||j===B||j==null&&B==null||Yt(e,i,X,j,o,B)}var id=null,rd=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function My(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ad=null;function h1(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,f1=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(g1)}:Py;function g1(e){setTimeout(function(){throw e})}function pr(e){return e==="head"}function Uy(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&nl(v.documentElement),a&2&&nl(v.body),a&4)for(a=v.head,nl(a),v=a.firstChild;v;){var E=v.nextSibling,w=v.nodeName;v[Yr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),cl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);cl(i)}function od(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":od(a),$i(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function m1(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Yr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function p1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function y1(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var ud=null;function Ly(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function zy(e,i,a){switch(i=nc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function nl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);$i(e)}var Cn=new Map,jy=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Li=Y.d;Y.d={f:_1,r:v1,D:E1,C:T1,L:S1,m:A1,X:w1,S:b1,M:R1};function _1(){var e=Li.f(),i=Yu();return e||i}function v1(e){var i=qn(e);i!==null&&i.tag===5&&i.type==="form"?ap(i):Li.r(e)}var Ra=typeof document>"u"?null:document;function By(e,i,a){var o=Ra;if(o&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jy.has(h)||(jy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),je(i,"link",e),ce(i),o.head.appendChild(i)))}}function E1(e){Li.D(e),By("dns-prefetch",e,null)}function T1(e,i){Li.C(e,i),By("preconnect",e,i)}function S1(e,i,a){Li.L(e,i,a);var o=Ra;if(o&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var f=h;switch(i){case"style":f=Ia(e);break;case"script":f=Ca(e)}Cn.has(f)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Cn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(il(f))||i==="script"&&o.querySelector(rl(f))||(i=o.createElement("link"),je(i,"link",e),ce(i),o.head.appendChild(i)))}}function A1(e,i){Li.m(e,i);var a=Ra;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ca(e)}if(!Cn.has(f)&&(e=T({rel:"modulepreload",href:e},i),Cn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rl(f)))return}o=a.createElement("link"),je(o,"link",e),ce(o),a.head.appendChild(o)}}}function b1(e,i,a){Li.S(e,i,a);var o=Ra;if(o&&e){var h=$e(o).hoistableStyles,f=Ia(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(il(f)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Cn.get(f))&&cd(e,a);var w=v=o.createElement("link");ce(w),je(w,"link",e),w._p=new Promise(function(z,K){w.onload=z,w.onerror=K}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function w1(e,i){Li.X(e,i);var a=Ra;if(a&&e){var o=$e(a).hoistableScripts,h=Ca(e),f=o.get(h);f||(f=a.querySelector(rl(h)),f||(e=T({src:e,async:!0},i),(i=Cn.get(h))&&hd(e,i),f=a.createElement("script"),ce(f),je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function R1(e,i){Li.M(e,i);var a=Ra;if(a&&e){var o=$e(a).hoistableScripts,h=Ca(e),f=o.get(h);f||(f=a.querySelector(rl(h)),f||(e=T({src:e,async:!0,type:"module"},i),(i=Cn.get(h))&&hd(e,i),f=a.createElement("script"),ce(f),je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Hy(e,i,a,o){var h=(h=At.current)?ic(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ia(a.href),a=$e(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ia(a.href);var f=$e(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(il(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(e,a),f||I1(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ca(a),a=$e(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ia(e){return'href="'+me(e)+'"'}function il(e){return'link[rel="stylesheet"]['+e+"]"}function qy(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function I1(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),je(i,"link",a),ce(i),e.head.appendChild(i))}function Ca(e){return'[src="'+me(e)+'"]'}function rl(e){return"script[async]"+e}function Fy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(o)return i.instance=o,ce(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),je(o,"style",h),rc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ia(a.href);var f=e.querySelector(il(h));if(f)return i.state.loading|=4,i.instance=f,ce(f),f;o=qy(a),(h=Cn.get(h))&&cd(o,h),f=(e.ownerDocument||e).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),je(f,"link",o),i.state.loading|=4,rc(f,a.precedence,e),i.instance=f;case"script":return f=Ca(a.src),(h=e.querySelector(rl(f)))?(i.instance=h,ce(h),h):(o=a,(h=Cn.get(f))&&(o=T({},a),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),je(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,rc(o,a.precedence,e));return i.instance}function rc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var sc=null;function Gy(e,i,a){if(sc===null){var o=new Map,h=sc=new Map;h.set(a,o)}else h=sc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Yr]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function Ky(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function C1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var sl=null;function D1(){}function x1(e,i,a){if(sl===null)throw Error(s(475));var o=sl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ia(a.href),f=e.querySelector(il(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ac.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,ce(f);return}f=e.ownerDocument||e,a=qy(a),(h=Cn.get(h))&&cd(a,h),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),je(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=ac.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function O1(){if(sl===null)throw Error(s(475));var e=sl;return e.stylesheets&&e.count===0&&fd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&fd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function fd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,i.forEach(N1,e),oc=null,ac.call(e))}function N1(e,i){if(!(i.state.loading&4)){var a=oc.get(e);if(a)var o=a.get(null);else{a=new Map,oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var al={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function M1(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Yy(e,i,a,o,h,f,v,E,w,z,K,X){return e=new M1(e,i,a,v,E,w,z,X),i=1,f===!0&&(i|=24),f=un(3,null,null,i),e.current=f,f.stateNode=e,i=Kh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Wh(f),e}function Xy(e){return e?(e=sa,e):sa}function Wy(e,i,a,o,h,f){h=Xy(h),o.context===null?o.context=h:o.pendingContext=h,o=ir(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=rr(e,o,i),a!==null&&(gn(a,e,i),ko(a,e,i))}function $y(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function dd(e,i){$y(e,i),(e=e.alternate)&&$y(e,i)}function Zy(e){if(e.tag===13){var i=ra(e,67108864);i!==null&&gn(i,e,67108864),dd(e,67108864)}}var lc=!0;function V1(e,i,a,o){var h=G.T;G.T=null;var f=Y.p;try{Y.p=2,gd(e,i,a,o)}finally{Y.p=f,G.T=h}}function P1(e,i,a,o){var h=G.T;G.T=null;var f=Y.p;try{Y.p=8,gd(e,i,a,o)}finally{Y.p=f,G.T=h}}function gd(e,i,a,o){if(lc){var h=md(o);if(h===null)ed(e,i,o,uc,a),t_(e,o);else if(U1(h,e,i,a,o))o.stopPropagation();else if(t_(e,o),i&4&&-1<k1.indexOf(e)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=On(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-Fe(v);E.entanglements[1]|=w,v&=~w}ii(f),(Ft&6)===0&&(Ku=pn()+500,Jo(0))}}break;case 13:E=ra(f,2),E!==null&&gn(E,f,2),Yu(),dd(f,2)}if(f=md(o),f===null&&ed(e,i,o,uc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else ed(e,i,o,null,a)}}function md(e){return e=vn(e),pd(e)}var uc=null;function pd(e){if(uc=null,e=pi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return uc=e,null}function Jy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_h()){case io:return 2;case Us:return 8;case qr:case vh:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var yd=!1,yr=null,_r=null,vr=null,ol=new Map,ll=new Map,Er=[],k1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(e,i){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(i.pointerId)}}function ul(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=qn(i),i!==null&&Zy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function U1(e,i,a,o,h){switch(i){case"focusin":return yr=ul(yr,e,i,a,o,h),!0;case"dragenter":return _r=ul(_r,e,i,a,o,h),!0;case"mouseover":return vr=ul(vr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,i,a,o,h)),!0}return!1}function e_(e){var i=pi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Yl(e.priority,function(){if(a.tag===13){var o=dn();o=Yi(o);var h=ra(a,o);h!==null&&gn(h,a,o),dd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=md(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ei=o,a.target.dispatchEvent(o),Ei=null}else return i=qn(a),i!==null&&Zy(i),e.blockedOn=a,!1;i.shift()}return!0}function n_(e,i,a){cc(e)&&a.delete(i)}function L1(){yd=!1,yr!==null&&cc(yr)&&(yr=null),_r!==null&&cc(_r)&&(_r=null),vr!==null&&cc(vr)&&(vr=null),ol.forEach(n_),ll.forEach(n_)}function hc(e,i){e.blockedOn===i&&(e.blockedOn=null,yd||(yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,L1)))}var fc=null;function i_(e){fc!==e&&(fc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(pd(o||a)===null)continue;break}var f=qn(a);f!==null&&(e.splice(i,3),i-=3,pf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function cl(e){function i(w){return hc(w,e)}yr!==null&&hc(yr,e),_r!==null&&hc(_r,e),vr!==null&&hc(vr,e),ol.forEach(i),ll.forEach(i);for(var a=0;a<Er.length;a++){var o=Er[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&Er.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[ge]||null;if(typeof f=="function")v||i_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ge]||null)E=v.formAction;else if(pd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),i_(a)}}}function _d(e){this._internalRoot=e}dc.prototype.render=_d.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=dn();Wy(a,o,e,i,null,null)},dc.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Wy(e.current,2,null,e,null,null),Yu(),i[yn]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Xi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Er.length&&i!==0&&i<Er[a].priority;a++);Er.splice(a,0,e),a===0&&e_(e)}};var r_=t.version;if(r_!=="19.1.0")throw Error(s(527,r_,"19.1.0"));Y.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var z1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{oe=gc.inject(z1),qt=gc}catch{}}return fl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Ep,f=Tp,v=Sp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Yy(e,1,!1,null,null,a,o,h,f,v,E,null),e[yn]=i.current,td(e),new _d(i)},fl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Ep,v=Tp,E=Sp,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=Yy(e,1,!0,i,a??null,o,h,f,v,E,w,z),i.context=Xy(null),a=i.current,o=dn(),o=Yi(o),h=ir(o),h.callback=null,rr(a,h,o),a=o,i.current.lanes=a,mi(i,a),ii(i),e[yn]=i.current,td(e),new dc(i)},fl.version="19.1.0",fl}var g_;function W1(){if(g_)return Td.exports;g_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Td.exports=X1(),Td.exports}var $1=W1();const Z1=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},J1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],m=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,m=d?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,T=c>>2,I=(c&3)<<4|m>>4;let C=(m&15)<<2|y>>6,q=y&63;p||(q=64,d||(C=64)),s.push(n[T],n[I],n[C],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Yv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):J1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||m==null||y==null||I==null)throw new tS;const C=c<<2|m>>4;if(s.push(C),y!==64){const q=m<<4&240|y>>2;if(s.push(q),I!==64){const Z=y<<6&192|I;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(r){const t=Yv(r);return Xv.encodeByteArray(t,!0)},Mc=function(r){return eS(r).replace(/\./g,"")},Wv=function(r){try{return Xv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=()=>nS().__FIREBASE_DEFAULTS__,rS=()=>{if(typeof process>"u"||typeof m_>"u")return;const r=m_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Wv(r[1]);return t&&JSON.parse(t)},th=()=>{try{return Z1()||iS()||rS()||sS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$v=r=>th()?.emulatorHosts?.[r],aS=r=>{const t=$v(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Zv=()=>th()?.config,Jv=r=>th()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Mc(JSON.stringify(n)),Mc(JSON.stringify(d)),""].join(".")}const vl={};function uS(){const r={prod:[],emulator:[]};for(const t of Object.keys(vl))vl[t]?r.emulator.push(t):r.prod.push(t);return r}function cS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let p_=!1;function e0(r,t){if(typeof window>"u"||typeof document>"u"||!Ya(window.location.host)||vl[r]===t||vl[r]||p_)return;vl[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=uS().prod.length>0;function d(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,q){C.setAttribute("width","24"),C.setAttribute("id",q),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{p_=!0,d()},C}function T(C,q){C.setAttribute("id",q),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function I(){const C=cS(s),q=n("text"),Z=document.getElementById(q)||document.createElement("span"),st=n("learnmore"),J=document.getElementById(st)||document.createElement("a"),et=n("preprendIcon"),nt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const rt=C.element;m(rt),T(J,st);const ot=y();p(nt,et),rt.append(nt,Z,J,ot),document.body.appendChild(rt)}c?(Z.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function fS(){const r=th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pS(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yS(){return!fS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="FirebaseError";class Ki extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=ES,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?TS(c,s):"Error",m=`${this.serviceName}: ${d} (${l}).`;return new Ki(l,m,s)}}function TS(r,t){return r.replace(SS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const SS=/\{\$([^}]+)}/g;function AS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Is(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(y_(c)&&y_(d)){if(!Is(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function y_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function dl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function gl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function bS(r,t){const n=new wS(r,t);return n.subscribe.bind(n)}class wS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");RS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r){return r&&r._delegate?r._delegate:r}class Cs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new oS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DS(t))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=As){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=As){return this.instances.has(t)}getOptions(t=As){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=As){return this.component?this.component.multipleInstances?t:As:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CS(r){return r===As?void 0:r}function DS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new IS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const OS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},NS=Nt.INFO,MS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},VS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=MS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ug{constructor(t){this.name=t,this._logLevel=NS,this._logHandler=VS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const PS=(r,t)=>t.some(n=>r instanceof n);let __,v_;function kS(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n0=new WeakMap,Ld=new WeakMap,i0=new WeakMap,Rd=new WeakMap,cg=new WeakMap;function LS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Cr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&n0.set(n,r)}).catch(()=>{}),cg.set(t,r),t}function zS(r){if(Ld.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ld.set(r,t)}let zd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ld.get(r);if(t==="objectStoreNames")return r.objectStoreNames||i0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function jS(r){zd=r(zd)}function BS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Id(this),t,...n);return i0.set(s,t.sort?t.sort():[t]),Cr(s)}:US().includes(r)?function(...t){return r.apply(Id(this),t),Cr(n0.get(this))}:function(...t){return Cr(r.apply(Id(this),t))}}function HS(r){return typeof r=="function"?BS(r):(r instanceof IDBTransaction&&zS(r),PS(r,kS())?new Proxy(r,zd):r)}function Cr(r){if(r instanceof IDBRequest)return LS(r);if(Rd.has(r))return Rd.get(r);const t=HS(r);return t!==r&&(Rd.set(r,t),cg.set(t,r)),t}const Id=r=>cg.get(r);function qS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),m=Cr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Cr(d.result),p.oldVersion,p.newVersion,Cr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const FS=["get","getKey","getAll","getAllKeys","count"],GS=["put","add","delete","clear"],Cd=new Map;function E_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=GS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||FS.includes(n)))return;const c=async function(d,...m){const p=this.transaction(d,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&p.done]))[0]};return Cd.set(t,c),c}jS(r=>({...r,get:(t,n,s)=>E_(t,n)||r.get(t,n,s),has:(t,n)=>!!E_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function QS(r){return r.getComponent()?.type==="VERSION"}const jd="@firebase/app",T_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new ug("@firebase/app"),YS="@firebase/app-compat",XS="@firebase/analytics-compat",WS="@firebase/analytics",$S="@firebase/app-check-compat",ZS="@firebase/app-check",JS="@firebase/auth",tA="@firebase/auth-compat",eA="@firebase/database",nA="@firebase/data-connect",iA="@firebase/database-compat",rA="@firebase/functions",sA="@firebase/functions-compat",aA="@firebase/installations",oA="@firebase/installations-compat",lA="@firebase/messaging",uA="@firebase/messaging-compat",cA="@firebase/performance",hA="@firebase/performance-compat",fA="@firebase/remote-config",dA="@firebase/remote-config-compat",gA="@firebase/storage",mA="@firebase/storage-compat",pA="@firebase/firestore",yA="@firebase/ai",_A="@firebase/firestore-compat",vA="firebase",EA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",TA={[jd]:"fire-core",[YS]:"fire-core-compat",[WS]:"fire-analytics",[XS]:"fire-analytics-compat",[ZS]:"fire-app-check",[$S]:"fire-app-check-compat",[JS]:"fire-auth",[tA]:"fire-auth-compat",[eA]:"fire-rtdb",[nA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[rA]:"fire-fn",[sA]:"fire-fn-compat",[aA]:"fire-iid",[oA]:"fire-iid-compat",[lA]:"fire-fcm",[uA]:"fire-fcm-compat",[cA]:"fire-perf",[hA]:"fire-perf-compat",[fA]:"fire-rc",[dA]:"fire-rc-compat",[gA]:"fire-gcs",[mA]:"fire-gcs-compat",[pA]:"fire-fst",[_A]:"fire-fst-compat",[yA]:"fire-vertex","fire-js":"fire-js",[vA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Map,SA=new Map,Hd=new Map;function S_(r,t){try{r.container.addComponent(t)}catch(n){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ja(r){const t=r.name;if(Hd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Hd.set(t,r);for(const n of Vc.values())S_(n,r);for(const n of SA.values())S_(n,r);return!0}function hg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Pl("app","Firebase",AA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=EA;function r0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Bd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Dr.create("bad-app-name",{appName:String(l)});if(n||(n=Zv()),!n)throw Dr.create("no-options");const c=Vc.get(l);if(c){if(Is(n,c.options)&&Is(s,c.config))return c;throw Dr.create("duplicate-app",{appName:l})}const d=new xS(l);for(const p of Hd.values())d.addComponent(p);const m=new bA(n,s,d);return Vc.set(l,m),m}function s0(r=Bd){const t=Vc.get(r);if(!t&&r===Bd&&Zv())return r0();if(!t)throw Dr.create("no-app",{appName:r});return t}function xr(r,t,n){let s=TA[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}ja(new Cs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firebase-heartbeat-database",RA=1,wl="firebase-heartbeat-store";let Dd=null;function a0(){return Dd||(Dd=qS(wA,RA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Dr.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function IA(r){try{const n=(await a0()).transaction(wl),s=await n.objectStore(wl).get(o0(r));return await n.done,s}catch(t){if(t instanceof Ki)Hi.warn(t.message);else{const n=Dr.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(n.message)}}}async function A_(r,t){try{const s=(await a0()).transaction(wl,"readwrite");await s.objectStore(wl).put(t,o0(r)),await s.done}catch(n){if(n instanceof Ki)Hi.warn(n.message);else{const s=Dr.create("idb-set",{originalErrorMessage:n?.message});Hi.warn(s.message)}}}function o0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=1024,DA=30;class xA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>DA){const l=MA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=b_(),{heartbeatsToSend:n,unsentEntries:s}=OA(this._heartbeatsCache.heartbeats),l=Mc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Hi.warn(t),""}}}function b_(){return new Date().toISOString().substring(0,10)}function OA(r,t=CA){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),w_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),w_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class NA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?vS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function w_(r){return Mc(JSON.stringify({version:2,heartbeats:r})).length}function MA(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(r){ja(new Cs("platform-logger",t=>new KS(t),"PRIVATE")),ja(new Cs("heartbeat",t=>new xA(t),"PRIVATE")),xr(jd,T_,r),xr(jd,T_,"esm2020"),xr("fire-js","")}VA("");var PA="firebase",kA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(PA,kA,"app");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,l0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,A){function b(){}b.prototype=A.prototype,O.D=A.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(M,V,P){for(var R=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)R[Ee-2]=arguments[Ee];return A.prototype[V].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,A,b){b||(b=0);var M=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)M[V]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(V=0;16>V;++V)M[V]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=O.g[0],b=O.g[1],V=O.g[2];var P=O.g[3],R=A+(P^b&(V^P))+M[0]+3614090360&4294967295;A=b+(R<<7&4294967295|R>>>25),R=P+(V^A&(b^V))+M[1]+3905402710&4294967295,P=A+(R<<12&4294967295|R>>>20),R=V+(b^P&(A^b))+M[2]+606105819&4294967295,V=P+(R<<17&4294967295|R>>>15),R=b+(A^V&(P^A))+M[3]+3250441966&4294967295,b=V+(R<<22&4294967295|R>>>10),R=A+(P^b&(V^P))+M[4]+4118548399&4294967295,A=b+(R<<7&4294967295|R>>>25),R=P+(V^A&(b^V))+M[5]+1200080426&4294967295,P=A+(R<<12&4294967295|R>>>20),R=V+(b^P&(A^b))+M[6]+2821735955&4294967295,V=P+(R<<17&4294967295|R>>>15),R=b+(A^V&(P^A))+M[7]+4249261313&4294967295,b=V+(R<<22&4294967295|R>>>10),R=A+(P^b&(V^P))+M[8]+1770035416&4294967295,A=b+(R<<7&4294967295|R>>>25),R=P+(V^A&(b^V))+M[9]+2336552879&4294967295,P=A+(R<<12&4294967295|R>>>20),R=V+(b^P&(A^b))+M[10]+4294925233&4294967295,V=P+(R<<17&4294967295|R>>>15),R=b+(A^V&(P^A))+M[11]+2304563134&4294967295,b=V+(R<<22&4294967295|R>>>10),R=A+(P^b&(V^P))+M[12]+1804603682&4294967295,A=b+(R<<7&4294967295|R>>>25),R=P+(V^A&(b^V))+M[13]+4254626195&4294967295,P=A+(R<<12&4294967295|R>>>20),R=V+(b^P&(A^b))+M[14]+2792965006&4294967295,V=P+(R<<17&4294967295|R>>>15),R=b+(A^V&(P^A))+M[15]+1236535329&4294967295,b=V+(R<<22&4294967295|R>>>10),R=A+(V^P&(b^V))+M[1]+4129170786&4294967295,A=b+(R<<5&4294967295|R>>>27),R=P+(b^V&(A^b))+M[6]+3225465664&4294967295,P=A+(R<<9&4294967295|R>>>23),R=V+(A^b&(P^A))+M[11]+643717713&4294967295,V=P+(R<<14&4294967295|R>>>18),R=b+(P^A&(V^P))+M[0]+3921069994&4294967295,b=V+(R<<20&4294967295|R>>>12),R=A+(V^P&(b^V))+M[5]+3593408605&4294967295,A=b+(R<<5&4294967295|R>>>27),R=P+(b^V&(A^b))+M[10]+38016083&4294967295,P=A+(R<<9&4294967295|R>>>23),R=V+(A^b&(P^A))+M[15]+3634488961&4294967295,V=P+(R<<14&4294967295|R>>>18),R=b+(P^A&(V^P))+M[4]+3889429448&4294967295,b=V+(R<<20&4294967295|R>>>12),R=A+(V^P&(b^V))+M[9]+568446438&4294967295,A=b+(R<<5&4294967295|R>>>27),R=P+(b^V&(A^b))+M[14]+3275163606&4294967295,P=A+(R<<9&4294967295|R>>>23),R=V+(A^b&(P^A))+M[3]+4107603335&4294967295,V=P+(R<<14&4294967295|R>>>18),R=b+(P^A&(V^P))+M[8]+1163531501&4294967295,b=V+(R<<20&4294967295|R>>>12),R=A+(V^P&(b^V))+M[13]+2850285829&4294967295,A=b+(R<<5&4294967295|R>>>27),R=P+(b^V&(A^b))+M[2]+4243563512&4294967295,P=A+(R<<9&4294967295|R>>>23),R=V+(A^b&(P^A))+M[7]+1735328473&4294967295,V=P+(R<<14&4294967295|R>>>18),R=b+(P^A&(V^P))+M[12]+2368359562&4294967295,b=V+(R<<20&4294967295|R>>>12),R=A+(b^V^P)+M[5]+4294588738&4294967295,A=b+(R<<4&4294967295|R>>>28),R=P+(A^b^V)+M[8]+2272392833&4294967295,P=A+(R<<11&4294967295|R>>>21),R=V+(P^A^b)+M[11]+1839030562&4294967295,V=P+(R<<16&4294967295|R>>>16),R=b+(V^P^A)+M[14]+4259657740&4294967295,b=V+(R<<23&4294967295|R>>>9),R=A+(b^V^P)+M[1]+2763975236&4294967295,A=b+(R<<4&4294967295|R>>>28),R=P+(A^b^V)+M[4]+1272893353&4294967295,P=A+(R<<11&4294967295|R>>>21),R=V+(P^A^b)+M[7]+4139469664&4294967295,V=P+(R<<16&4294967295|R>>>16),R=b+(V^P^A)+M[10]+3200236656&4294967295,b=V+(R<<23&4294967295|R>>>9),R=A+(b^V^P)+M[13]+681279174&4294967295,A=b+(R<<4&4294967295|R>>>28),R=P+(A^b^V)+M[0]+3936430074&4294967295,P=A+(R<<11&4294967295|R>>>21),R=V+(P^A^b)+M[3]+3572445317&4294967295,V=P+(R<<16&4294967295|R>>>16),R=b+(V^P^A)+M[6]+76029189&4294967295,b=V+(R<<23&4294967295|R>>>9),R=A+(b^V^P)+M[9]+3654602809&4294967295,A=b+(R<<4&4294967295|R>>>28),R=P+(A^b^V)+M[12]+3873151461&4294967295,P=A+(R<<11&4294967295|R>>>21),R=V+(P^A^b)+M[15]+530742520&4294967295,V=P+(R<<16&4294967295|R>>>16),R=b+(V^P^A)+M[2]+3299628645&4294967295,b=V+(R<<23&4294967295|R>>>9),R=A+(V^(b|~P))+M[0]+4096336452&4294967295,A=b+(R<<6&4294967295|R>>>26),R=P+(b^(A|~V))+M[7]+1126891415&4294967295,P=A+(R<<10&4294967295|R>>>22),R=V+(A^(P|~b))+M[14]+2878612391&4294967295,V=P+(R<<15&4294967295|R>>>17),R=b+(P^(V|~A))+M[5]+4237533241&4294967295,b=V+(R<<21&4294967295|R>>>11),R=A+(V^(b|~P))+M[12]+1700485571&4294967295,A=b+(R<<6&4294967295|R>>>26),R=P+(b^(A|~V))+M[3]+2399980690&4294967295,P=A+(R<<10&4294967295|R>>>22),R=V+(A^(P|~b))+M[10]+4293915773&4294967295,V=P+(R<<15&4294967295|R>>>17),R=b+(P^(V|~A))+M[1]+2240044497&4294967295,b=V+(R<<21&4294967295|R>>>11),R=A+(V^(b|~P))+M[8]+1873313359&4294967295,A=b+(R<<6&4294967295|R>>>26),R=P+(b^(A|~V))+M[15]+4264355552&4294967295,P=A+(R<<10&4294967295|R>>>22),R=V+(A^(P|~b))+M[6]+2734768916&4294967295,V=P+(R<<15&4294967295|R>>>17),R=b+(P^(V|~A))+M[13]+1309151649&4294967295,b=V+(R<<21&4294967295|R>>>11),R=A+(V^(b|~P))+M[4]+4149444226&4294967295,A=b+(R<<6&4294967295|R>>>26),R=P+(b^(A|~V))+M[11]+3174756917&4294967295,P=A+(R<<10&4294967295|R>>>22),R=V+(A^(P|~b))+M[2]+718787259&4294967295,V=P+(R<<15&4294967295|R>>>17),R=b+(P^(V|~A))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var b=A-this.blockSize,M=this.B,V=this.h,P=0;P<A;){if(V==0)for(;P<=b;)l(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<A;)if(M[V++]=O.charCodeAt(P++),V==this.blockSize){l(this,M),V=0;break}}else for(;P<A;)if(M[V++]=O[P++],V==this.blockSize){l(this,M),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var b=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=b&255,b/=256;for(this.u(O),O=Array(16),A=b=0;4>A;++A)for(var M=0;32>M;M+=8)O[b++]=this.g[A]>>>M&255;return O};function c(O,A){var b=m;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=A(O)}function d(O,A){this.h=A;for(var b=[],M=!0,V=O.length-1;0<=V;V--){var P=O[V]|0;M&&P==A||(b[V]=P,M=!1)}this.g=b}var m={};function p(O){return-128<=O&&128>O?c(O,function(A){return new d([A|0],0>A?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return I;if(0>O)return J(y(-O));for(var A=[],b=1,M=0;O>=b;M++)A[M]=O/b|0,b*=4294967296;return new d(A,0)}function T(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return J(T(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(A,8)),M=I,V=0;V<O.length;V+=8){var P=Math.min(8,O.length-V),R=parseInt(O.substring(V,V+P),A);8>P?(P=y(Math.pow(A,P)),M=M.j(P).add(y(R))):(M=M.j(b),M=M.add(y(R)))}return M}var I=p(0),C=p(1),q=p(16777216);r=d.prototype,r.m=function(){if(st(this))return-J(this).m();for(var O=0,A=1,b=0;b<this.g.length;b++){var M=this.i(b);O+=(0<=M?M:4294967296+M)*A,A*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(st(this))return"-"+J(this).toString(O);for(var A=y(Math.pow(O,6)),b=this,M="";;){var V=ot(b,A).g;b=et(b,V.j(A));var P=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=V,Z(b))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function st(O){return O.h==-1}r.l=function(O){return O=et(this,O),st(O)?-1:Z(O)?0:1};function J(O){for(var A=O.g.length,b=[],M=0;M<A;M++)b[M]=~O.g[M];return new d(b,~O.h).add(C)}r.abs=function(){return st(this)?J(this):this},r.add=function(O){for(var A=Math.max(this.g.length,O.g.length),b=[],M=0,V=0;V<=A;V++){var P=M+(this.i(V)&65535)+(O.i(V)&65535),R=(P>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);M=R>>>16,P&=65535,R&=65535,b[V]=R<<16|P}return new d(b,b[b.length-1]&-2147483648?-1:0)};function et(O,A){return O.add(J(A))}r.j=function(O){if(Z(this)||Z(O))return I;if(st(this))return st(O)?J(this).j(J(O)):J(J(this).j(O));if(st(O))return J(this.j(J(O)));if(0>this.l(q)&&0>O.l(q))return y(this.m()*O.m());for(var A=this.g.length+O.g.length,b=[],M=0;M<2*A;M++)b[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<O.g.length;V++){var P=this.i(M)>>>16,R=this.i(M)&65535,Ee=O.i(V)>>>16,te=O.i(V)&65535;b[2*M+2*V]+=R*te,nt(b,2*M+2*V),b[2*M+2*V+1]+=P*te,nt(b,2*M+2*V+1),b[2*M+2*V+1]+=R*Ee,nt(b,2*M+2*V+1),b[2*M+2*V+2]+=P*Ee,nt(b,2*M+2*V+2)}for(M=0;M<A;M++)b[M]=b[2*M+1]<<16|b[2*M];for(M=A;M<2*A;M++)b[M]=0;return new d(b,0)};function nt(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function rt(O,A){this.g=O,this.h=A}function ot(O,A){if(Z(A))throw Error("division by zero");if(Z(O))return new rt(I,I);if(st(O))return A=ot(J(O),A),new rt(J(A.g),J(A.h));if(st(A))return A=ot(O,J(A)),new rt(J(A.g),A.h);if(30<O.g.length){if(st(O)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var b=C,M=A;0>=M.l(O);)b=F(b),M=F(M);var V=ht(b,1),P=ht(M,1);for(M=ht(M,2),b=ht(b,2);!Z(M);){var R=P.add(M);0>=R.l(O)&&(V=V.add(b),P=R),M=ht(M,1),b=ht(b,1)}return A=et(O,V.j(A)),new rt(V,A)}for(V=I;0<=O.l(A);){for(b=Math.max(1,Math.floor(O.m()/A.m())),M=Math.ceil(Math.log(b)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=y(b),R=P.j(A);st(R)||0<R.l(O);)b-=M,P=y(b),R=P.j(A);Z(P)&&(P=C),V=V.add(P),O=et(O,R)}return new rt(V,O)}r.A=function(O){return ot(this,O).h},r.and=function(O){for(var A=Math.max(this.g.length,O.g.length),b=[],M=0;M<A;M++)b[M]=this.i(M)&O.i(M);return new d(b,this.h&O.h)},r.or=function(O){for(var A=Math.max(this.g.length,O.g.length),b=[],M=0;M<A;M++)b[M]=this.i(M)|O.i(M);return new d(b,this.h|O.h)},r.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),b=[],M=0;M<A;M++)b[M]=this.i(M)^O.i(M);return new d(b,this.h^O.h)};function F(O){for(var A=O.g.length+1,b=[],M=0;M<A;M++)b[M]=O.i(M)<<1|O.i(M-1)>>>31;return new d(b,O.h)}function ht(O,A){var b=A>>5;A%=32;for(var M=O.g.length-b,V=[],P=0;P<M;P++)V[P]=0<A?O.i(P+b)>>>A|O.i(P+b+1)<<32-A:O.i(P+b);return new d(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,l0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Or=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u0,ml,c0,Sc,qd,h0,f0,d0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(u,g){if(g)t:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in _))break t;_=_[U]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&t(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,S=!1,U={next:function(){if(!S&&_<u.length){var H=_++;return{value:g(H,u[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function T(u,g,_){return u.call.apply(u.bind,arguments)}function I(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),u.apply(g,U)}}return function(){return u.apply(g,arguments)}}function C(u,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:I,C.apply(null,arguments)}function q(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function Z(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,U,H){for(var at=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)at[Pt-2]=arguments[Pt];return g.prototype[U].apply(S,at)}}function st(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function J(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=u.length||0,H=S.length||0;u.length=U+H;for(let at=0;at<H;at++)u[U+at]=S[at]}else u.push(S)}}class et{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function nt(u){return/^[\s\xa0]*$/.test(u)}function rt(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function ot(u){return ot[" "](u),u}ot[" "]=function(){};var F=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function ht(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function O(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function A(u){const g={};for(const _ in u)g[_]=u[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,g){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)u[_]=S[_];for(let H=0;H<b.length;H++)_=b[H],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function V(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function P(u){m.setTimeout(()=>{throw u},0)}function R(){var u=St;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Ee{constructor(){this.h=this.g=null}add(g,_){const S=te.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new et(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,ut=!1,St=new Ee,D=()=>{const u=m.Promise.resolve(void 0);Y=()=>{u.then($)}};var $=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){P(_)}var g=te;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ut=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function Ct(u,g){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(F){t:{try{ot(g.nodeName);var U=!0;break t}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}Z(Ct,it);var At={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Bn(u,g,_,S,U){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function di(u){this.src=u,this.g={},this.h=0}di.prototype.add=function(u,g,_,S,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var at=Br(u,g,S,U);return-1<at?(g=u[at],_||(g.fa=!1)):(g=new Bn(g,this.src,H,!!S,U),g.fa=_,u.push(g)),g};function jr(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],U=Array.prototype.indexOf.call(S,g,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&(Qi(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Br(u,g,_,S){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==S)return U}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),no={};function Gl(u,g,_,S,U){if(Array.isArray(g)){for(var H=0;H<g.length;H++)Gl(u,g[H],_,S,U);return null}return _=Kl(_),u&&u[Ce]?u.K(g,_,y(S)?!!S.capture:!1,U):pn(u,g,_,!1,S,U)}function pn(u,g,_,S,U,H){if(!g)throw Error("Invalid event type");var at=y(U)?!!U.capture:!!U,Pt=Ls(u);if(Pt||(u[Hr]=Pt=new di(u)),_=Pt.add(g,_,S,at,H),_.proxy)return _;if(S=_h(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)mt||(U=at),U===void 0&&(U=!1),u.addEventListener(g.toString(),S,U);else if(u.attachEvent)u.attachEvent(qr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function _h(){function u(_){return g.call(u.src,u.listener,_)}const g=vh;return u}function io(u,g,_,S,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)io(u,g[H],_,S,U);else S=y(S)?!!S.capture:!!S,_=Kl(_),u&&u[Ce]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],_=Br(H,_,S,U),-1<_&&(Qi(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ls(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Br(g,_,S,U)),(_=-1<u?g[u]:null)&&Us(_))}function Us(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ce])jr(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(qr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Ls(g))?(jr(_,u),_.h==0&&(_.src=null,g[Hr]=null)):Qi(u)}}}function qr(u){return u in no?no[u]:no[u]="on"+u}function vh(u,g){if(u.da)u=!0;else{g=new Ct(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&Us(u),u=_.call(S,g)}return u}function Ls(u){return u=u[Hr],u instanceof di?u:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(u){return typeof u=="function"?u:(u[ro]||(u[ro]=function(g){return u.handleEvent(g)}),u[ro])}function oe(){lt.call(this),this.i=new di(this),this.M=this,this.F=null}Z(oe,lt),oe.prototype[Ce]=!0,oe.prototype.removeEventListener=function(u,g,_,S){io(this,u,g,_,S)};function qt(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new it(g,u);else if(g instanceof it)g.target=g.target||u;else{var U=g;g=new it(S,u),M(g,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var at=g.g=_[H];U=an(at,S,!0,g)&&U}if(at=g.g=u,U=an(at,S,!0,g)&&U,U=an(at,S,!1,g)&&U,_)for(H=0;H<_.length;H++)at=g.g=_[H],U=an(at,S,!1,g)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)Qi(_[S]);delete u.g[g],u.h--}}this.F=null},oe.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},oe.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function an(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,H=0;H<g.length;++H){var at=g[H];if(at&&!at.da&&at.capture==_){var Pt=at.listener,Se=at.ha||at.src;at.fa&&jr(u.i,at),U=Pt.call(Se,S)!==!1&&U}}return U&&!S.defaultPrevented}function Fe(u,g,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Ql(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,Ql(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Eh extends lt{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ql(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(u){lt.call(this),this.h=u,this.g={}}Z(Fr,lt);var Gr=[];function Kr(u){ht(u.g,function(g,_){this.g.hasOwnProperty(_)&&Us(g)},u),u.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Kr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=m.JSON.stringify,zs=m.JSON.parse,Qr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function oo(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){it.call(this,"d")}Z(mi,it);function lo(){it.call(this,"c")}Z(lo,it);var Hn={},uo=null;function Yi(){return uo=uo||new oe}Hn.La="serverreachability";function js(u){it.call(this,Hn.La,u)}Z(js,it);function Xi(u){const g=Yi();qt(g,new js(g))}Hn.STAT_EVENT="statevent";function Yl(u,g){it.call(this,Hn.STAT_EVENT,u),this.stat=g}Z(Yl,it);function ne(u){const g=Yi();qt(g,new Yl(g,u))}Hn.Ma="timingevent";function Te(u,g){it.call(this,Hn.Ma,u),this.size=g}Z(Te,it);function ge(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function co(u,g,_,S,U,H){u.info(function(){if(u.g)if(H)for(var at="",Pt=H.split("&"),Se=0;Se<Pt.length;Se++){var kt=Pt[Se].split("=");if(1<kt.length){var xe=kt[0];kt=kt[1];var Ae=xe.split("_");at=2<=Ae.length&&Ae[1]=="type"?at+(xe+"="+kt+"&"):at+(xe+"=redacted&")}}else at=null;else at=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+_+`
`+at})}function Th(u,g,_,S,U,H,at){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+_+`
`+H+" "+at})}function Wi(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Yr(u,_)+(S?" "+S:"")})}function Xl(u,g){u.info(function(){return"TIMEOUT: "+g})}yn.prototype.info=function(){};function Yr(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var at=1;at<U.length;at++)U[at]=""}}}}return On(_)}catch{return g}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Fn(){}Z(Fn,so),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},qn=new Fn;function $e(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var ho={},Bs={};function Nn(u,g,_){u.L=1,u.v=Jr(on(g)),u.m=_,u.P=!0,yi(u,null)}function yi(u,g){u.F=Date.now(),Xr(u),u.A=on(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),_o(_.i,"t",S),u.C=0,_=u.j.J,u.h=new ce,u.g=hu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Eh(C(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Gr[0]=U.toString()),U=Gr);for(var H=0;H<U.length;H++){var at=Gl(_,U[H],S||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Xi(),co(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const g=this.M;g&&Tn(u)==3?g.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=Tn(this.g);var g=this.g.Ba();const wi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||iu(this.g)))){this.J||Ae!=4||g==7||(g==8||0>=wi?Xi(3):Xi(2)),Zi(this);var _=this.g.Z();this.X=_;e:if(Wl(this)){var S=iu(this.g);u="";var U=S.length,H=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Gn(this);var at="";break e}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(H&&g==U-1)});S.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Th(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Se=this.g;if((Pt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Pt)){var kt=Pt;break e}}kt=null}if(_=kt)Wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,_);else{this.o=!1,this.s=3,ne(12),ke(this),Gn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<at.length;)if(Ue=$l(this,at),Ue==Bs){Ae==4&&(this.s=4,ne(14),_=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==ho){this.s=4,ne(15),Wi(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else Wi(this.i,this.l,Ue,null),Wr(this,Ue);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||at.length!=0||this.h.h||(this.s=1,ne(16),_=!1),this.o=this.o&&_,!_)Wi(this.i,this.l,at,"[Invalid Chunked Response]"),ke(this),Gn(this);else if(0<at.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),os(xe),xe.M=!0,ne(11))}}else Wi(this.i,this.l,at,null),Wr(this,at);Ae==4&&ke(this),this.o&&!this.J&&(Ae==4?lu(this.j,this):(this.o=!1,Xr(this)))}else Rh(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),ke(this),Gn(this)}}}catch{}finally{}};function Wl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function $l(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?Bs:(_=Number(g.substring(_,S)),isNaN(_)?ho:(S+=1,S+_>g.length?Bs:(g=g.slice(S,S+_),u.C=S+_,g)))}$e.prototype.cancel=function(){this.J=!0,ke(this)};function Xr(u){u.S=Date.now()+u.I,Zl(u,u.I)}function Zl(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(C(u.ba,u),g)}function Zi(u){u.B&&(m.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xl(this.i,this.A),this.L!=2&&(Xi(),ne(17)),ke(this),this.s=2,Gn(this)):Zl(this,this.S-u)};function Gn(u){u.j.G==0||u.J||lu(u.j,u)}function ke(u){Zi(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Kr(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Wr(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||fo(_.h,u))){if(!u.K&&fo(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Js(_),$s(_);else break t;Ao(_),ne(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=ge(C(_.Za,_),6e3));if(1>=qs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((u.K||_.g==u)&&Js(_),!nt(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let kt=U[g];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const xe=kt[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const Ae=kt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const wi=kt[5];wi!=null&&typeof wi=="number"&&0<wi&&(S=1.5*wi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ue=u.g;if(Ue){const Zn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var H=S.h;H.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Fs(H,H.h),H.h=null))}if(S.D){const wo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(S.ya=wo,Kt(S.I,S.D,wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var at=u;if(S.qa=cu(S,S.J?S.ia:null,S.W),at.K){Ze(S.h,at);var Pt=at,Se=S.L;Se&&(Pt.I=Se),Pt.B&&(Zi(Pt),Xr(Pt)),S.g=at}else au(S);0<_.i.length&&Zs(_)}else kt[0]!="stop"&&kt[0]!="close"||bi(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?bi(_,7):To(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}Xi(4)}catch{}}var Jl=class{constructor(u,g){this.g=u,this.map=g}};function _i(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qs(u){return u.h?1:u.g?u.g.size:0}function fo(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Fs(u,g){u.g?u.g.add(g):u.h=g}function Ze(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}_i.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function go(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return st(u.i)}function Sh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function Gs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function mo(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Gs(u),S=Sh(u),U=S.length,H=0;H<U;H++)g.call(void 0,S[H],_&&_[H],u)}var $r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ah(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),U=null;if(0<=S){var H=u[_].substring(0,S);U=u[_].substring(S+1)}else H=u[_];g(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Zr(this,u.j),this.o=u.o,this.g=u.g,Ji(this,u.s),this.l=u.l;var g=u.i,_=new Ei;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),vi(this,_),this.m=u.m}else u&&(g=String(u).match($r))?(this.h=!1,Zr(this,g[1]||"",!0),this.o=_n(g[2]||""),this.g=_n(g[3]||"",!0),Ji(this,g[4]),this.l=_n(g[5]||"",!0),vi(this,g[6]||"",!0),this.m=_n(g[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}me.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ts(g,po,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ts(g,po,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ts(_,_.charAt(0)=="/"?bh:yo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ts(_,Ks)),u.join("")};function on(u){return new me(u)}function Zr(u,g,_){u.j=_?_n(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ji(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function vi(u,g,_){g instanceof Ei?(u.i=g,eu(u.i,u.h)):(_||(g=ts(g,wh)),u.i=new Ei(g,u.h))}function Kt(u,g,_){u.i.set(g,_)}function Jr(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ts(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,tu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,yo=/[#\?:]/g,bh=/[#\?]/g,wh=/[#\?@]/g,Ks=/#/g;function Ei(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ah(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Ei.prototype,r.add=function(u,g){vn(this),this.i=null,u=Kn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Ti(u,g){vn(u),g=Kn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Si(u,g){return vn(u),g=Kn(u,g),u.g.has(g)}r.forEach=function(u,g){vn(this),this.g.forEach(function(_,S){_.forEach(function(U){u.call(g,U,S,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const U=u[S];for(let H=0;H<U.length;H++)_.push(g[S])}return _},r.V=function(u){vn(this);let g=[];if(typeof u=="string")Si(this,u)&&(g=g.concat(this.g.get(Kn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},r.set=function(u,g){return vn(this),this.i=null,u=Kn(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function _o(u,g,_){Ti(u,g),0<_.length&&(u.i=null,u.g.set(Kn(u,g),st(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const H=encodeURIComponent(String(S)),at=this.V(S);for(S=0;S<at.length;S++){var U=H;at[S]!==""&&(U+="="+encodeURIComponent(String(at[S]))),u.push(U)}}return this.i=u.join("&")};function Kn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function eu(u,g){g&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Ti(this,S),_o(this,U,_))},u)),u.j=g}function es(u,g){const _=new yn;if(m.Image){const S=new Image;S.onload=q(En,_,"TestLoadImage: loaded",!0,g,S),S.onerror=q(En,_,"TestLoadImage: error",!1,g,S),S.onabort=q(En,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=q(En,_,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function Mn(u,g){const _=new yn,S=new AbortController,U=setTimeout(()=>{S.abort(),En(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?En(_,"TestPingServer: ok",!0,g):En(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),En(_,"TestPingServer: error",!1,g)})}function En(u,g,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function ns(){this.g=new Qr}function Qn(u,g,_){const S=_||"";try{mo(u,function(U,H){let at=U;y(U)&&(at=On(U)),g.push(S+H+"="+encodeURIComponent(at))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function tr(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(tr,so),tr.prototype.g=function(){return new Ai(this.l,this.j)},tr.prototype.i=function(u){return function(){return u}}({});function Ai(u,g){oe.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Ai,oe),r=Ai.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Yn(this):Xn(this),this.readyState==3&&vo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Eo(u){let g="";return ht(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function De(u,g,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Eo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Kt(u,g,_))}function Bt(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,oe);var Qs=/^https?$/i,is=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?ao(this.o):ao(qn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){nu(this,H);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(is,g,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,at]of _)this.g.setRequestHeader(H,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){nu(this,H)}};function nu(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ys(u),Wn(u)}function Ys(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},r.bb=function(){Xs(this)};function Xs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Fe(u.Ea,0,u);else if(qt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var S;if(S=at===0){var U=String(u.D).match($r)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),S=!Qs.test(U?U.toLowerCase():"")}_=S}if(_)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var H=2<Tn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Ys(u)}}finally{Wn(u)}}}}function Wn(u,g){if(u.g){rs(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||qt(u,"ready");try{_.onreadystatechange=S}catch{}}}function rs(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),zs(g)}};function iu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(u){const g={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(nt(u[S]))continue;var _=V(u[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[U]||[];g[U]=H,H.push(_)}O(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Ws(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,u),this.cb=ss("retryDelaySeedMs",1e4,u),this.Wa=ss("forwardChannelMaxRetries",2,u),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(u&&u.concurrentRequestLimit),this.Da=new ns,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(u,g,_,S){ne(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=cu(this,null,this.W),Zs(this)};function To(u){if(ru(u),u.G==3){var g=u.U++,_=on(u.I);if(Kt(_,"SID",u.K),Kt(_,"RID",g),Kt(_,"TYPE","terminate"),as(u,_),g=new $e(u,u.j,g),g.L=2,g.v=Jr(on(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=hu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Xr(g)}uu(u)}function $s(u){u.g&&(os(u),u.g.cancel(),u.g=null)}function ru(u){$s(u),u.u&&(m.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Zs(u){if(!Hs(u.h)&&!u.s){u.s=!0;var g=u.Ga;Y||D(),ut||(Y(),ut=!0),St.add(g,u),u.B=0}}function Ih(u,g){return qs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(C(u.Ga,u,g),bo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new $e(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),M(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=su(this,U,g),_=on(this.I),Kt(_,"RID",u),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),as(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(Eo(H)))+"&"+g:this.m&&De(_,this.m,H)),Fs(this.h,U),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",g),Kt(_,"SID","null"),U.T=!0,Nn(U,_,null)):Nn(U,_,g),this.G=2}}else this.G==3&&(u?So(this,u):this.i.length==0||Hs(this.h)||So(this))};function So(u,g){var _;g?_=g.l:_=u.U++;const S=on(u.I);Kt(S,"SID",u.K),Kt(S,"RID",_),Kt(S,"AID",u.T),as(u,S),u.m&&u.o&&De(S,u.m,u.o),_=new $e(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=su(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fs(u.h,_),Nn(_,S,g)}function as(u,g){u.H&&ht(u.H,function(_,S){Kt(g,S,_)}),u.l&&mo({},function(_,S){Kt(g,S,_)})}function su(u,g,_){_=Math.min(u.i.length,_);var S=u.l?C(u.l.Na,u.l,u):null;t:{var U=u.i;let H=-1;for(;;){const at=["count="+_];H==-1?0<_?(H=U[0].g,at.push("ofs="+H)):H=0:at.push("ofs="+H);let Pt=!0;for(let Se=0;Se<_;Se++){let kt=U[Se].g;const xe=U[Se].map;if(kt-=H,0>kt)H=Math.max(0,U[Se].g-100),Pt=!1;else try{Qn(xe,at,"req"+kt+"_")}catch{S&&S(xe)}}if(Pt){S=at.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,S}function au(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Y||D(),ut||(Y(),ut=!0),St.add(g,u),u.v=0}}function Ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(C(u.Fa,u),bo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),$s(this),ou(this))};function os(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function ou(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=on(u.qa);Kt(g,"RID","rpc"),Kt(g,"SID",u.K),Kt(g,"AID",u.T),Kt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(g,"TO",u.ja),Kt(g,"TYPE","xmlhttp"),as(u,g),u.m&&u.o&&De(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Jr(on(g)),_.m=null,_.P=!0,yi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,$s(this),Ao(this),ne(19))};function Js(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function lu(u,g){var _=null;if(u.g==g){Js(u),os(u),u.g=null;var S=2}else if(fo(u.h,g))_=g.D,Ze(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=u.B;S=Yi(),qt(S,new Te(S,_)),Zs(u)}else au(u);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&Ih(u,g)||S==2&&Ao(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),U){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function bo(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function bi(u,g){if(u.j.info("Error code "+g),g==2){var _=C(u.fb,u),S=u.Xa;const U=!S;S=new me(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Zr(S,"https"),Jr(S),U?es(S.toString(),_):Mn(S.toString(),_)}else ne(2);u.G=0,u.l&&u.l.sa(g),uu(u),ru(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function uu(u){if(u.G=0,u.ka=[],u.l){const g=go(u.h);(g.length!=0||u.i.length!=0)&&(J(u.ka,g),J(u.ka,u.i),u.h.i.length=0,st(u.i),u.i.length=0),u.l.ra()}}function cu(u,g,_){var S=_ instanceof me?on(_):new me(_);if(S.g!="")g&&(S.g=g+"."+S.g),Ji(S,S.s);else{var U=m.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var H=new me(null);S&&Zr(H,S),g&&(H.g=g),U&&Ji(H,U),_&&(H.l=_),S=H}return _=u.D,g=u.ya,_&&g&&Kt(S,_,g),Kt(S,"VER",u.la),as(u,S),S}function hu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Bt(new tr({eb:_})):new Bt(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ta(){}ta.prototype.g=function(u,g){return new Je(u,g)};function Je(u,g){oe.call(this),this.g=new Ws(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!nt(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!nt(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new $n(this)}Z(Je,oe),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){To(this.g)},Je.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=On(u),u=_);g.i.push(new Jl(g.Ya++,u)),g.G==3&&Zs(g)},Je.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Je.aa.N.call(this)};function du(u){mi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}Z(du,mi);function gu(){lo.call(this),this.status=1}Z(gu,lo);function $n(u){this.g=u}Z($n,fu),$n.prototype.ua=function(){qt(this.g,"a")},$n.prototype.ta=function(u){qt(this.g,new du(u))},$n.prototype.sa=function(u){qt(this.g,new gu)},$n.prototype.ra=function(){qt(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,d0=function(){return new ta},f0=function(){return Yi()},h0=Hn,qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Sc=$i,pi.COMPLETE="complete",c0=pi,oo.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,ml=oo,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,u0=Bt}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",C_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new ug("@firebase/firestore");function Da(){return Ds.logLevel}function ct(r,...t){if(Ds.logLevel<=Nt.DEBUG){const n=t.map(fg);Ds.debug(`Firestore (${Wa}): ${r}`,...n)}}function qi(r,...t){if(Ds.logLevel<=Nt.ERROR){const n=t.map(fg);Ds.error(`Firestore (${Wa}): ${r}`,...n)}}function Ba(r,...t){if(Ds.logLevel<=Nt.WARN){const n=t.map(fg);Ds.warn(`Firestore (${Wa}): ${r}`,...n)}}function fg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,g0(r,s,n)}function g0(r,t,n){let s=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qi(s),new Error(s)}function Ht(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||g0(t,l,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class LA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zA{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ws,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ws)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new m0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class jA{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BA{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new jA(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HA{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=qA(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Mt(r,t){return r<t?-1:r>t?1:0}function Fd(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return xd(l)===xd(c)?Mt(l,c):xd(l)?1:-1}return Mt(r.length,t.length)}const FA=55296,GA=57343;function xd(r){const t=r.charCodeAt(0);return t>=FA&&t<=GA}function Ha(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ri.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Mt(t.length,n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),l=ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ri.extractNumericId(t).compare(ri.extractNumericId(n)):Fd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Or.fromString(t.substring(4,t.length-2))}}class se extends ri{construct(t,n,s){return new se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new gt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new se(n)}static emptyPath(){return new se([])}}const KA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ri{construct(t,n,s){return new He(t,n,s)}static isValidIdentifier(t){return KA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new He([x_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new gt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new gt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else m==="`"?(d=!d,l++):m!=="."||d?(s+=m,l++):(c(),l++)}if(c(),d)throw new gt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(se.fromString(t))}static fromName(t){return new pt(se.fromString(t).popFirst(5))}static empty(){return new pt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(r,t,n){if(!n)throw new gt(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function YA(r,t,n,s){if(t===!0&&s===!0)throw new gt(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function O_(r){if(!pt.isDocumentKey(r))throw new gt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function p0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function gg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Va(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new gt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gg(r);throw new gt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,t){const n={typeString:r};return t&&(n.value=t),n}function Ul(r,t){if(!p0(r))throw new gt(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new gt(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=-62135596800,M_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*M_);return new ee(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<N_)throw new gt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ul(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-N_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:ve("string",ee._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ee(0,0))}static max(){return new bt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function XA(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(s===1e9?new ee(n+1,0):new ee(n,s));return new Mr(l,pt.empty(),t)}function WA(r){return new Mr(r.readTime,r.key,Rl)}class Mr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Mr(bt.min(),pt.empty(),Rl)}static max(){return new Mr(bt.max(),pt.empty(),Rl)}}function $A(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==ZA)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,s)=>{n(t)})}static reject(t){return new W((n,s)=>{s(t)})}static waitFor(t){return new W((n,s)=>{let l=0,c=0,d=!1;t.forEach(m=>{++l,m.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next(l=>l?W.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new W((s,l)=>{const c=t.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;n(t[y]).next(T=>{d[y]=T,++m,m===c&&s(d)},T=>l(T))}})}static doWhile(t,n){return new W((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function tb(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=-1;function nh(r){return r==null}function Pc(r){return r===0&&1/r==-1/0}function eb(r){return typeof r=="number"&&Number.isInteger(r)&&!Pc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="";function nb(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=V_(t)),t=ib(r.get(n),t);return V_(t)}function ib(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case y0:n+="";break;default:n+=c}}return n}function V_(r){return r+y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ns(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function _0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pc(this.root,t,this.comparator,!0)}}class pc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Be.RED,this.left=l??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Be(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(t){return new k_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class k_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new Ie(He.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v0("Invalid base64 string: "+c):c}}(t);return new qe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const rb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=rb.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Pr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="server_timestamp",T0="__type__",S0="__previous_value__",A0="__local_write_time__";function pg(r){return(r?.mapValue?.fields||{})[T0]?.stringValue===E0}function ih(r){const t=r.mapValue.fields[S0];return pg(t)?ih(t):t}function Il(r){const t=Vr(r.mapValue.fields[A0].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n,s,l,c,d,m,p,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const kc="(default)";class Cl{constructor(t,n){this.projectId=t,this.database=n||kc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===kc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="__type__",ab="__max__",yc={mapValue:{}},w0="__vector__",Uc="value";function kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pg(r)?4:lb(r)?9007199254740991:ob(r)?10:11:Et(28295,{value:r})}function hi(r,t){if(r===t)return!0;const n=kr(r);if(n!==kr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Il(r).isEqual(Il(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Vr(l.timestampValue),m=Vr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Pr(l.bytesValue).isEqual(Pr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return de(l.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return de(l.integerValue)===de(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=de(l.doubleValue),m=de(c.doubleValue);return d===m?Pc(d)===Pc(m):isNaN(d)&&isNaN(m)}return!1}(r,t);case 9:return Ha(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},m=c.mapValue.fields||{};if(P_(d)!==P_(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!hi(d[p],m[p])))return!1;return!0}(r,t);default:return Et(52216,{left:r})}}function Dl(r,t){return(r.values||[]).find(n=>hi(n,t))!==void 0}function qa(r,t){if(r===t)return 0;const n=kr(r),s=kr(t);if(n!==s)return Mt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const m=de(c.integerValue||c.doubleValue),p=de(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return U_(r.timestampValue,t.timestampValue);case 4:return U_(Il(r),Il(t));case 5:return Fd(r.stringValue,t.stringValue);case 6:return function(c,d){const m=Pr(c),p=Pr(d);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Mt(m[y],p[y]);if(T!==0)return T}return Mt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const m=Mt(de(c.latitude),de(d.latitude));return m!==0?m:Mt(de(c.longitude),de(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return L_(r.arrayValue,t.arrayValue);case 10:return function(c,d){const m=c.fields||{},p=d.fields||{},y=m[Uc]?.arrayValue,T=p[Uc]?.arrayValue,I=Mt(y?.values?.length||0,T?.values?.length||0);return I!==0?I:L_(y,T)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===yc.mapValue&&d===yc.mapValue)return 0;if(c===yc.mapValue)return 1;if(d===yc.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let I=0;I<p.length&&I<T.length;++I){const C=Fd(p[I],T[I]);if(C!==0)return C;const q=qa(m[p[I]],y[T[I]]);if(q!==0)return q}return Mt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function U_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const n=Vr(r),s=Vr(t),l=Mt(n.seconds,s.seconds);return l!==0?l:Mt(n.nanos,s.nanos)}function L_(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=qa(n[l],s[l]);if(c)return c}return Mt(n.length,s.length)}function Fa(r){return Gd(r)}function Gd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Vr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Pr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Gd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Gd(n.fields[d])}`;return l+"}"}(r.mapValue):Et(61005,{value:r})}function Ac(r){switch(kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ih(r);return t?16+Ac(t):16;case 5:return 2*r.stringValue.length;case 6:return Pr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Ac(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ns(s.fields,(c,d)=>{l+=c.length+Ac(d)}),l}(r.mapValue);default:throw Et(13486,{value:r})}}function Kd(r){return!!r&&"integerValue"in r}function yg(r){return!!r&&"arrayValue"in r}function z_(r){return!!r&&"nullValue"in r}function j_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bc(r){return!!r&&"mapValue"in r}function ob(r){return(r?.mapValue?.fields||{})[b0]?.stringValue===w0}function El(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ns(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=El(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=El(r.arrayValue.values[n]);return t}return{...r}}function lb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ab}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!bc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(n)}setAll(t){let n=He.emptyPath(),s={},l=[];t.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=m.popLast()}d?s[m.lastSegment()]=El(d):l.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Ns(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Dn(El(this.value))}}function R0(r){const t=[];return Ns(r.fields,(n,s)=>{const l=new He([n]);if(bc(s)){const c=R0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,l,c,d,m){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,bt.min(),bt.min(),bt.min(),Dn.empty(),0)}static newFoundDocument(t,n,s,l){return new Xe(t,1,n,bt.min(),s,l,0)}static newNoDocument(t,n){return new Xe(t,2,n,bt.min(),bt.min(),Dn.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,bt.min(),bt.min(),Dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,n){this.position=t,this.inclusive=n}}function B_(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),n.key):s=qa(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function H_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n="asc"){this.field=t,this.dir=n}}function ub(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{}class Re extends I0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new hb(t,n,s):n==="array-contains"?new gb(t,s):n==="in"?new mb(t,s):n==="not-in"?new pb(t,s):n==="array-contains-any"?new yb(t,s):new Re(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new fb(t,s):new db(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends I0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new fi(t,n)}matches(t){return C0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C0(r){return r.op==="and"}function D0(r){return cb(r)&&C0(r)}function cb(r){for(const t of r.filters)if(t instanceof fi)return!1;return!0}function Qd(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Fa(r.value);if(D0(r))return r.filters.map(t=>Qd(t)).join(",");{const t=r.filters.map(n=>Qd(n)).join(",");return`${r.op}(${t})`}}function x0(r,t){return r instanceof Re?function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&hi(s.value,l.value)}(r,t):r instanceof fi?function(s,l){return l instanceof fi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,m)=>c&&x0(d,l.filters[m]),!0):!1}(r,t):void Et(19439)}function O0(r){return r instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(r):r instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(O0).join(" ,")+"}"}(r):"Filter"}class hb extends Re{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class fb extends Re{constructor(t,n){super(t,"in",n),this.keys=N0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class db extends Re{constructor(t,n){super(t,"not-in",n),this.keys=N0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function N0(r,t){return(t.arrayValue?.values||[]).map(n=>pt.fromName(n.referenceValue))}class gb extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yg(n)&&Dl(n.arrayValue,this.value)}}class mb extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class pb extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dl(this.value.arrayValue,n)}}class yb extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Dl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,n=null,s=[],l=[],c=null,d=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function q_(r,t=null,n=[],s=[],l=null,c=null,d=null){return new _b(r,t,n,s,l,c,d)}function _g(r){const t=wt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Qd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Fa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Fa(s)).join(",")),t.Te=n}return t.Te}function vg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ub(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!x0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!H_(r.startAt,t.startAt)&&H_(r.endAt,t.endAt)}function Yd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n=null,s=[],l=[],c=null,d="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vb(r,t,n,s,l,c,d,m){return new rh(r,t,n,s,l,c,d,m)}function Eg(r){return new rh(r)}function F_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Eb(r){return r.collectionGroup!==null}function Tl(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ie(He.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new zc(c,s))}),n.has(He.keyField().canonicalString())||t.Ie.push(new zc(He.keyField(),s))}return t.Ie}function si(r){const t=wt(r);return t.Ee||(t.Ee=Tb(t,Tl(r))),t.Ee}function Tb(r,t){if(r.limitType==="F")return q_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new zc(l.field,c)});const n=r.endAt?new Lc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lc(r.startAt.position,r.startAt.inclusive):null;return q_(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Xd(r,t,n){return new rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function sh(r,t){return vg(si(r),si(t))&&r.limitType===t.limitType}function M0(r){return`${_g(si(r))}|lt:${r.limitType}`}function xa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>O0(l)).join(", ")}]`),nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Fa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Fa(l)).join(",")),`Target(${s})`}(si(r))}; limitType=${r.limitType})`}function ah(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of Tl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,m,p){const y=B_(d,m,p);return d.inclusive?y<=0:y<0}(s.startAt,Tl(s),l)||s.endAt&&!function(d,m,p){const y=B_(d,m,p);return d.inclusive?y>=0:y>0}(s.endAt,Tl(s),l))}(r,t)}function Sb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function V0(r){return(t,n)=>{let s=!1;for(const l of Tl(r)){const c=Ab(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Ab(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?qa(p,y):Et(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ns(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return _0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new ae(pt.comparator);function Fi(){return bb}const P0=new ae(pt.comparator);function pl(...r){let t=P0;for(const n of r)t=t.insert(n.key,n);return t}function k0(r){let t=P0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function bs(){return Sl()}function U0(){return Sl()}function Sl(){return new Ms(r=>r.toString(),(r,t)=>r.isEqual(t))}const wb=new ae(pt.comparator),Rb=new Ie(pt.comparator);function Vt(...r){let t=Rb;for(const n of r)t=t.add(n);return t}const Ib=new Ie(Mt);function Cb(){return Ib}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function L0(r){return{integerValue:""+r}}function Db(r,t){return eb(t)?L0(t):Tg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function xb(r,t,n){return r instanceof jc?function(l,c){const d={fields:{[T0]:{stringValue:E0},[A0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&pg(c)&&(c=ih(c)),c&&(d.fields[S0]=c),{mapValue:d}}(n,t):r instanceof xl?j0(r,t):r instanceof Ol?B0(r,t):function(l,c){const d=z0(l,c),m=G_(d)+G_(l.Ae);return Kd(d)&&Kd(l.Ae)?L0(m):Tg(l.serializer,m)}(r,t)}function Ob(r,t,n){return r instanceof xl?j0(r,t):r instanceof Ol?B0(r,t):n}function z0(r,t){return r instanceof Bc?function(s){return Kd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class jc extends oh{}class xl extends oh{constructor(t){super(),this.elements=t}}function j0(r,t){const n=H0(t);for(const s of r.elements)n.some(l=>hi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Ol extends oh{constructor(t){super(),this.elements=t}}function B0(r,t){let n=H0(t);for(const s of r.elements)n=n.filter(l=>!hi(l,s));return{arrayValue:{values:n}}}class Bc extends oh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function G_(r){return de(r.integerValue||r.doubleValue)}function H0(r){return yg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Nb(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof xl&&l instanceof xl||s instanceof Ol&&l instanceof Ol?Ha(s.elements,l.elements,hi):s instanceof Bc&&l instanceof Bc?hi(s.Ae,l.Ae):s instanceof jc&&l instanceof jc}(r.transform,t.transform)}class Mb{constructor(t,n){this.version=t,this.transformResults=n}}class Bi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lh{}function q0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new G0(r.key,Bi.none()):new Ll(r.key,r.data,Bi.none());{const n=r.data,s=Dn.empty();let l=new Ie(He.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Vs(r.key,s,new Ln(l.toArray()),Bi.none())}}function Vb(r,t,n){r instanceof Ll?function(l,c,d){const m=l.value.clone(),p=Q_(l.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,t,n):r instanceof Vs?function(l,c,d){if(!wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const m=Q_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(F0(l)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function Al(r,t,n,s){return r instanceof Ll?function(c,d,m,p){if(!wc(c.precondition,d))return m;const y=c.value.clone(),T=Y_(c.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof Vs?function(c,d,m,p){if(!wc(c.precondition,d))return m;const y=Y_(c.fieldTransforms,p,d),T=d.data;return T.setAll(F0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,d,m){return wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,t,n)}function Pb(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=z0(s.transform,l||null);c!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,c))}return n||null}function K_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ha(s,l,(c,d)=>Nb(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ll extends lh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Vs extends lh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function F0(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Q_(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,m=t.data.field(c.field);s.set(c.field,Ob(d,m,n[l]))}return s}function Y_(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,xb(c,d,t))}return s}class G0 extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kb extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Vb(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=U0();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(l.key)?null:m;const p=q0(d,m);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,(n,s)=>K_(n,s))&&Ha(this.baseMutations,t.baseMutations,(n,s)=>K_(n,s))}}class Sg{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=function(){return wb}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Sg(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function jb(r){switch(r){case tt.OK:return Et(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function K0(r){if(r===void 0)return qi("GRPC error has no .code"),tt.UNKNOWN;switch(r){case _e.OK:return tt.OK;case _e.CANCELLED:return tt.CANCELLED;case _e.UNKNOWN:return tt.UNKNOWN;case _e.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case _e.INTERNAL:return tt.INTERNAL;case _e.UNAVAILABLE:return tt.UNAVAILABLE;case _e.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case _e.NOT_FOUND:return tt.NOT_FOUND;case _e.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case _e.ABORTED:return tt.ABORTED;case _e.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case _e.DATA_LOSS:return tt.DATA_LOSS;default:return Et(39323,{code:r})}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new Or([4294967295,4294967295],0);function X_(r){const t=Bb().encode(r),n=new l0;return n.update(t),new Uint8Array(n.digest())}function W_(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Or([n,s],0),new Or([l,c],0)]}class Ag{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(s<0)throw new yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Or.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Or.fromNumber(s)));return l.compare(Hb)===1&&(l=new Or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=X_(t),[s,l]=W_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Ag(c,l,n);return s.forEach(m=>d.insert(m)),d}insert(t){if(this.ge===0)return;const n=X_(t),[s,l]=W_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,zl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new uh(bt.min(),l,new ae(Mt),Fi(),Vt())}}class zl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new zl(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class Q0{constructor(t,n){this.targetId=t,this.Ce=n}}class Y0{constructor(t,n,s=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class $_{constructor(){this.ve=0,this.Fe=Z_(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),n=Vt(),s=Vt();return this.Fe.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}}),new zl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Z_()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qb{constructor(t){this.Ge=t,this.ze=new Map,this.je=Fi(),this.Je=_c(),this.He=_c(),this.Ye=new ae(Mt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,l)=>{this.rt(l)&&n(l)})}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Yd(c))if(s===0){const d=new pt(c.path);this.et(n,d,Xe.newNoDocument(d,bt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const m=this.ut(t),p=m?this.ct(m,t,d):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,m;try{d=Pr(s).toUint8Array()}catch(p){if(p instanceof v0)return Ba("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ag(d,l,c)}catch(p){return Ba(p instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.et(n,c,null),l++)}),l}Tt(t){const n=new Map;this.ze.forEach((c,d)=>{const m=this.ot(d);if(m){if(c.current&&Yd(m.target)){const p=new pt(m.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Xe.newNoDocument(p,t))}c.Be&&(n.set(d,c.ke()),c.qe())}});let s=Vt();this.He.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.je.forEach((c,d)=>d.setReadTime(t));const l=new uh(t,n,this.Ye,this.je,s);return this.je=Fi(),this.Je=_c(),this.He=_c(),this.Ye=new ae(Mt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new $_,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ie(Mt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ie(Mt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new $_),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function _c(){return new ae(pt.comparator)}function Z_(){return new ae(pt.comparator)}const Fb={asc:"ASCENDING",desc:"DESCENDING"},Gb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kb={and:"AND",or:"OR"};class Qb{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wd(r,t){return r.useProto3Json||nh(t)?t:{value:t}}function Hc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Yb(r,t){return Hc(r,t.toTimestamp())}function ai(r){return Ht(!!r,49232),bt.fromTimestamp(function(n){const s=Vr(n);return new ee(s.seconds,s.nanos)}(r))}function bg(r,t){return $d(r,t).canonicalString()}function $d(r,t){const n=function(l){return new se(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function W0(r){const t=se.fromString(r);return Ht(eE(t),10190,{key:t.toString()}),t}function Zd(r,t){return bg(r.databaseId,t.path)}function Od(r,t){const n=W0(t);if(n.get(1)!==r.databaseId.projectId)throw new gt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new gt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(Z0(n))}function $0(r,t){return bg(r.databaseId,t)}function Xb(r){const t=W0(r);return t.length===4?se.emptyPath():Z0(t)}function Jd(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Z0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function J_(r,t,n){return{name:Zd(r,t),fields:n.value.mapValue.fields}}function Wb(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),qe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),qe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(y){const T=y.code===void 0?tt.UNKNOWN:K0(y.code);return new gt(T,y.message||"")}(d);n=new Y0(s,l,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Od(r,s.document.name),c=ai(s.document.updateTime),d=s.document.createTime?ai(s.document.createTime):bt.min(),m=new Dn({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(l,c,d,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Rc(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Od(r,s.document),c=s.readTime?ai(s.readTime):bt.min(),d=Xe.newNoDocument(l,c),m=s.removedTargetIds||[];n=new Rc([],m,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Od(r,s.document),c=s.removedTargetIds||[];n=new Rc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new zb(l,c),m=s.targetId;n=new Q0(m,d)}}return n}function $b(r,t){let n;if(t instanceof Ll)n={update:J_(r,t.key,t.value)};else if(t instanceof G0)n={delete:Zd(r,t.key)};else if(t instanceof Vs)n={update:J_(r,t.key,t.data),updateMask:aw(t.fieldMask)};else{if(!(t instanceof kb))return Et(16599,{Vt:t.type});n={verify:Zd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bc)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Yb(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(r,t.precondition)),n}function Zb(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?ai(l.updateTime):ai(c);return d.isEqual(bt.min())&&(d=ai(c)),new Mb(d,l.transformResults||[])}(n,t))):[]}function Jb(r,t){return{documents:[$0(r,t.path)]}}function tw(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$0(r,l);const c=function(y){if(y.length!==0)return tE(fi.create(y,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:Oa(C.field),direction:iw(C.dir)}}(T))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const m=Wd(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ft:n,parent:l}}function ew(r){let t=Xb(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(I){const C=J0(I);return C instanceof fi&&D0(C)?C.getFilters():[C]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(C=>function(Z){return new zc(Na(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(I){let C;return C=typeof I=="object"?I.value:I,nh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(I){const C=!!I.before,q=I.values||[];return new Lc(q,C)}(n.startAt));let y=null;return n.endAt&&(y=function(I){const C=!I.before,q=I.values||[];return new Lc(q,C)}(n.endAt)),vb(t,l,d,c,m,"F",p,y)}function nw(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function J0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Na(n.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Na(n.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Na(n.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Na(n.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(n){return Re.create(Na(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>J0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(r):Et(30097,{filter:r})}function iw(r){return Fb[r]}function rw(r){return Gb[r]}function sw(r){return Kb[r]}function Oa(r){return{fieldPath:r.canonicalString()}}function Na(r){return He.fromServerFormat(r.fieldPath)}function tE(r){return r instanceof Re?function(n){if(n.op==="=="){if(j_(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(z_(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j_(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(z_(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:rw(n.op),value:n.value}}}(r):r instanceof fi?function(n){const s=n.getFilters().map(l=>tE(l));return s.length===1?s[0]:{compositeFilter:{op:sw(n.op),filters:s}}}(r):Et(54877,{filter:r})}function aw(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function eE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,s,l,c=bt.min(),d=bt.min(),m=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){this.yt=t}}function lw(r){const t=ew({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.Cn=new cw}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Mr.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class cw{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ie(se.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ie(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nE=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(nE,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ga(0)}static cr(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LruGarbageCollector",hw=1048576;function nv([r,t],[n,s]){const l=Mt(r,n);return l===0?Mt(t,s):l}class fw{constructor(t){this.Ir=t,this.buffer=new Ie(nv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dw{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(ev,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Za(n)?ct(ev,"Ignoring IndexedDB error during garbage collection: ",n):await $a(n)}await this.Vr(3e5)})}}class gw{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return W.resolve(eh.ce);const s=new fw(n);return this.mr.forEachTarget(t,l=>s.Ar(l.sequenceNumber)).next(()=>this.mr.pr(t,l=>s.Ar(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(tv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,c,d,m,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,m=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(y=Date.now(),Da()<=Nt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function mw(r,t){return new gw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.changes=new Ms(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Al(s.mutation,l,Ln.empty(),ee.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Vt()){const l=bs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=pl();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=bs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Vt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(t,n,s,l){let c=Fi();const d=Sl(),m=function(){return Sl()}();return n.forEach((p,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Vs)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Al(T.mutation,y,T.mutation.getFieldMask(),ee.now())):d.set(y.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,T)=>d.set(y,T)),n.forEach((y,T)=>m.set(y,new yw(T,d.get(y)??null))),m))}recalculateAndSaveOverlays(t,n){const s=Sl();let l=new ae((d,m)=>d-m),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||Ln.empty();T=m.applyToLocalView(y,T),s.set(p,T);const I=(l.get(m.batchId)||Vt()).add(p);l=l.insert(m.batchId,I)})}).next(()=>{const d=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,I=U0();T.forEach(C=>{if(!c.has(C)){const q=q0(n.get(C),s.get(C));q!==null&&I.set(C,q),c=c.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(t,y,I))}return W.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Eb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):W.resolve(bs());let m=Rl,p=c;return d.next(y=>W.forEach(y,(T,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Vt())).next(T=>({batchId:m,changes:k0(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(s=>{let l=pl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,c).next(m=>W.forEach(m,p=>{const y=function(I,C){return new rh(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(T=>{T.forEach((I,C)=>{d=d.insert(I,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))});let m=pl();return d.forEach((p,y)=>{const T=c.get(p);T!==void 0&&Al(T.mutation,y,Ln.empty(),ee.now()),ah(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ai(l.createTime)}}(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(l){return{name:l.name,query:lw(l.bundledQuery),readTime:ai(l.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.overlays=new ae(pt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=bs();return W.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),W.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const l=bs(),c=n.length+1,d=new pt(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return W.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ae((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=bs(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=bs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=l)););return W.resolve(m)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Lb(n,s));let c=this.qr.get(n);c===void 0&&(c=Vt(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Qr=new Ie(Ve.$r),this.Ur=new Ie(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Ve(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new pt(new se([])),s=new Ve(n,t),l=new Ve(n,t+1),c=[];return this.Ur.forEachInRange([s,l],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new se([])),s=new Ve(n,t),l=new Ve(n,t+1);let c=Vt();return this.Ur.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Ve(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||Mt(t.Yr,n.Yr)}static Kr(t,n){return Mt(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Ve.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ub(c,n,s,l);this.mutationQueue.push(d);for(const m of l)this.Zr=this.Zr.add(new Ve(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?mg:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),l=new Ve(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],d=>{const m=this.Xr(d.Yr);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ie(Mt);return n.forEach(l=>{const c=new Ve(l,0),d=new Ve(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],m=>{s=s.add(m.Yr)})}),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new pt(c),0);let m=new Ie(Mt);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Yr)),!0)},d),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(s=>{const l=this.Xr(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,l=>{const c=new Ve(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Ve(n,0),l=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.ri=t,this.docs=function(){return new ae(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Fi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))}),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Fi();const d=n.path,m=new pt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||$A(WA(T),s)<=0||(l.has(T.key)||ah(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,n,s,l){Et(9500)}ii(t,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new bw(this)}getSize(t){return W.resolve(this.size)}}class bw extends pw{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)}),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.persistence=t,this.si=new Ms(n=>_g(n),vg),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new wg,this.targetCount=0,this.ai=Ga.ur()}forEachTarget(t,n){return this.si.forEach((s,l)=>n(l)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Ga(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.si.forEach((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),W.waitFor(c).next(()=>l)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),W.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,n){this.ui={},this.overlays={},this.ci=new eh(0),this.li=!1,this.li=!0,this.hi=new Tw,this.referenceDelegate=t(this),this.Pi=new ww(this),this.indexManager=new uw,this.remoteDocumentCache=function(l){return new Aw(l)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new ow(n),this.Ii=new vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Ew,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Sw(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const l=new Rw(this.ci.next());return this.referenceDelegate.Ei(),s(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ai(t,n){return W.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class Rw extends JA{constructor(t){super(),this.currentSequenceNumber=t}}class Rg{constructor(t){this.persistence=t,this.Ri=new wg,this.Vi=null}static mi(t){return new Rg(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(l=>this.fi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,s=>{const l=pt.fromPath(s);return this.gi(t,l).next(c=>{c||n.removeEntry(l,bt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class qc{constructor(t,n){this.persistence=t,this.pi=new Ms(s=>nb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=mw(this,n)}static mi(t,n){return new qc(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return W.forEach(this.pi,(s,l)=>this.br(t,s,l).next(c=>c?W.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,d=>this.br(t,d,n).next(m=>{m||(s++,c.removeEntry(d,bt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ac(t.data.value)),n}br(t,n,s){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return W.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=Vt(),l=Vt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ig(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yS()?8:tb(We())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ys(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Iw;return this.Ss(t,n,d).next(m=>{if(c.result=m,this.Vs)return this.bs(t,n,d,m.size)})}).next(()=>c.result)}bs(t,n,s,l){return s.documentReadCount<this.fs?(Da()<=Nt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Da()<=Nt.DEBUG&&ct("QueryEngine","Query:",xa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Da()<=Nt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(n))):W.resolve())}ys(t,n){if(F_(n))return W.resolve(null);let s=si(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Xd(n,null,"F"),s=si(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.Ds(n,m);return this.Cs(n,y,d,p.readTime)?this.ys(t,Xd(n,null,"F")):this.vs(t,y,n,p)}))})))}ws(t,n,s,l){return F_(n)||l.isEqual(bt.min())?W.resolve(null):this.ps.getDocuments(t,s).next(c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,l)?W.resolve(null):(Da()<=Nt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(n)),this.vs(t,d,n,XA(l,Rl)).next(m=>m))})}Ds(t,n){let s=new Ie(V0(t));return n.forEach((l,c)=>{ah(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Da()<=Nt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",xa(n)),this.ps.getDocumentsMatchingQuery(t,n,Mr.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",Dw=3e8;class xw{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new ae(Mt),this.xs=new Ms(c=>_g(c),vg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _w(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function Ow(r,t,n,s){return new xw(r,t,n,s)}async function rE(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let p=Vt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ls:y,removedBatchIds:d,addedBatchIds:m}))})})}function Nw(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const I=y.batch,C=I.keys();let q=W.resolve();return C.forEach(Z=>{q=q.next(()=>T.getEntry(p,Z)).next(st=>{const J=y.docVersions.get(Z);Ht(J!==null,48541),st.version.compareTo(J)<0&&(I.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),T.addEntry(st)))})}),q.next(()=>m.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function sE(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function Mw(r,t){const n=wt(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const m=[];t.targetChanges.forEach((T,I)=>{const C=l.get(I);if(!C)return;m.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,I).next(()=>n.Pi.addMatchingKeys(c,T.addedDocuments,I)));let q=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?q=q.withResumeToken(qe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),l=l.insert(I,q),function(st,J,et){return st.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=Dw?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(C,q,T)&&m.push(n.Pi.updateTargetData(c,q))});let p=Fi(),y=Vt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(Vw(c,d,t.documentUpdates).next(T=>{p=T.ks,y=T.qs})),!s.isEqual(bt.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next(I=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(T)}return W.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.Ms=l,c))}function Vw(r,t,n){let s=Vt(),l=Vt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Fi();return n.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),d=d.insert(m,p)):ct(Cg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{ks:d,qs:l}})}function Pw(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=mg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function kw(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Pi.getTargetData(s,t).next(c=>c?(l=c,W.resolve(l)):n.Pi.allocateTargetId(s).next(d=>(l=new Ir(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function tg(r,t,n){const s=wt(r),l=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Za(d))throw d;ct(Cg,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function iv(r,t,n){const s=wt(r);let l=bt.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const I=wt(p),C=I.xs.get(T);return C!==void 0?W.resolve(I.Ms.get(C)):I.Pi.getTargetData(y,T)}(s,d,si(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:bt.min(),n?c:Vt())).next(m=>(Uw(s,Sb(t),m),{documents:m,Qs:c})))}function Uw(r,t,n){let s=r.Os.get(t)||bt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Os.set(t,s)}class rv{constructor(){this.activeTargetIds=Cb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Lw{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(sv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function eg(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="RestConnection",jw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===kc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,c){const d=eg(),m=this.zo(t,n.toUriEncodedString());ct(Nd,`Sending RPC '${t}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:y}=new URL(m),T=Ya(y);return this.Jo(t,m,p,s,T).then(I=>(ct(Nd,`Received RPC '${t}' ${d}: `,I),I),I=>{throw Ba(Nd,`RPC '${t}' ${d} failed with error: `,I,"url: ",m,"request:",s),I})}Ho(t,n,s,l,c,d){return this.Go(t,n,s,l,c)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}zo(t,n){const s=jw[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class qw extends Bw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=eg();return new Promise((m,p)=>{const y=new u0;y.setWithCredentials(!0),y.listenOnce(c0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Sc.NO_ERROR:const I=y.getResponseJson();ct(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),m(I);break;case Sc.TIMEOUT:ct(Qe,`RPC '${t}' ${d} timed out`),p(new gt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const C=y.getStatus();if(ct(Qe,`RPC '${t}' ${d} failed with status:`,C,"response text:",y.getResponseText()),C>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const st=function(et){const nt=et.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(nt)>=0?nt:tt.UNKNOWN}(Z.status);p(new gt(st,Z.message))}else p(new gt(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new gt(tt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(Qe,`RPC '${t}' ${d} completed.`)}});const T=JSON.stringify(l);ct(Qe,`RPC '${t}' ${d} sending request:`,l),y.send(n,"POST",T,s,15)})}T_(t,n,s){const l=eg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=d0(),m=f0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");ct(Qe,`Creating RPC '${t}' stream ${l}: ${T}`,p);const I=d.createWebChannel(T,p);this.I_(I);let C=!1,q=!1;const Z=new Hw({Yo:J=>{q?ct(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(C||(ct(Qe,`Opening RPC '${t}' stream ${l} transport.`),I.open(),C=!0),ct(Qe,`RPC '${t}' stream ${l} sending:`,J),I.send(J))},Zo:()=>I.close()}),st=(J,et,nt)=>{J.listen(et,rt=>{try{nt(rt)}catch(ot){setTimeout(()=>{throw ot},0)}})};return st(I,ml.EventType.OPEN,()=>{q||(ct(Qe,`RPC '${t}' stream ${l} transport opened.`),Z.o_())}),st(I,ml.EventType.CLOSE,()=>{q||(q=!0,ct(Qe,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(I))}),st(I,ml.EventType.ERROR,J=>{q||(q=!0,Ba(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new gt(tt.UNAVAILABLE,"The operation could not be completed")))}),st(I,ml.EventType.MESSAGE,J=>{if(!q){const et=J.data[0];Ht(!!et,16349);const nt=et,rt=nt?.error||nt[0]?.error;if(rt){ct(Qe,`RPC '${t}' stream ${l} received error:`,rt);const ot=rt.status;let F=function(A){const b=_e[A];if(b!==void 0)return K0(b)}(ot),ht=rt.message;F===void 0&&(F=tt.INTERNAL,ht="Unknown error status: "+ot+" with message "+rt.message),q=!0,Z.a_(new gt(F,ht)),I.close()}else ct(Qe,`RPC '${t}' stream ${l} received:`,et),Z.u_(et)}}),st(m,h0.STAT_EVENT,J=>{J.stat===qd.PROXY?ct(Qe,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===qd.NOPROXY&&ct(Qe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.__()},0),Z}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r){return new Qb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class oE{constructor(t,n,s,l,c,d,m,p){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.D_===n&&this.G_(s,l)},s=>{t(()=>{const l=new gt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{s(()=>this.z_(l))}),this.stream.onMessage(l=>{s(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ct(ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ct(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fw extends oE{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Wb(this.serializer,t),s=function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ai(d.readTime):bt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Jd(this.serializer),n.addTarget=function(c,d){let m;const p=d.target;if(m=Yd(p)?{documents:Jb(c,p)}:{query:tw(c,p).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=X0(c,d.resumeToken);const y=Wd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){m.readTime=Hc(c,d.snapshotVersion.toTimestamp());const y=Wd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=nw(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Jd(this.serializer),n.removeTarget=t,this.q_(n)}}class Gw extends oE{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Zb(t.writeResults,t.commitTime),s=ai(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Jd(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>$b(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{}class Qw extends Kw{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new gt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(t,$d(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(tt.UNKNOWN,c.toString())})}Ho(t,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Ho(t,$d(n,s),l,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(tt.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Yw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qi(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class Xw{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{Ps(this)&&(ct(xs,"Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.Ea.add(4),await jl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await hh(y)}(this))})}),this.Ra=new Yw(s,l)}}async function hh(r){if(Ps(r))for(const t of r.da)await t(!0)}async function jl(r){for(const t of r.da)await t(!1)}function lE(r,t){const n=wt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ng(n)?Og(n):Ja(n).O_()&&xg(n,t))}function Dg(r,t){const n=wt(r),s=Ja(n);n.Ia.delete(t),s.O_()&&uE(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ps(n)&&n.Ra.set("Unknown"))}function xg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ja(r).Y_(t)}function uE(r,t){r.Va.Ue(t),Ja(r).Z_(t)}function Og(r){r.Va=new qb({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ja(r).start(),r.Ra.ua()}function Ng(r){return Ps(r)&&!Ja(r).x_()&&r.Ia.size>0}function Ps(r){return wt(r).Ea.size===0}function cE(r){r.Va=void 0}async function Ww(r){r.Ra.set("Online")}async function $w(r){r.Ia.forEach((t,n)=>{xg(r,t)})}async function Zw(r,t){cE(r),Ng(r)?(r.Ra.ha(t),Og(r)):r.Ra.set("Unknown")}async function Jw(r,t,n){if(r.Ra.set("Online"),t instanceof Y0&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const m of c.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,d),l.Ia.delete(m),l.Va.removeTarget(m))}(r,t)}catch(s){ct(xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Fc(r,s)}else if(t instanceof Rc?r.Va.Ze(t):t instanceof Q0?r.Va.st(t):r.Va.tt(t),!n.isEqual(bt.min()))try{const s=await sE(r.localStore);n.compareTo(s)>=0&&await function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),uE(c,p);const I=new Ir(T.target,p,y,T.sequenceNumber);xg(c,I)}),c.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ct(xs,"Failed to raise snapshot:",s),await Fc(r,s)}}async function Fc(r,t,n){if(!Za(t))throw t;r.Ea.add(1),await jl(r),r.Ra.set("Offline"),n||(n=()=>sE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(xs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await hh(r)})}function hE(r,t){return t().catch(n=>Fc(r,n,t))}async function fh(r){const t=wt(r),n=Ur(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mg;for(;tR(t);)try{const l=await Pw(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,eR(t,l)}catch(l){await Fc(t,l)}fE(t)&&dE(t)}function tR(r){return Ps(r)&&r.Ta.length<10}function eR(r,t){r.Ta.push(t);const n=Ur(r);n.O_()&&n.X_&&n.ea(t.mutations)}function fE(r){return Ps(r)&&!Ur(r).x_()&&r.Ta.length>0}function dE(r){Ur(r).start()}async function nR(r){Ur(r).ra()}async function iR(r){const t=Ur(r);for(const n of r.Ta)t.ea(n.mutations)}async function rR(r,t,n){const s=r.Ta.shift(),l=Sg.from(s,t,n);await hE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await fh(r)}async function sR(r,t){t&&Ur(r).X_&&await async function(s,l){if(function(d){return jb(d)&&d!==tt.ABORTED}(l.code)){const c=s.Ta.shift();Ur(s).B_(),await hE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await fh(s)}}(r,t),fE(r)&&dE(r)}async function lv(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ct(xs,"RemoteStore received new credentials");const s=Ps(n);n.Ea.add(3),await jl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await hh(n)}async function aR(r,t){const n=wt(r);t?(n.Ea.delete(2),await hh(n)):t||(n.Ea.add(2),await jl(n),n.Ra.set("Unknown"))}function Ja(r){return r.ma||(r.ma=function(n,s,l){const c=wt(n);return c.sa(),new Fw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Xo:Ww.bind(null,r),t_:$w.bind(null,r),r_:Zw.bind(null,r),H_:Jw.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),Ng(r)?Og(r):r.Ra.set("Unknown")):(await r.ma.stop(),cE(r))})),r.ma}function Ur(r){return r.fa||(r.fa=function(n,s,l){const c=wt(n);return c.sa(),new Gw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:nR.bind(null,r),r_:sR.bind(null,r),ta:iR.bind(null,r),na:rR.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await fh(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,m=new Mg(t,n,d,l,c);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(r,t){if(qi("AsyncQueue",`${t}: ${r}`),Za(r))return new gt(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(t){return new Pa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=pl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Pa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.ga=new ae(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ka{constructor(t,n,s,l,c,d,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new Ka(t,n,Pa.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class lR{constructor(){this.queries=cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=wt(n),c=l.queries;l.queries=cv(),c.forEach((d,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new gt(tt.ABORTED,"Firestore shutting down"))}}function cv(){return new Ms(r=>M0(r),sh)}async function uR(r,t){const n=wt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new oR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const m=Vg(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&Pg(n)}async function cR(r,t){const n=wt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hR(r,t){const n=wt(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const m of d.Sa)m.Fa(l)&&(s=!0);d.wa=l}}s&&Pg(n)}function fR(r,t,n){const s=wt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Pg(r){r.Ca.forEach(t=>{t.next()})}var ng,hv;(hv=ng||(ng={})).Ma="default",hv.Cache="cache";class dR{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ka(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t){this.key=t}}class mE{constructor(t){this.key=t}}class gR{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=V0(t),this.tu=new Pa(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new uv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,I)=>{const C=l.get(T),q=ah(this.query,I)?I:null,Z=!!C&&this.mutatedKeys.has(C.key),st=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;C&&q?C.data.isEqual(q.data)?Z!==st&&(s.track({type:3,doc:q}),J=!0):this.su(C,q)||(s.track({type:2,doc:q}),J=!0,(p&&this.eu(q,p)>0||y&&this.eu(q,y)<0)&&(m=!0)):!C&&q?(s.track({type:0,doc:q}),J=!0):C&&!q&&(s.track({type:1,doc:C}),J=!0,(p||y)&&(m=!0)),J&&(q?(d=d.add(q),c=st?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:m,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((T,I)=>function(q,Z){const st=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:J})}};return st(q)-st(Z)}(T.type,I.type)||this.eu(T.doc,I.doc)),this.ou(s),l=l??!1;const m=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new Ka(this.query,t.tu,c,d,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new mE(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new gE(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Vt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kg="SyncEngine";class mR{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class pR{constructor(t){this.key=t,this.hu=!1}}class yR{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ms(m=>M0(m),sh),this.Iu=new Map,this.Eu=new Set,this.du=new ae(pt.comparator),this.Au=new Map,this.Ru=new wg,this.Vu={},this.mu=new Map,this.fu=Ga.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _R(r,t,n=!0){const s=TE(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await pE(s,t,n,!0),l}async function vR(r,t){const n=TE(r);await pE(n,t,!0,!1)}async function pE(r,t,n,s){const l=await kw(r.localStore,si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await ER(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&lE(r.remoteStore,l),m}async function ER(r,t,n,s,l){r.pu=(I,C,q)=>async function(st,J,et,nt){let rt=J.view.ru(et);rt.Cs&&(rt=await iv(st.localStore,J.query,!1).then(({documents:O})=>J.view.ru(O,rt)));const ot=nt&&nt.targetChanges.get(J.targetId),F=nt&&nt.targetMismatches.get(J.targetId)!=null,ht=J.view.applyChanges(rt,st.isPrimaryClient,ot,F);return dv(st,J.targetId,ht.au),ht.snapshot}(r,I,C,q);const c=await iv(r.localStore,t,!0),d=new gR(t,c.Qs),m=d.ru(c.documents),p=zl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=d.applyChanges(m,r.isPrimaryClient,p);dv(r,n,y.au);const T=new mR(t,n,d);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function TR(r,t,n){const s=wt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter(d=>!sh(d,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await tg(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Dg(s.remoteStore,l.targetId),ig(s,l.targetId)}).catch($a)):(ig(s,l.targetId),await tg(s.localStore,l.targetId,!0))}async function SR(r,t){const n=wt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dg(n.remoteStore,s.targetId))}async function AR(r,t,n){const s=xR(r);try{const l=await function(d,m){const p=wt(d),y=ee.now(),T=m.reduce((q,Z)=>q.add(Z.key),Vt());let I,C;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=Fi(),st=Vt();return p.Ns.getEntries(q,T).next(J=>{Z=J,Z.forEach((et,nt)=>{nt.isValidDocument()||(st=st.add(et))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,Z)).next(J=>{I=J;const et=[];for(const nt of m){const rt=Pb(nt,I.get(nt.key).overlayedDocument);rt!=null&&et.push(new Vs(nt.key,rt,R0(rt.value.mapValue),Bi.exists(!0)))}return p.mutationQueue.addMutationBatch(q,y,et,m)}).next(J=>{C=J;const et=J.applyToLocalDocumentSet(I,st);return p.documentOverlayCache.saveOverlays(q,J.batchId,et)})}).then(()=>({batchId:C.batchId,changes:k0(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,m,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new ae(Mt)),y=y.insert(m,p),d.Vu[d.currentUser.toKey()]=y}(s,l.batchId,n),await Bl(s,l.changes),await fh(s.remoteStore)}catch(l){const c=Vg(l,"Failed to persist write");n.reject(c)}}async function yE(r,t){const n=wt(r);try{const s=await Mw(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))}),await Bl(n,s,t)}catch(s){await $a(s)}}function fv(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach((c,d)=>{const m=d.view.va(t);m.snapshot&&l.push(m.snapshot)}),function(d,m){const p=wt(d);p.onlineState=m;let y=!1;p.queries.forEach((T,I)=>{for(const C of I.Sa)C.va(m)&&(y=!0)}),y&&Pg(p)}(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function bR(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ae(pt.comparator);d=d.insert(c,Xe.newNoDocument(c,bt.min()));const m=Vt().add(c),p=new uh(bt.min(),new Map,new ae(Mt),d,m);await yE(s,p),s.du=s.du.remove(c),s.Au.delete(t),Ug(s)}else await tg(s.localStore,t,!1).then(()=>ig(s,t,n)).catch($a)}async function wR(r,t){const n=wt(r),s=t.batch.batchId;try{const l=await Nw(n.localStore,t);vE(n,s,null),_E(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bl(n,l)}catch(l){await $a(l)}}async function RR(r,t,n){const s=wt(r);try{const l=await function(d,m){const p=wt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(I=>(Ht(I!==null,37113),T=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);vE(s,t,n),_E(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Bl(s,l)}catch(l){await $a(l)}}function _E(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function vE(r,t,n){const s=wt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function ig(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||EE(r,s)})}function EE(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Dg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Ug(r))}function dv(r,t,n){for(const s of n)s instanceof gE?(r.Ru.addReference(s.key,t),IR(r,s)):s instanceof mE?(ct(kg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||EE(r,s.key)):Et(19791,{wu:s})}function IR(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ct(kg,"New document in limbo: "+n),r.Eu.add(s),Ug(r))}function Ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new pt(se.fromString(t)),s=r.fu.next();r.Au.set(s,new pR(n)),r.du=r.du.insert(n,s),lE(r.remoteStore,new Ir(si(Eg(n.path)),s,"TargetPurposeLimboResolution",eh.ce))}}async function Bl(r,t,n){const s=wt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{d.push(s.pu(p,t,n).then(y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Ig.As(p.targetId,y);c.push(T)}}))}),await Promise.all(d),s.Pu.H_(l),await async function(p,y){const T=wt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>W.forEach(y,C=>W.forEach(C.Es,q=>T.persistence.referenceDelegate.addReference(I,C.targetId,q)).next(()=>W.forEach(C.ds,q=>T.persistence.referenceDelegate.removeReference(I,C.targetId,q)))))}catch(I){if(!Za(I))throw I;ct(Cg,"Failed to update sequence numbers: "+I)}for(const I of y){const C=I.targetId;if(!I.fromCache){const q=T.Ms.get(C),Z=q.snapshotVersion,st=q.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(C,st)}}}(s.localStore,c))}async function CR(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ct(kg,"User change. New user:",t.toKey());const s=await rE(n.localStore,t);n.currentUser=t,function(c,d){c.mu.forEach(m=>{m.forEach(p=>{p.reject(new gt(tt.CANCELLED,d))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bl(n,s.Ls)}}function DR(r,t){const n=wt(r),s=n.Au.get(t);if(s&&s.hu)return Vt().add(s.key);{let l=Vt();const c=n.Iu.get(t);if(!c)return l;for(const d of c){const m=n.Tu.get(d);l=l.unionWith(m.view.nu)}return l}}function TE(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=yE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bR.bind(null,t),t.Pu.H_=hR.bind(null,t.eventManager),t.Pu.yu=fR.bind(null,t.eventManager),t}function xR(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RR.bind(null,t),t}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Ow(this.persistence,new Cw,t.initialUser,this.serializer)}Cu(t){return new iE(Rg.mi,this.serializer)}Du(t){return new Lw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class OR extends Gc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof qc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dw(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new iE(s=>qc.mi(s,n),this.serializer)}}class rg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CR.bind(null,this.syncEngine),await aR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new lR}()}createDatastore(t){const n=ch(t.databaseInfo.databaseId),s=function(c){return new qw(c)}(t.databaseInfo);return function(c,d,m,p){return new Qw(c,d,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,m){return new Xw(s,l,c,d,m)}(this.localStore,this.datastore,t.asyncQueue,n=>fv(this.syncEngine,n,0),function(){return av.v()?new av:new zw}())}createSyncEngine(t,n){return function(l,c,d,m,p,y,T){const I=new yR(l,c,d,m,p,y);return T&&(I.gu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=wt(n);ct(xs,"RemoteStore shutting down."),s.Ea.add(5),await jl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):qi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class MR{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ct(Lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ct(Lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Vg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Vd(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Lr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await rE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function gv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await VR(r);ct(Lr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>lv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>lv(t.remoteStore,l)),r._onlineComponents=t}async function VR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Lr,"Using user provided OfflineComponentProvider");try{await Vd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ba("Error using user provided cache. Falling back to memory cache: "+n),await Vd(r,new Gc)}}else ct(Lr,"Using default OfflineComponentProvider"),await Vd(r,new OR(void 0));return r._offlineComponents}async function SE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Lr,"Using user provided OnlineComponentProvider"),await gv(r,r._uninitializedComponentsProvider._online)):(ct(Lr,"Using default OnlineComponentProvider"),await gv(r,new rg))),r._onlineComponents}function PR(r){return SE(r).then(t=>t.syncEngine)}async function mv(r){const t=await SE(r),n=t.eventManager;return n.onListen=_R.bind(null,t.syncEngine),n.onUnlisten=TR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=vR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=SR.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firestore.googleapis.com",yv=!0;class _v{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bE,this.ssl=yv}else this.host=t.host,this.ssl=t.ssl??yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hw)throw new gt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new gt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new gt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new gt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lg{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new UA;switch(s.type){case"firstParty":return new BA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pv.get(n);s&&(ct("ComponentProvider","Removing Datastore"),pv.delete(n),s.terminate())}(this),Promise.resolve()}}function kR(r,t,n,s={}){r=Va(r,Lg);const l=Ya(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;l&&(t0(`https://${m}`),e0("Firestore",!0)),c.host!==bE&&c.host!==m&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:l,emulatorOptions:s};if(!Is(p,d)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Ye.MOCK_USER;else{y=lS(s.mockUserToken,r._app?.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new gt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ye(I)}r._authCredentials=new LA(new m0(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new dh(this.firestore,t,this._query)}}class Pe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Ul(n,Pe._jsonSchema))return new Pe(t,s||null,new pt(se.fromString(n.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:ve("string",Pe._jsonSchemaVersion),referencePath:ve("string")};class Nl extends dh{constructor(t,n,s){super(t,n,Eg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new pt(t))}withConverter(t){return new Nl(this.firestore,t,this._path)}}function vv(r,t,...n){if(r=mn(r),arguments.length===1&&(t=dg.newId()),QA("doc","path",t),r instanceof Lg){const s=se.fromString(t,...n);return O_(s),new Pe(r,null,new pt(s))}{if(!(r instanceof Pe||r instanceof Nl))throw new gt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(t,...n));return O_(s),new Pe(r.firestore,r instanceof Nl?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="AsyncQueue";class Tv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aE(this,"async_queue_retry"),this._c=()=>{const s=Md();s&&ct(Ev,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Md();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Md();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ws;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Za(t))throw t;ct(Ev,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,qi("INTERNAL UNHANDLED ERROR: ",Sv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Mg.createAndSchedule(this,t,n,s,c=>this.hc(c));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Sv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Kc extends Lg{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Tv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tv(t),this._firestoreClient=void 0,await t}}}function UR(r,t){const n=typeof r=="object"?r:s0(),s=typeof r=="string"?r:kc,l=hg(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=aS("firestore");c&&kR(l,...c)}return l}function wE(r){if(r._terminated)throw new gt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LR(r),r._firestoreClient}function LR(r){const t=r._freezeSettings(),n=function(l,c,d,m){return new sb(l,c,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,AE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new MR(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(qe.fromBase64String(t))}catch(n){throw new gt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xn(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ul(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:ve("string",xn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(t){if(Ul(t,oi._jsonSchema))return new oi(t.latitude,t.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:ve("string",oi._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ul(t,li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new li(t.vectorValues);throw new gt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:ve("string",li._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=/^__.*__$/;class jR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(t,this.data,n,this.fieldTransforms)}}function IE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class jg{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new jg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Qc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(IE(this.Ac)&&zR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class BR{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ch(t)}Cc(t,n,s,l=!1){return new jg({Ac:t,methodName:n,Dc:s,path:He.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HR(r){const t=r._freezeSettings(),n=ch(r._databaseId);return new BR(r._databaseId,!!t.ignoreUndefinedProperties,n)}function qR(r,t,n,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,n,l);OE("Data must be an object, but it was:",d,s);const m=DE(s,d);let p,y;if(c.merge)p=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const I of c.mergeFields){const C=FR(t,I,n);if(!d.contains(C))throw new gt(tt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);KR(T,C)||T.push(C)}p=new Ln(T),y=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=d.fieldTransforms;return new jR(new Dn(m),p,y)}function CE(r,t){if(xE(r=mn(r)))return OE("Unsupported field value:",t,r),DE(r,t);if(r instanceof RE)return function(s,l){if(!IE(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const m of s){let p=CE(m,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Db(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ee.fromDate(s);return{timestampValue:Hc(l.serializer,c)}}if(s instanceof ee){const c=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hc(l.serializer,c)}}if(s instanceof oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:X0(l.serializer,s._byteString)};if(s instanceof Pe){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:bg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof li)return function(d,m){return{mapValue:{fields:{[b0]:{stringValue:w0},[Uc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tg(m.serializer,y)})}}}}}}(s,l);throw l.Sc(`Unsupported field value: ${gg(s)}`)}(r,t)}function DE(r,t){const n={};return _0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ns(r,(s,l)=>{const c=CE(l,t.mc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function xE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof oi||r instanceof xn||r instanceof Pe||r instanceof RE||r instanceof li)}function OE(r,t,n){if(!xE(n)||!p0(n)){const s=gg(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function FR(r,t,n){if((t=mn(t))instanceof zg)return t._internalPath;if(typeof t=="string")return NE(r,t);throw Qc("Field path arguments must be of type string or ",r,!1,void 0,n)}const GR=new RegExp("[~\\*/\\[\\]]");function NE(r,t,n){if(t.search(GR)>=0)throw Qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new zg(...t.split("."))._internalPath}catch{throw Qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new gt(tt.INVALID_ARGUMENT,m+r+p)}function KR(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(VE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QR extends ME{data(){return super.data()}}function VE(r,t){return typeof t=="string"?NE(r,t):t instanceof zg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new gt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XR{convertValue(t,n="none"){switch(kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Pr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ns(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){const n=t.fields?.[Uc].arrayValue?.values?.map(s=>de(s.doubleValue));return new li(n)}convertGeoPoint(t){return new oi(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ih(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const n=Vr(t);return new ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=se.fromString(t);Ht(eE(s),9688,{name:t});const l=new Cl(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return l.isEqual(n)||qi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class _l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Rs extends ME{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(VE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Rs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Rs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rs._jsonSchema={type:ve("string",Rs._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Ic extends Rs{data(t={}){return super.data(t)}}class ka{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Ic(this._firestore,this._userDataWriter,s.key,s,new _l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new gt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(m=>{const p=new Ic(l._firestore,l._userDataWriter,m.doc.key,m.doc,new _l(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new Ic(l._firestore,l._userDataWriter,m.doc.key,m.doc,new _l(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:$R(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $R(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:ve("string",ka._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class PE extends XR{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,n)}}function bv(r,t,n){r=Va(r,Pe);const s=Va(r.firestore,Kc),l=WR(r.converter,t,n);return JR(s,[qR(HR(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Bi.none())])}function ZR(r,...t){r=mn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Av(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Av(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let c,d,m;if(r instanceof Pe)d=Va(r.firestore,Kc),m=Eg(r._key.path),c={next:p=>{t[s]&&t[s](tI(d,r,p))},error:t[s+1],complete:t[s+2]};else{const p=Va(r,dh);d=Va(p.firestore,Kc),m=p._query;const y=new PE(d);c={next:T=>{t[s]&&t[s](new ka(d,y,p,T))},error:t[s+1],complete:t[s+2]},YR(r._query)}return function(y,T,I,C){const q=new NR(C),Z=new dR(T,q,I);return y.asyncQueue.enqueueAndForget(async()=>uR(await mv(y),Z)),()=>{q.Nu(),y.asyncQueue.enqueueAndForget(async()=>cR(await mv(y),Z))}}(wE(d),m,l,c)}function JR(r,t){return function(s,l){const c=new ws;return s.asyncQueue.enqueueAndForget(async()=>AR(await PR(s),l,c)),c.promise}(wE(r),t)}function tI(r,t,n){const s=n.docs.get(t._key),l=new PE(r);return new Rs(r,l,t._key,s,new _l(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Wa=l})(Xa),ja(new Cs("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new Kc(new zA(s.getProvider("auth-internal")),new HA(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new gt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(y.options.projectId,T)}(d,l),d);return c={useFetchStreams:n,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),xr(I_,C_,t),xr(I_,C_,"esm2020")})();function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eI=kE,UE=new Pl("auth","Firebase",kE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new ug("@firebase/auth");function nI(r,...t){Yc.logLevel<=Nt.WARN&&Yc.warn(`Auth (${Xa}): ${r}`,...t)}function Cc(r,...t){Yc.logLevel<=Nt.ERROR&&Yc.error(`Auth (${Xa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(r,...t){throw Bg(r,...t)}function ui(r,...t){return Bg(r,...t)}function LE(r,t,n){const s={...eI(),[t]:n};return new Pl("auth","Firebase",s).create(t,{appName:r.name})}function Nr(r){return LE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return UE.create(r,...t)}function vt(r,t,...n){if(!r)throw Bg(t,...n)}function zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function Gi(r,t){r||zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){return typeof self<"u"&&self.location?.href||""}function iI(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iI()||gS()||"connection"in navigator)?navigator.onLine:!0}function sI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=hS()||mS()}get(){return rI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lI=new Hl(3e4,6e4);function ks(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function zr(r,t,n,s,l={}){return jE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const m=kl({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...c};return dS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ya(r.emulatorConfig.host)&&(y.credentials="include"),zE.fetch()(await BE(r,r.config.apiHost,n,m),y)})}async function jE(r,t,n){r._canInitEmulator=!1;const s={...aI,...t};try{const l=new cI(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ec(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ec(r,"user-disabled",d);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw LE(r,T,y);jn(r,T)}}catch(l){if(l instanceof Ki)throw l;jn(r,"network-request-failed",{message:String(l)})}}async function gh(r,t,n,s,l={}){const c=await zr(r,t,n,s,l);return"mfaPendingCredential"in c&&jn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function BE(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?Hg(r.config,l):`${r.config.apiScheme}://${l}`;return oI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function uI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ui(this.auth,"network-request-failed")),lI.get())})}}function Ec(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ui(r,t,s);return l.customData._tokenResponse=n,l}function Rv(r){return r!==void 0&&r.enterprise!==void 0}class hI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return uI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fI(r,t){return zr(r,"GET","/v2/recaptchaConfig",ks(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,t){return zr(r,"POST","/v1/accounts:delete",t)}async function Xc(r,t){return zr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gI(r,t=!1){const n=mn(r),s=await n.getIdToken(t),l=qg(s);vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:bl(Pd(l.auth_time)),issuedAtTime:bl(Pd(l.iat)),expirationTime:bl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function qg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Wv(n);return l?JSON.parse(l):(Cc("Failed to decode base64 JWT payload"),null)}catch(l){return Cc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Iv(r){const t=qg(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ki&&mI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function mI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){const t=r.auth,n=await r.getIdToken(),s=await Ml(r,Xc(t,{idToken:n}));vt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?HE(l.providerUserInfo):[],d=_I(r.providerData,c),m=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,y=m?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ag(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function yI(r){const t=mn(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _I(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function HE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,t){const n=await jE(r,{},async()=>{const s=kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await BE(r,l,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ya(r.emulatorConfig.host)&&(p.credentials="include"),zE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EI(r,t){return zr(r,"POST","/v2/accounts:revokeToken",ks(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=Iv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await vI(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new Ua;return s&&(vt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class zn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ag(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return gI(this,t)}reload(){return yI(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Nr(this.auth));const t=await this.getIdToken();return await Ml(this,dI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:I,emailVerified:C,isAnonymous:q,providerData:Z,stsTokenManager:st}=n;vt(I&&st,t,"internal-error");const J=Ua.fromJSON(this.name,st);vt(typeof I=="string",t,"internal-error"),Sr(s,t.name),Sr(l,t.name),vt(typeof C=="boolean",t,"internal-error"),vt(typeof q=="boolean",t,"internal-error"),Sr(c,t.name),Sr(d,t.name),Sr(m,t.name),Sr(p,t.name),Sr(y,t.name),Sr(T,t.name);const et=new zn({uid:I,auth:t,email:l,emailVerified:C,displayName:s,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:J,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(et.providerData=Z.map(nt=>({...nt}))),p&&(et._redirectEventId=p),et}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ua;l.updateFromServerResponse(n);const c=new zn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?HE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,m=new Ua;m.updateFromIdToken(s);const p=new zn({uid:l.localId,auth:t,stsTokenManager:m,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ag(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;function ji(r){Gi(r instanceof Function,"Expected a class definition");let t=Cv.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Cv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}qE.type="NONE";const Dv=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Dc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Xc(this.auth,{idToken:t}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(ji(Dv),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ji(Dv);const d=Dc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const T=await y._get(d);if(T){let I;if(typeof T=="string"){const C=await Xc(t,{idToken:T}).catch(()=>{});if(!C)break;I=await zn._fromGetAccountInfoResponse(t,C,T)}else I=zn._fromJSON(t,T);y!==c&&(m=I),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new La(c,t,s):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new La(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XE(t))return"Blackberry";if(WE(t))return"Webos";if(GE(t))return"Safari";if((t.includes("chrome/")||KE(t))&&!t.includes("edge/"))return"Chrome";if(YE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function FE(r=We()){return/firefox\//i.test(r)}function GE(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function KE(r=We()){return/crios\//i.test(r)}function QE(r=We()){return/iemobile/i.test(r)}function YE(r=We()){return/android/i.test(r)}function XE(r=We()){return/blackberry/i.test(r)}function WE(r=We()){return/webos/i.test(r)}function Fg(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TI(r=We()){return Fg(r)&&!!window.navigator?.standalone}function SI(){return pS()&&document.documentMode===10}function $E(r=We()){return Fg(r)||YE(r)||WE(r)||XE(r)||/windows phone/i.test(r)||QE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(r,t=[]){let n;switch(r){case"Browser":n=xv(We());break;case"Worker":n=`${xv(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,m)=>{try{const p=t(c);d(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(r,t={}){return zr(r,"GET","/v2/passwordPolicy",ks(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=6;class RI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new AI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await La.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Xc(this,{idToken:t}),s=await zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&m?.user&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Nr(this));const n=t?mn(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bI(this),n=new RI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&nI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function to(r){return mn(r)}class Ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=bS(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CI(r){mh=r}function JE(r){return mh.loadJS(r)}function DI(){return mh.recaptchaEnterpriseScript}function xI(){return mh.gapiScript}function OI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class NI{constructor(){this.enterprise=new MI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class MI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const VI="recaptcha-enterprise",tT="NO_RECAPTCHA";class PI{constructor(t){this.type=VI,this.auth=to(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{fI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new hI(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(p=>{m(p)})})}function l(c,d,m){const p=window.grecaptcha;Rv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(tT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(m=>{if(!n&&Rv(window.grecaptcha))l(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=DI();p.length!==0&&(p+=m),JE(p).then(()=>{l(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function Nv(r,t,n,s=!1,l=!1){const c=new PI(r);let d;if(l)d=tT;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mv(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Nv(r,t,n,n==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Nv(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r,t){const n=hg(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Is(c,t??{}))return l;jn(l,"already-initialized")}return n.initialize({options:t})}function UI(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function LI(r,t,n){const s=to(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=eT(t),{host:d,port:m}=zI(t),p=m===null?"":`:${m}`,y={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Is(y,s.config.emulator)&&Is(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Ya(d)?(t0(`${c}//${d}${p}`),e0("Auth",!0)):jI()}function eT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function zI(r){const t=eT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Vv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Vv(d)}}}function Vv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function jI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,n){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}async function BI(r,t){return zr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,t){return gh(r,"POST","/v1/accounts:signInWithPassword",ks(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(r,t){return gh(r,"POST","/v1/accounts:signInWithEmailLink",ks(r,t))}async function FI(r,t){return gh(r,"POST","/v1/accounts:signInWithEmailLink",ks(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Gg{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Vl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Vl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(t,n,"signInWithPassword",HI);case"emailLink":return qI(t,{email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(t,s,"signUpPassword",BI);case"emailLink":return FI(t,{idToken:n,email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r,t){return gh(r,"POST","/v1/accounts:signInWithIdp",ks(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="http://localhost";class Os extends Gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Os(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const d=new Os(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,za(t,n)}buildRequest(){const t={requestUri:GI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=kl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QI(r){const t=dl(gl(r)).link,n=t?dl(gl(t)).deep_link_id:null,s=dl(gl(r)).deep_link_id;return(s?dl(gl(s)).link:null)||s||n||t||r}class Kg{constructor(t){const n=dl(gl(t)),s=n.apiKey??null,l=n.oobCode??null,c=KI(n.mode??null);vt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=QI(t);try{return new Kg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(t,n){return Vl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Kg.parseLink(n);return vt(s,"argument-error"),Vl._fromEmailAndCode(t,s.code,s.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends nT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends ql{constructor(){super("facebook.com")}static credential(t){return Os._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Os._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return br.credential(n,s)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends ql{constructor(){super("github.com")}static credential(t){return Os._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends ql{constructor(){super("twitter.com")}static credential(t,n){return Os._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await zn._fromIdTokenResponse(t,s,l),d=Pv(s);return new Qa({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Pv(s);return new Qa({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Pv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Ki{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new $c(t,n,s,l)}}function iT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,t,s):c})}async function YI(r,t,n=!1){const s=await Ml(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Qa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(r,t,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(Nr(s));const l="reauthenticate";try{const c=await Ml(r,iT(s,l,t,r),n);vt(c.idToken,s,"internal-error");const d=qg(c.idToken);vt(d,s,"internal-error");const{sub:m}=d;return vt(r.uid===m,s,"user-mismatch"),Qa._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&jn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(r,t,n=!1){if(Un(r.app))return Promise.reject(Nr(r));const s="signIn",l=await iT(r,s,t),c=await Qa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function WI(r,t){return rT(to(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r){const t=to(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ZI(r,t,n){return Un(r.app)?Promise.reject(Nr(r)):WI(mn(r),eo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$I(r),s})}function JI(r,t,n,s){return mn(r).onIdTokenChanged(t,n,s)}function tC(r,t,n){return mn(r).beforeAuthStateChanged(t,n)}function eC(r,t,n,s){return mn(r).onAuthStateChanged(t,n,s)}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=1e3,iC=10;class aT extends sT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$E(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);SI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,iC):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}aT.type="LOCAL";const rC=aT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends sT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}oT.type="SESSION";const lT=oT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new ph(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(d).map(async y=>y(n.origin,c)),p=await sC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const y=Qg("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const C=I;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(C.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function oC(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function lC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uC(){return navigator?.serviceWorker?.controller||null}function cC(){return uT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firebaseLocalStorageDb",hC=1,Jc="firebaseLocalStorage",hT="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(r,t){return r.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function fC(){const r=indexedDB.deleteDatabase(cT);return new Fl(r).toPromise()}function og(){const r=indexedDB.open(cT,hC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Jc,{keyPath:hT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Jc)?t(s):(s.close(),await fC(),t(await og()))})})}async function kv(r,t,n){const s=yh(r,!0).put({[hT]:t,value:n});return new Fl(s).toPromise()}async function dC(r,t){const n=yh(r,!1).get(t),s=await new Fl(n).toPromise();return s===void 0?null:s.value}function Uv(r,t){const n=yh(r,!0).delete(t);return new Fl(n).toPromise()}const gC=800,mC=3;class fT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>mC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(cC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await og();return await kv(t,Zc,"1"),await Uv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>kv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>dC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=yh(l,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fT.type="LOCAL";const pC=fT;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(r,t){return t?ji(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends Gg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _C(r){return rT(r.auth,new Yg(r),r.bypassAuthState)}function vC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),XI(n,new Yg(r),r.bypassAuthState)}async function EC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),YI(n,new Yg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:m}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _C;case"linkViaPopup":case"linkViaRedirect":return EC;case"reauthViaPopup":case"reauthViaRedirect":return vC;default:jn(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Hl(2e3,1e4);class Ma extends dT{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,TC.get())};t()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="pendingRedirect",xc=new Map;class AC extends dT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const s=await bC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bC(r,t){const n=IC(t),s=RC(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function wC(r,t){xc.set(r._key(),t)}function RC(r){return ji(r._redirectPersistence)}function IC(r){return Dc(SC,r.config.apiKey,r.name)}async function CC(r,t,n=!1){if(Un(r.app))return Promise.reject(Nr(r));const s=to(r),l=yC(s,t),d=await new AC(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=10*60*1e3;class xC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!OC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!gT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ui(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(t))}saveEventToCache(t){this.cachedEventUids.add(Lv(t)),this.lastProcessedEventTime=Date.now()}}function Lv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function gT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function OC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(r,t={}){return zr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VC=/^https?/;async function PC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await NC(r);for(const n of t)try{if(kC(n))return}catch{}jn(r,"unauthorized-domain")}function kC(r){const t=sg(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!VC.test(n))return!1;if(MC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Hl(3e4,6e4);function zv(){const r=ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function LC(r){return new Promise((t,n)=>{function s(){zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(ui(r,"network-request-failed"))},timeout:UC.get()})}if(ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ci().gapi?.load)s();else{const l=OI("iframefcb");return ci()[l]=()=>{gapi.load?s():n(ui(r,"network-request-failed"))},JE(`${xI()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Oc=null,t})}let Oc=null;function zC(r){return Oc=Oc||LC(r),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new Hl(5e3,15e3),BC="__/auth/iframe",HC="emulator/auth/iframe",qC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GC(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Hg(t,HC):`https://${r.config.authDomain}/${BC}`,s={apiKey:t.apiKey,appName:r.name,v:Xa},l=FC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${kl(s).slice(1)}`}async function KC(r){const t=await zC(r),n=ci().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:GC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ui(r,"network-request-failed"),m=ci().setTimeout(()=>{c(d)},jC.get());function p(){ci().clearTimeout(m),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YC=500,XC=600,WC="_blank",$C="http://localhost";class jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZC(r,t,n,s=YC,l=XC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...QC,width:s.toString(),height:l.toString(),top:c,left:d},y=We().toLowerCase();n&&(m=KE(y)?WC:n),FE(y)&&(t=t||$C,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[q,Z])=>`${C}${q}=${Z},`,"");if(TI(y)&&m!=="_self")return JC(t||"",m),new jv(null);const I=window.open(t||"",m,T);vt(I,r,"popup-blocked");try{I.focus()}catch{}return new jv(I)}function JC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="__/auth/handler",e2="emulator/auth/handler",n2=encodeURIComponent("fac");async function Bv(r,t,n,s,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Xa,eventId:l};if(t instanceof nT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",AS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,I]of Object.entries({}))d[T]=I}if(t instanceof ql){const T=t.getScopes().filter(I=>I!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const m=d;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${n2}=${encodeURIComponent(p)}`:"";return`${i2(r)}?${kl(m).slice(1)}${y}`}function i2({config:r}){return r.emulator?Hg(r,e2):`https://${r.authDomain}/${t2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class r2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lT,this._completeRedirectFn=CC,this._overrideRedirectResult=wC}async _openPopup(t,n,s,l){Gi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Bv(t,n,s,sg(),l);return ZC(t,c,Qg())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await Bv(t,n,s,sg(),l);return oC(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Gi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await KC(t),s=new xC(t);return n.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(kd,{type:kd},l=>{const c=l?.[0]?.[kd];c!==void 0&&n(!!c),jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return $E()||GE()||Fg()}}const s2=r2;var Hv="@firebase/auth",qv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l2(r){ja(new Cs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZE(r)},y=new II(s,l,c,p);return UI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ja(new Cs("auth-internal",t=>{const n=to(t.getProvider("auth").getImmediate());return(s=>new a2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(Hv,qv,o2(r)),xr(Hv,qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=5*60,c2=Jv("authIdTokenMaxAge")||u2;let Fv=null;const h2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>c2)return;const l=n?.token;Fv!==l&&(Fv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function f2(r=s0()){const t=hg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=kI(r,{popupRedirectResolver:s2,persistence:[pC,rC,lT]}),s=Jv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=h2(c.toString());tC(n,d,()=>d(n.currentUser)),JI(n,m=>d(m))}}const l=$v("auth");return l&&LI(n,`http://${l}`),n}function d2(){return document.getElementsByTagName("head")?.[0]??document}CI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=ui("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",d2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l2("Browser");function g2({title:r,pageLabel:t}){const n=s=>{const l=s.getDate(),c=s.getMonth()+1,d=s.getFullYear();return`${l.toString().padStart(2,"0")}.${c.toString().padStart(2,"0")}.${d}`};return x.jsxs("div",{style:{background:"#FFCC00",padding:"18px 32px 10px 32px",borderRadius:"10px",marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",fontFamily:"'Inter', Arial, sans-serif"},children:[x.jsxs("div",{children:[x.jsx("h1",{style:{color:"#D40511",fontSize:32,margin:0,fontWeight:700},children:r}),x.jsx("div",{style:{color:"#D40511",fontSize:16,fontStyle:"italic",marginTop:2,fontWeight:400},children:"Excellence. Simply delivered."})]}),x.jsx("div",{style:{color:"#D40511",fontWeight:600,fontSize:18,marginTop:8},children:n(new Date)})]})}function m2({name:r,value:t,target:n,period:s,higherIsBetter:l,achieved:c,diffPercent:d,onEdit:m,onDelete:p,onMoveUp:y,onMoveDown:T,editable:I,isFirst:C,isLast:q,isPercentage:Z=!1}){const[st,J]=Wt.useState(!1),[et,nt]=Wt.useState({name:r,value:t,target:n,period:s,higherIsBetter:l,isPercentage:Z||!1});function rt(){m(et),J(!1)}const ot=F=>et.isPercentage?`${F}%`:F;return x.jsxs("div",{style:{borderLeft:`4px solid ${c?"green":"red"}`,background:"#f8f9fa",padding:14,borderRadius:8,margin:"8px 0",textAlign:"center",minWidth:120,position:"relative",fontFamily:"'Inter', Arial, sans-serif"},tabIndex:0,"aria-label":`Edit KPI ${r}`,children:[st?x.jsxs("div",{children:[x.jsx("input",{value:et.name,onChange:F=>nt({...et,name:F.target.value}),style:{fontWeight:700,fontSize:16,width:"90%"},placeholder:"KPI Name"}),x.jsxs("div",{style:{margin:"6px 0"},children:[x.jsx("input",{type:"number",value:et.value,onChange:F=>nt({...et,value:Number(F.target.value)}),style:{fontSize:16,width:"44%",margin:3},placeholder:"Current"}),x.jsx("span",{style:{fontSize:13},children:" / "}),x.jsx("input",{type:"number",value:et.target,onChange:F=>nt({...et,target:Number(F.target.value)}),style:{fontSize:16,width:"44%",margin:3},placeholder:"Target"})]}),x.jsxs("select",{value:et.period,onChange:F=>nt({...et,period:F.target.value}),style:{width:"90%",marginTop:2},children:[x.jsx("option",{value:"permanent",children:"Permanent"}),x.jsx("option",{value:"weekly",children:"Weekly"}),x.jsx("option",{value:"daily",children:"Daily"}),x.jsx("option",{value:"mtd",children:"Month to Date (MTD)"}),x.jsx("option",{value:"ytd",children:"Year to Date (YTD)"})]}),x.jsxs("select",{value:et.higherIsBetter?"higher":"lower",onChange:F=>nt({...et,higherIsBetter:F.target.value==="higher"}),style:{width:"90%",marginTop:4},children:[x.jsx("option",{value:"higher",children:"Higher is better"}),x.jsx("option",{value:"lower",children:"Lower is better"})]}),x.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:4,fontSize:13,cursor:"pointer"},children:[x.jsx("input",{type:"checkbox",checked:et.isPercentage,onChange:F=>nt({...et,isPercentage:F.target.checked}),style:{marginRight:6}}),"Show as percentage (%)"]}),x.jsxs("div",{style:{marginTop:7},children:[x.jsx("button",{onClick:rt,style:{background:"#D40511",color:"#fff",border:"none",borderRadius:4,padding:"3px 10px",marginRight:4},children:"Save"}),x.jsx("button",{onClick:()=>J(!1),style:{background:"#eee",color:"#D40511",border:"none",borderRadius:4,padding:"3px 10px"},children:"Cancel"})]})]}):x.jsxs("div",{onClick:()=>I&&J(!0),style:{cursor:I?"pointer":"default"},children:[x.jsx("div",{style:{fontWeight:700,fontSize:16},children:r}),x.jsx("div",{style:{fontSize:22,fontWeight:700,color:c?"green":"red"},children:ot(t)}),x.jsxs("div",{style:{fontSize:11,color:"#666"},children:["Target: ",ot(n)," ",x.jsxs("span",{style:{fontStyle:"italic"},children:["(",s,")"]})]}),x.jsxs("div",{style:{fontSize:13,color:c?"green":"red",marginTop:2},children:[d>0?"+":"",d,"%"]})]}),I&&!st&&x.jsxs("div",{style:{position:"absolute",top:4,right:4,display:"flex",flexDirection:"column",gap:2},children:[x.jsx("button",{onClick:p,style:{background:"rgba(0,0,0,0.05)",color:"#888",border:"none",borderRadius:"50%",width:18,height:18,cursor:"pointer",fontWeight:"bold",fontSize:12,marginBottom:2},title:"Delete KPI",children:""}),x.jsx("button",{onClick:y,disabled:C,style:{background:"rgba(0,0,0,0.05)",color:C?"#ccc":"#888",border:"none",borderRadius:"50%",width:18,height:18,cursor:C?"not-allowed":"pointer",fontWeight:"bold",fontSize:12},title:"Move Up",children:""}),x.jsx("button",{onClick:T,disabled:q,style:{background:"rgba(0,0,0,0.05)",color:q?"#ccc":"#888",border:"none",borderRadius:"50%",width:18,height:18,cursor:q?"not-allowed":"pointer",fontWeight:"bold",fontSize:12},title:"Move Down",children:""})]})]})}const mT=[{label:"1  1",rows:1,cols:1},{label:"1  2",rows:1,cols:2},{label:"1  3",rows:1,cols:3},{label:"1  4",rows:1,cols:4},{label:"2  1",rows:2,cols:1},{label:"2  2",rows:2,cols:2},{label:"2  3",rows:2,cols:3},{label:"2  4",rows:2,cols:4}],p2=mT[7],y2=Wt.forwardRef(function({editable:t,onToggleEdit:n,dashboardData:s,updateDashboardData:l},c){const[d,m]=Wt.useState(!1),p=s.kpis||[{name:"On-Time Delivery",value:98,target:95,period:"permanent",higherIsBetter:!0,isPercentage:!0},{name:"Error Rate",value:1.2,target:2,period:"permanent",higherIsBetter:!1,isPercentage:!0}],y=s.performanceLayout||p2;Wt.useImperativeHandle(c,()=>({handleAddKpi:I}));function T(nt,rt){const ot=p.map((F,ht)=>ht===nt?{...F,...rt}:F);l({kpis:ot})}function I(){const nt=y.rows*y.cols;if(p.length<nt){const rt=[...p,{name:"New KPI",value:0,target:0,period:"permanent",higherIsBetter:!0,isPercentage:!1}];l({kpis:rt})}m(!1)}function C(nt){if(p.length>1){const rt=p.filter((ot,F)=>F!==nt);l({kpis:rt})}}function q(nt,rt){const ot=[...p],[F]=ot.splice(nt,1);ot.splice(nt+rt,0,F),l({kpis:ot})}function Z(nt){const rt=nt.rows*nt.cols;let ot=p;p.length>rt&&(ot=p.slice(0,rt)),l({performanceLayout:nt,kpis:ot})}const st=y.rows*y.cols,J=[];for(let nt=0;nt<y.rows;nt++)J.push(p.slice(nt*y.cols,(nt+1)*y.cols));const et=nt=>{switch(nt){case 1:return"70%";case 2:return"45%";case 3:return"30%";case 4:return"22%";default:return"20%"}};return x.jsxs("div",{style:{fontFamily:"'Inter', Arial, sans-serif",position:"relative",height:"100%"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:4},children:[x.jsx("h2",{style:{color:"#D40511",fontWeight:700,margin:0,fontSize:22,lineHeight:"36px"},children:" Performance"}),x.jsx("button",{onClick:()=>m(nt=>!nt),style:{background:"#eee",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,cursor:"pointer"},title:"KPI Controls & Layout",children:x.jsx("span",{role:"img","aria-label":"settings",children:""})}),d&&x.jsxs("div",{style:{position:"absolute",top:44,right:0,zIndex:100,background:"#fff",border:"1px solid #ccc",borderRadius:8,boxShadow:"0 2px 8px #ddd",padding:12,minWidth:200},children:[x.jsx("div",{style:{marginBottom:12,fontWeight:600,color:"#D40511",fontSize:14},children:"KPI Layout"}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6,marginBottom:12},children:mT.map(nt=>x.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:13},children:[x.jsx("input",{type:"radio",checked:y.rows===nt.rows&&y.cols===nt.cols,onChange:()=>Z(nt),style:{marginRight:6}}),nt.label]},nt.label))}),x.jsxs("button",{onClick:I,style:{background:"#D40511",color:"#fff",border:"none",borderRadius:4,padding:"6px 14px",width:"100%",marginBottom:8},disabled:p.length>=st,children:["Add KPI (",p.length,"/",st,")"]}),x.jsx("button",{onClick:()=>{n(),m(!1)},style:{background:t?"#eee":"#D40511",color:t?"#D40511":"#fff",border:"none",borderRadius:4,padding:"6px 14px",width:"100%"},children:t?"Lock Editing":"Unlock Editing"})]})]}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16,flex:1,justifyContent:"center"},children:J.map((nt,rt)=>x.jsx("div",{style:{display:"flex",gap:16,minHeight:80,justifyContent:"center",width:"100%"},children:nt.map((ot,F)=>{const ht=ot.higherIsBetter?ot.value>=ot.target:ot.value<=ot.target,O=ot.higherIsBetter?ot.value-ot.target:ot.target-ot.value,A=ot.target!==0?(O/ot.target*100).toFixed(1):"0.0";return x.jsx("div",{style:{width:et(y.cols)},children:x.jsx(m2,{name:ot.name,value:ot.value,target:ot.target,period:ot.period,higherIsBetter:ot.higherIsBetter,achieved:ht,diffPercent:A,editable:t,isPercentage:ot.isPercentage,onEdit:b=>T(F+rt*y.cols,b),onDelete:()=>C(F+rt*y.cols),onMoveUp:()=>F+rt*y.cols>0&&q(F+rt*y.cols,-1),onMoveDown:()=>F+rt*y.cols<p.length-1&&q(F+rt*y.cols,1),isFirst:F+rt*y.cols===0,isLast:F+rt*y.cols===p.length-1})},F+rt*y.cols)})},rt))})]})});function _2({dashboardData:r,updateDashboardData:t}){const[n,s]=Wt.useState(!1),[l,c]=Wt.useState(!1),[d,m]=Wt.useState(!1),p=r.showSafety!==void 0?r.showSafety:!0,y=r.showNews!==void 0?r.showNews:!0,T=r.safetyText||"",I=r.newsText||"",C=Nc.useRef(),q=Nc.useRef(),Z=(et,nt,rt)=>{const ot=rt.current,F=ot.selectionStart,ht=ot.selectionEnd,O=et.substring(F,ht),A=et.substring(0,F),b=et.substring(ht),V=F===0||et[F-1]===`
`?" ":`
 `,P=A+V+O+b;nt(P),setTimeout(()=>{ot.focus(),ot.setSelectionRange(F+V.length,F+V.length+O.length)},0)},st=(et,nt,rt)=>{const ot=rt.current,F=ot.selectionStart,ht=et.substring(0,F),O=et.substring(F),A=ht+`

`+O;nt(A),setTimeout(()=>{ot.focus(),ot.setSelectionRange(F+2,F+2)},0)},J=({show:et,onBullet:nt,onParagraph:rt,onClose:ot})=>et&&x.jsxs("div",{style:{position:"absolute",top:30,right:0,zIndex:100,background:"#fff",border:"1px solid #ccc",borderRadius:8,boxShadow:"0 2px 8px #ddd",padding:8,minWidth:120},children:[x.jsx("button",{onClick:()=>{nt(),ot()},style:{background:"#f8f9fa",border:"1px solid #D40511",borderRadius:4,padding:"6px 12px",fontSize:12,cursor:"pointer",color:"#D40511",fontWeight:600,width:"100%",marginBottom:4},children:" Add Bullet Point"}),x.jsx("button",{onClick:()=>{rt(),ot()},style:{background:"#f8f9fa",border:"1px solid #D40511",borderRadius:4,padding:"6px 12px",fontSize:12,cursor:"pointer",color:"#D40511",fontWeight:600,width:"100%"},children:" Add Paragraph"})]});return x.jsxs("div",{style:{fontFamily:"'Inter', Arial, sans-serif",height:"100%"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:4},children:[x.jsx("h2",{style:{color:"#D40511",fontWeight:700,margin:0,fontSize:22,lineHeight:"36px"},children:" Safety & News"}),x.jsx("button",{onClick:()=>s(et=>!et),style:{background:"#eee",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,cursor:"pointer"},title:"Display Options",children:x.jsx("span",{role:"img","aria-label":"settings",children:""})}),n&&x.jsxs("div",{style:{position:"absolute",top:44,right:0,zIndex:100,background:"#fff",border:"1px solid #ccc",borderRadius:8,boxShadow:"0 2px 8px #ddd",padding:12,minWidth:180},children:[x.jsx("div",{style:{marginBottom:10,fontWeight:600,color:"#D40511",fontSize:14},children:"Display Sections"}),x.jsxs("label",{style:{display:"block",marginBottom:8,cursor:"pointer"},children:[x.jsx("input",{type:"checkbox",checked:p,onChange:et=>t({showSafety:et.target.checked}),style:{marginRight:8}})," Safety Section"]}),x.jsxs("label",{style:{display:"block",marginBottom:8,cursor:"pointer"},children:[x.jsx("input",{type:"checkbox",checked:y,onChange:et=>t({showNews:et.target.checked}),style:{marginRight:8}})," News Section"]})]})]}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,flex:1,overflow:"visible"},children:[p&&x.jsxs("div",{style:{flex:y?1:2},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:0,padding:"6px 8px",background:"#f8f9fa",border:"1px solid #D40511",borderRadius:"6px 6px 0 0",width:"calc(100% - 16px)",boxSizing:"border-box"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[x.jsx("span",{style:{fontSize:16,marginRight:8},children:""}),x.jsx("span",{style:{color:"#D40511",fontWeight:600,fontSize:14},children:"Safety"})]}),x.jsxs("div",{style:{position:"relative"},children:[x.jsx("button",{onClick:()=>c(et=>!et),style:{background:"#f8f9fa",border:"1px solid #D40511",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,cursor:"pointer",color:"#D40511"},title:"Text Formatting",children:""}),x.jsx(J,{show:l,onBullet:()=>Z(T,et=>t({safetyText:et}),C),onParagraph:()=>st(T,et=>t({safetyText:et}),C),onClose:()=>c(!1)})]})]}),x.jsx("textarea",{ref:C,value:T,onChange:et=>t({safetyText:et.target.value}),placeholder:"Enter safety information, alerts, or reminders...",style:{width:"calc(100% - 16px)",border:"1px solid #D40511",borderRadius:"0 0 6px 6px",borderTop:"none",padding:8,fontSize:12,background:"#f8f9fa",resize:"vertical",minHeight:y?"100px":"200px",lineHeight:"1.3",boxSizing:"border-box",whiteSpace:"pre-wrap",overflow:"visible"}})]}),y&&x.jsxs("div",{style:{flex:p?1:2},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:0,padding:"6px 8px",background:"#f8f9fa",border:"1px solid #D40511",borderRadius:"6px 6px 0 0",width:"calc(100% - 16px)",boxSizing:"border-box"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[x.jsx("span",{style:{fontSize:16,marginRight:8},children:""}),x.jsx("span",{style:{color:"#D40511",fontWeight:600,fontSize:14},children:"News"})]}),x.jsxs("div",{style:{position:"relative"},children:[x.jsx("button",{onClick:()=>m(et=>!et),style:{background:"#f8f9fa",border:"1px solid #D40511",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,cursor:"pointer",color:"#D40511"},title:"Text Formatting",children:""}),x.jsx(J,{show:d,onBullet:()=>Z(I,et=>t({newsText:et}),q),onParagraph:()=>st(I,et=>t({newsText:et}),q),onClose:()=>m(!1)})]})]}),x.jsx("textarea",{ref:q,value:I,onChange:et=>t({newsText:et.target.value}),placeholder:"Enter company news, updates, or announcements...",style:{width:"calc(100% - 16px)",border:"1px solid #D40511",borderRadius:"0 0 6px 6px",borderTop:"none",padding:8,fontSize:12,background:"#f8f9fa",resize:"vertical",minHeight:y&&p?"100px":"200px",lineHeight:"1.3",boxSizing:"border-box",whiteSpace:"pre-wrap",overflow:"visible"}})]}),!p&&!y&&x.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontStyle:"italic",fontSize:14},children:"Select at least one section to display content"})]})]})}function v2({dashboardData:r,updateDashboardData:t}){const n=r.ideasActions||[{idea:"Improve process",todo:"Review SOP",who:"Ana",when:"10.07",status:"In Progress"}];function s(){const p=[...n,{idea:"",todo:"",who:"",when:"",status:"In Progress"}];t({ideasActions:p})}function l(p,y,T){const I=n.map((C,q)=>q===p?{...C,[y]:T}:C);t({ideasActions:I})}function c(p){const y=n.filter((T,I)=>I!==p);t({ideasActions:y})}const d=(p,y)=>{const T=y.replace(/[^\d.]/g,"");T.length===2&&!T.includes(".")?l(p,"when",T+"."):T.length<=5&&l(p,"when",T)},m=p=>{switch(p){case"In Progress":return"#FFCC00";case"Completed":return"#28a745";default:return"#333"}};return x.jsxs("div",{style:{fontFamily:"'Inter', Arial, sans-serif",height:"100%"},children:[x.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginBottom:4},children:x.jsx("h2",{style:{color:"#D40511",fontWeight:700,fontSize:22,margin:0,lineHeight:"36px"},children:" Ideas & Actions"})}),x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",fontSize:13,tableLayout:"fixed"},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{background:"#FFCC00"},children:[x.jsx("th",{style:{padding:"8px",textAlign:"left",fontWeight:600,width:"30%"},children:"Idea"}),x.jsx("th",{style:{padding:"8px",textAlign:"left",fontWeight:600,width:"30%"},children:"To Do"}),x.jsx("th",{style:{padding:"8px",textAlign:"left",fontWeight:600,width:"16%"},children:"Who"}),x.jsx("th",{style:{padding:"8px",textAlign:"left",fontWeight:600,width:"12%"},children:"Till When"}),x.jsx("th",{style:{padding:"8px",textAlign:"left",fontWeight:600,width:"17%"},children:"Status"}),x.jsx("th",{style:{padding:"8px",textAlign:"center",fontWeight:600,width:"5%"}})]})}),x.jsx("tbody",{children:n.map((p,y)=>x.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[x.jsx("td",{style:{padding:"3px",verticalAlign:"top"},children:x.jsx("textarea",{value:p.idea,onChange:T=>l(y,"idea",T.target.value),style:{width:"100%",border:"1px solid #ddd",padding:"3px",borderRadius:"3px",resize:"vertical",fontSize:10,fontFamily:"'Inter', Arial, sans-serif",minHeight:"30px",lineHeight:"1.2",boxSizing:"border-box"},rows:2,placeholder:"Enter idea details..."})}),x.jsx("td",{style:{padding:"3px",verticalAlign:"top"},children:x.jsx("textarea",{value:p.todo,onChange:T=>l(y,"todo",T.target.value),style:{width:"100%",border:"1px solid #ddd",padding:"3px",borderRadius:"3px",resize:"vertical",fontSize:10,fontFamily:"'Inter', Arial, sans-serif",minHeight:"30px",lineHeight:"1.2",boxSizing:"border-box"},rows:2,placeholder:"Action steps required..."})}),x.jsx("td",{style:{padding:"3px",verticalAlign:"top"},children:x.jsx("input",{value:p.who,onChange:T=>l(y,"who",T.target.value),style:{width:"100%",border:"1px solid #ddd",padding:"3px",borderRadius:"3px",boxSizing:"border-box",fontSize:11,minHeight:"24px"},placeholder:"Name"})}),x.jsx("td",{style:{padding:"3px",verticalAlign:"top"},children:x.jsx("input",{type:"text",value:p.when,onChange:T=>d(y,T.target.value),style:{width:"100%",border:"1px solid #ddd",padding:"3px",borderRadius:"3px",boxSizing:"border-box",textAlign:"center",fontSize:11,minHeight:"24px"},placeholder:"dd.mm",maxLength:5})}),x.jsx("td",{style:{padding:"3px",verticalAlign:"top"},children:x.jsxs("select",{value:p.status,onChange:T=>l(y,"status",T.target.value),style:{width:"100%",border:"1px solid #ddd",padding:"3px",borderRadius:"3px",backgroundColor:m(p.status),color:p.status==="In Progress"?"#333":"#fff",fontWeight:600,boxSizing:"border-box",fontSize:11,minHeight:"30px"},children:[x.jsx("option",{value:"In Progress",children:"In Progress"}),x.jsx("option",{value:"Completed",children:"Completed"})]})}),x.jsx("td",{style:{padding:"3px",textAlign:"center",verticalAlign:"top"},children:x.jsx("button",{onClick:()=>c(y),style:{color:"#fff",background:"#D40511",border:"none",borderRadius:4,padding:"3px 5px",cursor:"pointer",fontSize:"10px",minHeight:"22px"},children:""})})]},y))})]}),x.jsx("button",{onClick:s,style:{marginTop:8,background:"#D40511",color:"#fff",border:"none",borderRadius:4,padding:"6px 12px",fontSize:13,cursor:"pointer",fontWeight:600},children:"Add Row"})]})}function E2({dashboardData:r,updateDashboardData:t}){const[n,s]=Wt.useState(!1),l=Nc.useRef(),c=r.teamNews||"",d=()=>{const p=l.current,y=p.selectionStart,T=p.selectionEnd,I=c.substring(y,T),C=c.substring(0,y),q=c.substring(T),st=y===0||c[y-1]===`
`?" ":`
 `,J=C+st+I+q;t({teamNews:J}),setTimeout(()=>{p.focus(),p.setSelectionRange(y+st.length,y+st.length+I.length)},0)},m=()=>{const p=l.current,y=p.selectionStart,T=c.substring(0,y),I=c.substring(y),C=T+`

`+I;t({teamNews:C}),setTimeout(()=>{p.focus(),p.setSelectionRange(y+2,y+2)},0)};return x.jsxs("div",{style:{fontFamily:"'Inter', Arial, sans-serif",height:"100%"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:4},children:[x.jsx("h2",{style:{color:"#D40511",fontWeight:700,margin:0,fontSize:22,lineHeight:"36px"},children:" Team News"}),x.jsxs("div",{style:{position:"relative"},children:[x.jsx("button",{onClick:()=>s(p=>!p),style:{background:"#eee",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,cursor:"pointer"},title:"Text Formatting",children:x.jsx("span",{role:"img","aria-label":"settings",children:""})}),n&&x.jsxs("div",{style:{position:"absolute",top:44,right:0,zIndex:100,background:"#fff",border:"1px solid #ccc",borderRadius:8,boxShadow:"0 2px 8px #ddd",padding:8,minWidth:140},children:[x.jsx("button",{onClick:()=>{d(),s(!1)},style:{background:"#f8f9fa",border:"1px solid #D40511",borderRadius:4,padding:"6px 12px",fontSize:12,cursor:"pointer",color:"#D40511",fontWeight:600,width:"100%",marginBottom:4},children:" Add Bullet Point"}),x.jsx("button",{onClick:()=>{m(),s(!1)},style:{background:"#f8f9fa",border:"1px solid #D40511",borderRadius:4,padding:"6px 12px",fontSize:12,cursor:"pointer",color:"#D40511",fontWeight:600,width:"100%"},children:" Add Paragraph"})]})]})]}),x.jsx("div",{style:{flex:1},children:x.jsx("textarea",{ref:l,value:c,onChange:p=>t({teamNews:p.target.value}),placeholder:"Enter team news, updates, achievements, or announcements...",style:{width:"calc(100% - 16px)",border:"1px solid #D40511",borderRadius:6,padding:8,fontSize:14,background:"#f8f9fa",resize:"vertical",height:"280px",lineHeight:"1.5",boxSizing:"border-box",whiteSpace:"pre-wrap"}})})]})}function Ud({pageKey:r,dashboardData:t,updateDashboardData:n}){const[s,l]=Wt.useState(!1),c=Nc.useRef(),d=t[r]||{selectedTopic:"Performance",showText:!0,textContent:"",uploadedImages:[]},{selectedTopic:m,showText:p,textContent:y,uploadedImages:T}=d,I=["Performance","News","Safety","Team","Other"],C=F=>{n({[r]:{...d,...F}})};Wt.useEffect(()=>{const F=ht=>{if(!ht.clipboardData)return;const O=ht.clipboardData.items;if(O)for(let A=0;A<O.length;A++){const b=O[A];if(b.type.indexOf("image")!==-1&&T.length<3){const M=b.getAsFile();if(M){const V=new FileReader;V.onload=P=>{const R={id:Date.now()+Math.random(),src:P.target.result,name:`screenshot-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.png`};C({uploadedImages:[...T,R]})},V.readAsDataURL(M),ht.preventDefault();break}}}};return document.addEventListener("paste",F),()=>{document.removeEventListener("paste",F)}},[T.length]);const q=()=>{const F=c.current,ht=F.selectionStart,O=F.selectionEnd,A=y.substring(ht,O),b=y.substring(0,ht),M=y.substring(O),P=ht===0||y[ht-1]===`
`?" ":`
 `,R=b+P+A+M;C({textContent:R}),setTimeout(()=>{F.focus(),F.setSelectionRange(ht+P.length,ht+P.length+A.length)},0)},Z=()=>{const F=c.current,ht=F.selectionStart,O=y.substring(0,ht),A=y.substring(ht),b=O+`

`+A;C({textContent:b}),setTimeout(()=>{F.focus(),F.setSelectionRange(ht+2,ht+2)},0)},st=F=>{Array.from(F.target.files).forEach(O=>{if(O.type.startsWith("image/")&&T.length<3){const A=new FileReader;A.onload=b=>{const M={id:Date.now()+Math.random(),src:b.target.result,name:O.name};C({uploadedImages:[...T,M]})},A.readAsDataURL(O)}})},J=F=>{C({uploadedImages:T.filter(ht=>ht.id!==F)})},et=()=>p?"70%":"100%",nt=()=>p?"28%":"0%",rt=()=>{const F=T.length;if(F===0)return{};const ht={width:"100%",objectFit:"contain",border:"1px solid #ddd",borderRadius:8,backgroundColor:"#f8f9fa"};return F===1?{...ht,height:p?"620px":"675px",maxHeight:p?"620px":"675px"}:F===2?{...ht,height:"300px",maxHeight:"300px",marginBottom:"10px"}:F===3?{...ht,height:"200px",maxHeight:"200px",marginBottom:"8px"}:ht},ot=()=>s&&x.jsxs("div",{style:{position:"absolute",top:30,right:0,zIndex:100,background:"#fff",border:"1px solid #ccc",borderRadius:8,boxShadow:"0 2px 8px #ddd",padding:8,minWidth:120},children:[x.jsx("button",{onClick:()=>{q(),l(!1)},style:{background:"#f8f9fa",border:"1px solid #D40511",borderRadius:4,padding:"6px 12px",fontSize:12,cursor:"pointer",color:"#D40511",fontWeight:600,width:"100%",marginBottom:4},children:" Add Bullet Point"}),x.jsx("button",{onClick:()=>{Z(),l(!1)},style:{background:"#f8f9fa",border:"1px solid #D40511",borderRadius:4,padding:"6px 12px",fontSize:12,cursor:"pointer",color:"#D40511",fontWeight:600,width:"100%"},children:" Add Paragraph"})]});return x.jsxs("div",{style:{background:"#fff",border:"6px solid #FFCC00",borderRadius:14,padding:20,height:830,fontFamily:"'Inter', Arial, sans-serif",boxSizing:"border-box"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:20,paddingBottom:12,borderBottom:"2px solid #D40511"},children:[x.jsx("div",{style:{display:"flex",alignItems:"center",gap:16},children:x.jsxs("label",{style:{fontSize:18,fontWeight:700,color:"#D40511"},children:["Topic:",x.jsx("select",{value:m,onChange:F=>C({selectedTopic:F.target.value}),style:{marginLeft:8,padding:"6px 12px",borderRadius:6,border:"2px solid #D40511",fontSize:16,fontWeight:600,color:"#D40511",background:"#f8f9fa"},children:I.map(F=>x.jsx("option",{value:F,children:F},F))})]})}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[x.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[x.jsx("input",{type:"checkbox",checked:p,onChange:F=>C({showText:F.target.checked}),style:{marginRight:8}}),x.jsx("span",{style:{fontSize:14,fontWeight:600,color:"#D40511"},children:"Show Text Field"})]}),x.jsxs("label",{style:{background:"#D40511",color:"#fff",padding:"8px 16px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:[" Upload Images/Screenshots",x.jsx("input",{type:"file",multiple:!0,accept:"image/*,.png,.jpg,.jpeg,.gif,.bmp,.webp",onChange:st,style:{display:"none"}})]})]})]}),x.jsxs("div",{style:{display:"flex",gap:20,height:"calc(100% - 100px)"},children:[x.jsx("div",{style:{width:et(),display:"flex",flexDirection:"column",gap:10,height:"100%"},children:T.length===0?x.jsxs("div",{style:{border:"2px dashed #D40511",borderRadius:8,padding:40,textAlign:"center",color:"#D40511",fontSize:16,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[x.jsx("div",{style:{fontSize:48,marginBottom:16},children:""}),x.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"No images or screenshots uploaded"}),x.jsx("div",{style:{fontSize:14,marginBottom:8},children:'Click "Upload Images/Screenshots" to add files'}),x.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#D40511",marginBottom:8},children:"OR press Ctrl+V (Cmd+V) to paste from clipboard"}),x.jsxs("div",{style:{fontSize:12,color:"#666"},children:["Supports: PNG, JPG, JPEG, GIF, BMP, WebP",x.jsx("br",{}),"Maximum 3 images  Screenshots paste directly"]})]}):x.jsx("div",{style:{height:"100%",overflow:"hidden"},children:T.map((F,ht)=>x.jsxs("div",{style:{position:"relative",marginBottom:ht<T.length-1?"10px":"0",display:"flex",justifyContent:"center",alignItems:"center"},children:[x.jsx("img",{src:F.src,alt:F.name,style:rt()}),x.jsx("button",{onClick:()=>J(F.id),style:{position:"absolute",top:8,right:8,background:"#D40511",color:"#fff",border:"none",borderRadius:"50%",width:28,height:28,cursor:"pointer",fontSize:16,fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.3)"},title:"Remove image",children:""}),x.jsx("div",{style:{position:"absolute",bottom:8,left:8,background:"rgba(0,0,0,0.7)",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:F.name})]},F.id))})}),p&&x.jsxs("div",{style:{width:nt(),display:"flex",flexDirection:"column",height:"100%"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8,padding:"6px 0",borderBottom:"2px solid #D40511"},children:[x.jsx("span",{style:{color:"#D40511",fontWeight:600,fontSize:16},children:" Content Description"}),x.jsxs("div",{style:{position:"relative"},children:[x.jsx("button",{onClick:()=>l(F=>!F),style:{background:"#f8f9fa",border:"1px solid #D40511",borderRadius:"50%",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,cursor:"pointer",color:"#D40511"},title:"Text Formatting",children:""}),x.jsx(ot,{})]})]}),x.jsx("textarea",{ref:c,value:y,onChange:F=>C({textContent:F.target.value}),placeholder:"Enter detailed description, context, or additional information about the uploaded content...",style:{width:"calc(100% - 16px)",border:"1px solid #D40511",borderRadius:6,padding:8,fontSize:14,background:"#f8f9fa",resize:"vertical",height:"100%",lineHeight:"1.5",boxSizing:"border-box",whiteSpace:"pre-wrap"}})]})]})]})}const T2={apiKey:"AIzaSyBKR7HOIaS5Fn13B3O_9iNgZz9thC-g1TU",authDomain:"pd-dashboard-d4b62.firebaseapp.com",projectId:"pd-dashboard-d4b62",storageBucket:"pd-dashboard-d4b62.firebasestorage.app",messagingSenderId:"878017746594",appId:"1:878017746594:web:8c260fe1354e6ec4e3e9fb"},pT=r0(T2),Gv=UR(pT),Kv=f2(pT),Qv=410,Tc={border:"6px solid #FFCC00",borderRadius:14,padding:14,background:"#fff",boxSizing:"border-box",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"flex-start"};function S2(){const[r,t]=Wt.useState("PUD"),[n,s]=Wt.useState("dashboard"),[l,c]=Wt.useState(!0),[d,m]=Wt.useState(!1),[p,y]=Wt.useState({}),[T,I]=Wt.useState(!0),[C,q]=Wt.useState(null),[Z,st]=Wt.useState(""),[J,et]=Wt.useState(""),[nt,rt]=Wt.useState(""),[ot,F]=Wt.useState(""),ht=Wt.useRef(),O=Wt.useRef();Wt.useEffect(()=>{const Y=eC(Kv,ut=>{q(ut),I(!1)});return()=>Y()},[]),Wt.useEffect(()=>{if(!C)return;I(!0),F("");const Y=vv(Gv,"teams",r),ut=ZR(Y,St=>{if(St.exists())y(St.data()),console.log("Data loaded:",St.data());else{const D=M();bv(Y,D).then(()=>{y(D),console.log("Default data initialized")}).catch($=>{F("Failed to initialize data: "+$.message)})}I(!1)},St=>{F("Data sync error: "+St.message),I(!1)});return()=>ut()},[r,C]);const A=async()=>{try{rt(""),await ZI(Kv,Z,J)}catch(Y){rt("Login failed: "+Y.message)}},b=async Y=>{if(!C)return;const ut=vv(Gv,"teams",r);try{await bv(ut,{...p,...Y,lastUpdated:new Date().toISOString()},{merge:!0}),console.log("Data updated")}catch(St){alert("Update failed: "+St.message)}},M=()=>({kpis:[{name:"On-Time Delivery",value:98,target:95,period:"permanent",higherIsBetter:!0,isPercentage:!0},{name:"Error Rate",value:1.2,target:2,period:"permanent",higherIsBetter:!1,isPercentage:!0}],performanceLayout:{rows:2,cols:4,label:"2  4"},showSafety:!0,showNews:!0,safetyText:"",newsText:"",ideasActions:[{idea:"Improve process",todo:"Review SOP",who:"Ana",when:"10.07",status:"In Progress"}],teamNews:"",additionalContent1:{selectedTopic:"Performance",showText:!0,textContent:"",uploadedImages:[]},additionalContent2:{selectedTopic:"Performance",showText:!0,textContent:"",uploadedImages:[]},additionalContent3:{selectedTopic:"Performance",showText:!0,textContent:"",uploadedImages:[]},createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),version:"1.0"}),V=Y=>{switch(Y){case"PUD":return"PUD Performance Dialogue";case"WTH":return"WTH Performance Dialogue";case"SPV":return"SPV Performance Dialogue";case"Team4":return"Team 4 Performance Dialogue";case"Team5":return"Team 5 Performance Dialogue";case"Team6":return"Team 6 Performance Dialogue";case"Team7":return"Team 7 Performance Dialogue";default:return"DHL Performance Dialogue"}},P=()=>{const Y=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),ut=URL.createObjectURL(Y),St=document.createElement("a");St.href=ut,St.download=`PD-Dashboard-${r}-${new Date().toISOString().slice(0,10)}.json`,St.click(),URL.revokeObjectURL(ut),alert(` Data exported for ${r}!`)},R=Y=>{const ut=Y.target.files[0];if(!ut)return;const St=new FileReader;St.onload=D=>{try{const $=JSON.parse(D.target.result);b($),alert(" Data imported successfully!")}catch{alert(" Error importing data.")}},St.readAsText(ut)},Ee=Y=>{s(Y),m(!1)},te=[{value:"dashboard",label:"Dashboard"},{value:"additional1",label:"Additional Content 1"},{value:"additional2",label:"Additional Content 2"},{value:"additional3",label:"Additional Content 3"}],G=()=>te.find(Y=>Y.value===n)?.label||"Dashboard";return T?x.jsx("div",{style:{textAlign:"center",marginTop:"100px"},children:"Loading dashboard..."}):C?ot?x.jsx("div",{style:{textAlign:"center",marginTop:"100px",color:"red"},children:ot}):Object.keys(p).length===0?x.jsx("div",{style:{textAlign:"center",marginTop:"100px"},children:"No data available for this team. Try adding some content or check Firestore."}):x.jsxs("div",{ref:O,style:{width:"80%",maxWidth:"1620px",margin:"0 auto",padding:16,fontFamily:"'Inter', Arial, sans-serif"},children:[x.jsx(g2,{title:V(r)}),x.jsxs("div",{style:{marginBottom:12,display:"flex",alignItems:"center"},children:[x.jsxs("label",{style:{fontWeight:600,marginRight:16},children:["Team:",x.jsxs("select",{value:r,onChange:Y=>t(Y.target.value),style:{marginLeft:8,padding:4,borderRadius:4},children:[x.jsx("option",{value:"PUD",children:"PUD"}),x.jsx("option",{value:"WTH",children:"WTH"}),x.jsx("option",{value:"SPV",children:"SPV"}),x.jsx("option",{value:"Team4",children:"Team 4"}),x.jsx("option",{value:"Team5",children:"Team 5"}),x.jsx("option",{value:"Team6",children:"Team 6"}),x.jsx("option",{value:"Team7",children:"Team 7"})]})]}),x.jsxs("div",{style:{display:"flex",gap:8,marginLeft:12},children:[x.jsx("button",{onClick:P,style:{background:"#FFCC00",color:"#D40511",border:"1px solid #D40511",borderRadius:6,padding:"4px 8px",cursor:"pointer",fontSize:12,fontWeight:600},title:"Export team data",children:" Export"}),x.jsxs("label",{style:{background:"#FFCC00",color:"#D40511",border:"1px solid #D40511",borderRadius:6,padding:"4px 8px",cursor:"pointer",fontSize:12,fontWeight:600},children:[" Import",x.jsx("input",{type:"file",accept:".json",onChange:R,style:{display:"none"}})]})]}),x.jsxs("div",{style:{marginLeft:"auto",position:"relative"},children:[x.jsxs("button",{onClick:()=>m(Y=>!Y),style:{background:"#D40511",color:"#fff",border:"none",borderRadius:6,padding:"6px 16px",fontWeight:600,cursor:"pointer",fontSize:14,display:"flex",alignItems:"center",gap:8,minWidth:180},title:"Select page",children:[x.jsx("span",{children:G()}),x.jsx("span",{style:{fontSize:12},children:d?"":""})]}),d&&x.jsx("div",{style:{position:"absolute",top:40,right:0,zIndex:100,background:"#fff",border:"1px solid #ccc",borderRadius:8,boxShadow:"0 2px 8px #ddd",padding:8,minWidth:180},children:te.map(Y=>x.jsx("button",{onClick:()=>Ee(Y.value),style:{background:n===Y.value?"#D40511":"transparent",color:n===Y.value?"#fff":"#D40511",border:"none",borderRadius:4,padding:"8px 12px",width:"100%",textAlign:"left",cursor:"pointer",fontSize:13,fontWeight:600,marginBottom:2},onMouseEnter:ut=>{n!==Y.value&&(ut.target.style.background="#f8f9fa")},onMouseLeave:ut=>{n!==Y.value&&(ut.target.style.background="transparent")},children:Y.label},Y.value))})]})]}),n==="dashboard"&&x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gap:10,height:Qv*2+10,minHeight:Qv*2+10},children:[x.jsx("div",{style:Tc,children:x.jsx(y2,{editable:l,ref:ht,onToggleEdit:()=>c(Y=>!Y),dashboardData:p,updateDashboardData:b})}),x.jsx("div",{style:Tc,children:x.jsx(_2,{dashboardData:p,updateDashboardData:b})}),x.jsx("div",{style:Tc,children:x.jsx(v2,{dashboardData:p,updateDashboardData:b})}),x.jsx("div",{style:Tc,children:x.jsx(E2,{dashboardData:p,updateDashboardData:b})})]}),n==="additional1"&&x.jsx(Ud,{pageKey:"additionalContent1",dashboardData:p,updateDashboardData:b}),n==="additional2"&&x.jsx(Ud,{pageKey:"additionalContent2",dashboardData:p,updateDashboardData:b}),n==="additional3"&&x.jsx(Ud,{pageKey:"additionalContent3",dashboardData:p,updateDashboardData:b})]}):x.jsxs("div",{style:{maxWidth:"400px",margin:"100px auto",padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},children:[x.jsx("h2",{children:"Login to Access Dashboard"}),x.jsx("input",{type:"email",value:Z,onChange:Y=>st(Y.target.value),placeholder:"Email",style:{display:"block",margin:"10px 0",padding:"8px",width:"100%"}}),x.jsx("input",{type:"password",value:J,onChange:Y=>et(Y.target.value),placeholder:"Password",style:{display:"block",margin:"10px 0",padding:"8px",width:"100%"}}),x.jsx("button",{onClick:A,style:{padding:"10px",background:"#D40511",color:"#fff",border:"none",borderRadius:"6px",width:"100%"},children:"Login"}),nt&&x.jsx("p",{style:{color:"red"},children:nt})]})}$1.createRoot(document.getElementById("root")).render(x.jsx(Wt.StrictMode,{children:x.jsx(S2,{})}));
